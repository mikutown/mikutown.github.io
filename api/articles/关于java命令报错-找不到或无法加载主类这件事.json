{"title":"关于java命令报错 找不到或无法加载主类这件事","slug":"关于java命令报错-找不到或无法加载主类这件事","date":"2021-01-07T07:46:37.000Z","updated":"2021-01-07T11:44:24.000Z","comments":true,"path":"api/articles/关于java命令报错-找不到或无法加载主类这件事.json","excerpt":"关于java命令报错 找不到或无法加载主类这件事起因今天在配置《算法》（第四版）所需要的环境后，进行java命令+输入输出流文件时报错了！报错如图所示： [Figure] 咋回事呢？","covers":["https://gitee.com/mikutown/pic/raw/master/img/20210107155310.png","https://gitee.com/mikutown/pic/raw/master/img/20210107160102.png","https://gitee.com/mikutown/pic/raw/master/img/20210107160522.png","https://gitee.com/mikutown/pic/raw/master/img/20210107160756.png","https://gitee.com/mikutown/pic/raw/master/img/20210107162104.png","https://gitee.com/mikutown/pic/raw/master/img/20210107162251.png","https://gitee.com/mikutown/pic/raw/master/img/20210107162614.png","https://gitee.com/mikutown/pic/raw/master/img/20210107162638.png"],"content":"<h1 id=\"关于java命令报错-找不到或无法加载主类这件事\"><a href=\"#关于java命令报错-找不到或无法加载主类这件事\" class=\"headerlink\" title=\"关于java命令报错 找不到或无法加载主类这件事\"></a>关于java命令报错 找不到或无法加载主类这件事</h1><h2 id=\"起因\"><a href=\"#起因\" class=\"headerlink\" title=\"起因\"></a>起因</h2><p>今天在配置《算法》（第四版）所需要的环境后，进行java命令+输入输出流文件时报错了！报错如图所示：</p>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107155310.png\" alt=\"image-20210107155303487\" loading=\"lazy\"></p>\n<p>咋回事呢？</p>\n<a id=\"more\"></a>\n\n<h2 id=\"或许，是因为没有写包名？\"><a href=\"#或许，是因为没有写包名？\" class=\"headerlink\" title=\"或许，是因为没有写包名？\"></a>或许，是因为没有写包名？</h2><p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107160102.png\" alt=\"image-20210107160102193\" loading=\"lazy\"></p>\n<p>还是不行!!!咋回事呢？</p>\n<h2 id=\"写个HelloWorld试试？可能是java命令出问题了？\"><a href=\"#写个HelloWorld试试？可能是java命令出问题了？\" class=\"headerlink\" title=\"写个HelloWorld试试？可能是java命令出问题了？\"></a>写个HelloWorld试试？可能是java命令出问题了？</h2><p>在D盘根目录写一个Hello.java，代码如下（其实就是Helloworld啦）</p>\n<pre class=\"language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Hello</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HelloWorld\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span></code></pre>\n<p>然而运行的时候…</p>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107160522.png\" alt=\"image-20210107160522119\" loading=\"lazy\"></p>\n<p>？？？？？？怎么回事呢？</p>\n<h2 id=\"用家里的Mac的终端试试能不能写Java代码\"><a href=\"#用家里的Mac的终端试试能不能写Java代码\" class=\"headerlink\" title=\"用家里的Mac的终端试试能不能写Java代码\"></a>用家里的Mac的终端试试能不能写Java代码</h2><p>可以的，一样的代码，它就能运行，咱就不行，怎么回事呢？</p>\n<h2 id=\"干脆重新安装JDK试试\"><a href=\"#干脆重新安装JDK试试\" class=\"headerlink\" title=\"干脆重新安装JDK试试!\"></a>干脆重新安装JDK试试!</h2><h3 id=\"卸载旧的JDK\"><a href=\"#卸载旧的JDK\" class=\"headerlink\" title=\"卸载旧的JDK\"></a>卸载旧的JDK</h3><p>打开控制面板–&gt;卸载程序–&gt;找到Java开头的两个应用</p>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107160756.png\" alt=\"image-20210107160756288\" loading=\"lazy\"></p>\n<p>给他们都卸载了！</p>\n<p>把环境变量配置的JAVA_HOME,以及Path中的两个java运行路径都删除！</p>\n<h3 id=\"下载JDK\"><a href=\"#下载JDK\" class=\"headerlink\" title=\"下载JDK\"></a>下载JDK</h3><p>当然是去甲骨文官网下载啦，[官网地址](<a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\">Java SE - Downloads | Oracle Technology Network | Oracle</a>)</p>\n<p>选择合适的jdk版本的合适系统的安装包，点击下载，同意协议，登陆账户后自动开始下载</p>\n<h3 id=\"安装JDK\"><a href=\"#安装JDK\" class=\"headerlink\" title=\"安装JDK\"></a>安装JDK</h3><p>双击安装就好了</p>\n<h3 id=\"配置环境变量\"><a href=\"#配置环境变量\" class=\"headerlink\" title=\"配置环境变量\"></a>配置环境变量</h3><ol>\n<li><p>右键此电脑–&gt;属性–&gt;高级系统设置–&gt;环境变量</p>\n</li>\n<li><p>配置JAVA_HOME(在用户变量里），路径为你的java安装目录，我的安装目录如下</p>\n</li>\n</ol>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162104.png\" alt=\"image-20210107162104115\" loading=\"lazy\"></p>\n<ol start=\"3\">\n<li>配置Path（在系统变量里），路径为jdk和jre的运行目录，我的path配置如下</li>\n</ol>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162251.png\" alt=\"image-20210107162250997\" loading=\"lazy\"></p>\n<ol start=\"4\">\n<li>虽然在java1.6以上不需要配置CLASSPATH，但是因为我要配置额外的运行库，所以要在系统变量里配置完整CLASSPATH，值如下</li>\n</ol>\n<pre class=\"language-none\"><code class=\"language-none\">.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar</code></pre>\n<ol start=\"5\">\n<li>因为配置了算法第四版的运行库，所以要在CLASSPATH中添加</li>\n</ol>\n<pre class=\"language-none\"><code class=\"language-none\">;C:\\Users\\yeyun\\alsgs4\\algs4.jar</code></pre>\n<p><strong>配置结束之后，点击三次确定，打开cmd（或gitbash），输入java -version，如果不报错并显示版本，则配置成功</strong></p>\n<h2 id=\"现在再试试Helloworld能跑起来吗？\"><a href=\"#现在再试试Helloworld能跑起来吗？\" class=\"headerlink\" title=\"现在再试试Helloworld能跑起来吗？\"></a>现在再试试Helloworld能跑起来吗？</h2><p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162614.png\" alt=\"image-20210107162614489\" loading=\"lazy\"></p>\n<p>可以的，成功了！，再试试书上的示例代码可以跑起来吗？</p>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162638.png\" alt=\"image-20210107162638159\" loading=\"lazy\"></p>\n<p>可以了！</p>\n<h2 id=\"反省问题\"><a href=\"#反省问题\" class=\"headerlink\" title=\"反省问题\"></a>反省问题</h2><p>其实jdk并没有问题，因为在idea上运行代码，项目都没有任何问题的，只是在命令行的时候出了问题！那么是哪里出了问题呢？</p>\n<p>是CLASSPATH环境变量配置的问题！以前配置jdk的时候没有配置CLASSPATH，所以以前可以直接用java命令运行，但是现在因为配置了算法第四版的运行库，反而配置了CLASSPATH，但是并没有配置其它的默认的CLASSPATH，导致系统不知道你在运行java命令时的此时的.class文件的目录什么的（和.;这个环境变量内容有关系），配置之后就一切正常了！</p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>如果使用java命令运行.class文件时报错：找不到或无法加载主类，请进行如下操作：</p>\n<ol>\n<li><p>检查你运行的类是不是处于某个包内，要在这个包的上一级目录，运行这个包中的类，并且在类名之前加上包名，如<code>java top.leafii.day01.HelloWorld</code> ，这样如果可以运行，那么就是你java命令要运行的包名没有弄清楚</p>\n</li>\n<li><p>检查你的环境变量是否配置正确，如果配置了其它的CLASSPATH，那就把默认的<code>.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar</code>也加上（注意分号)</p>\n</li>\n<li><p>如果实在不知道怎么搞，就重装一遍JDK！不过一般都是上面这两个情况。</p>\n</li>\n</ol>\n","more":"<h2 id=\"或许，是因为没有写包名？\"><a href=\"#或许，是因为没有写包名？\" class=\"headerlink\" title=\"或许，是因为没有写包名？\"></a>或许，是因为没有写包名？</h2><p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107160102.png\" alt=\"image-20210107160102193\"></p>\n<p>还是不行!!!咋回事呢？</p>\n<h2 id=\"写个HelloWorld试试？可能是java命令出问题了？\"><a href=\"#写个HelloWorld试试？可能是java命令出问题了？\" class=\"headerlink\" title=\"写个HelloWorld试试？可能是java命令出问题了？\"></a>写个HelloWorld试试？可能是java命令出问题了？</h2><p>在D盘根目录写一个Hello.java，代码如下（其实就是Helloworld啦）</p>\n<pre class=\"language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Hello</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HelloWorld\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span></code></pre>\n<p>然而运行的时候…</p>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107160522.png\" alt=\"image-20210107160522119\"></p>\n<p>？？？？？？怎么回事呢？</p>\n<h2 id=\"用家里的Mac的终端试试能不能写Java代码\"><a href=\"#用家里的Mac的终端试试能不能写Java代码\" class=\"headerlink\" title=\"用家里的Mac的终端试试能不能写Java代码\"></a>用家里的Mac的终端试试能不能写Java代码</h2><p>可以的，一样的代码，它就能运行，咱就不行，怎么回事呢？</p>\n<h2 id=\"干脆重新安装JDK试试\"><a href=\"#干脆重新安装JDK试试\" class=\"headerlink\" title=\"干脆重新安装JDK试试!\"></a>干脆重新安装JDK试试!</h2><h3 id=\"卸载旧的JDK\"><a href=\"#卸载旧的JDK\" class=\"headerlink\" title=\"卸载旧的JDK\"></a>卸载旧的JDK</h3><p>打开控制面板–&gt;卸载程序–&gt;找到Java开头的两个应用</p>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107160756.png\" alt=\"image-20210107160756288\"></p>\n<p>给他们都卸载了！</p>\n<p>把环境变量配置的JAVA_HOME,以及Path中的两个java运行路径都删除！</p>\n<h3 id=\"下载JDK\"><a href=\"#下载JDK\" class=\"headerlink\" title=\"下载JDK\"></a>下载JDK</h3><p>当然是去甲骨文官网下载啦，[官网地址](<a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\">Java SE - Downloads | Oracle Technology Network | Oracle</a>)</p>\n<p>选择合适的jdk版本的合适系统的安装包，点击下载，同意协议，登陆账户后自动开始下载</p>\n<h3 id=\"安装JDK\"><a href=\"#安装JDK\" class=\"headerlink\" title=\"安装JDK\"></a>安装JDK</h3><p>双击安装就好了</p>\n<h3 id=\"配置环境变量\"><a href=\"#配置环境变量\" class=\"headerlink\" title=\"配置环境变量\"></a>配置环境变量</h3><ol>\n<li><p>右键此电脑–&gt;属性–&gt;高级系统设置–&gt;环境变量</p>\n</li>\n<li><p>配置JAVA_HOME(在用户变量里），路径为你的java安装目录，我的安装目录如下</p>\n</li>\n</ol>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162104.png\" alt=\"image-20210107162104115\"></p>\n<ol start=\"3\">\n<li>配置Path（在系统变量里），路径为jdk和jre的运行目录，我的path配置如下</li>\n</ol>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162251.png\" alt=\"image-20210107162250997\"></p>\n<ol start=\"4\">\n<li>虽然在java1.6以上不需要配置CLASSPATH，但是因为我要配置额外的运行库，所以要在系统变量里配置完整CLASSPATH，值如下</li>\n</ol>\n<pre class=\"language-none\"><code class=\"language-none\">.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar</code></pre>\n<ol start=\"5\">\n<li>因为配置了算法第四版的运行库，所以要在CLASSPATH中添加</li>\n</ol>\n<pre class=\"language-none\"><code class=\"language-none\">;C:\\Users\\yeyun\\alsgs4\\algs4.jar</code></pre>\n<p><strong>配置结束之后，点击三次确定，打开cmd（或gitbash），输入java -version，如果不报错并显示版本，则配置成功</strong></p>\n<h2 id=\"现在再试试Helloworld能跑起来吗？\"><a href=\"#现在再试试Helloworld能跑起来吗？\" class=\"headerlink\" title=\"现在再试试Helloworld能跑起来吗？\"></a>现在再试试Helloworld能跑起来吗？</h2><p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162614.png\" alt=\"image-20210107162614489\"></p>\n<p>可以的，成功了！，再试试书上的示例代码可以跑起来吗？</p>\n<p><img src=\"https://gitee.com/mikutown/pic/raw/master/img/20210107162638.png\" alt=\"image-20210107162638159\"></p>\n<p>可以了！</p>\n<h2 id=\"反省问题\"><a href=\"#反省问题\" class=\"headerlink\" title=\"反省问题\"></a>反省问题</h2><p>其实jdk并没有问题，因为在idea上运行代码，项目都没有任何问题的，只是在命令行的时候出了问题！那么是哪里出了问题呢？</p>\n<p>是CLASSPATH环境变量配置的问题！以前配置jdk的时候没有配置CLASSPATH，所以以前可以直接用java命令运行，但是现在因为配置了算法第四版的运行库，反而配置了CLASSPATH，但是并没有配置其它的默认的CLASSPATH，导致系统不知道你在运行java命令时的此时的.class文件的目录什么的（和.;这个环境变量内容有关系），配置之后就一切正常了！</p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>如果使用java命令运行.class文件时报错：找不到或无法加载主类，请进行如下操作：</p>\n<ol>\n<li><p>检查你运行的类是不是处于某个包内，要在这个包的上一级目录，运行这个包中的类，并且在类名之前加上包名，如<code>java top.leafii.day01.HelloWorld</code> ，这样如果可以运行，那么就是你java命令要运行的包名没有弄清楚</p>\n</li>\n<li><p>检查你的环境变量是否配置正确，如果配置了其它的CLASSPATH，那就把默认的<code>.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar</code>也加上（注意分号)</p>\n</li>\n<li><p>如果实在不知道怎么搞，就重装一遍JDK！不过一般都是上面这两个情况。</p>\n</li>\n</ol>","categories":[],"tags":[{"name":"Java","path":"api/tags/Java.json"}]}