<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LeafiiのBlog</title>
  
  
  <link href="https://mikutown.gitee.io/blog/atom.xml" rel="self"/>
  
  <link href="https://mikutown.gitee.io/blog/"/>
  <updated>2021-01-27T07:01:17.044Z</updated>
  <id>https://mikutown.gitee.io/blog/</id>
  
  <author>
    <name>Leafii</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>算法练习-24-如何优雅地实现字符串倒序-(1.2.7)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/27/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-24-%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%9C%B0%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%92%E5%BA%8F-(1.2.7)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/27/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-24-%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%9C%B0%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%92%E5%BA%8F-(1.2.7)/</id>
    <published>2021-01-27T06:43:25.000Z</published>
    <updated>2021-01-27T07:01:17.044Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-24-如何优雅地实现字符串倒序-1-2-7"><a href="#算法练习-24-如何优雅地实现字符串倒序-1-2-7" class="headerlink" title="算法练习-24-如何优雅地实现字符串倒序-(1.2.7)"></a>算法练习-24-如何优雅地实现字符串倒序-(1.2.7)</h1><ul><li>知识点<ul><li>字符串倒序</li><li>StringBuffer的使用</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>以下递归函数的返回值是什么？</strong></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">mystery</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">N</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> s<span class="token punctuation">;</span>    <span class="token class-name">String</span> a <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> b <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">mystery</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">mystery</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><ul><li>答案：将输入的字符串进行倒序（确实挺优雅的）</li></ul><p>用StringBuffer也可以完成相似功能哦</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ch  <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ch<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-24-如何优雅地实现字符串倒序-1-2-7&quot;&gt;&lt;a href=&quot;#算法练习-24-如何优雅地实现字符串倒序-1-2-7&quot; class=&quot;headerlink&quot; title=&quot;算法练习-24-如何优雅地实现字符串倒序-(1.2.7)&quot;&gt;&lt;/a&gt;算法练习-24-如何优雅地实现字符串倒序-(1.2.7)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;字符串倒序&lt;/li&gt;
&lt;li&gt;StringBuffer的使用&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-23-校招经典面试题之字符串的回环变位-(1.2.6)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/27/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-23-%E6%A0%A1%E6%8B%9B%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B9%8B%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%9B%9E%E7%8E%AF%E5%8F%98%E4%BD%8D-(1.2.6)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/27/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-23-%E6%A0%A1%E6%8B%9B%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B9%8B%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%9B%9E%E7%8E%AF%E5%8F%98%E4%BD%8D-(1.2.6)/</id>
    <published>2021-01-27T06:21:32.000Z</published>
    <updated>2021-01-27T06:42:27.819Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-23-校招经典面试题之字符串的回环变位-1-2-6"><a href="#算法练习-23-校招经典面试题之字符串的回环变位-1-2-6" class="headerlink" title="算法练习-23-校招经典面试题之字符串的回环变位-(1.2.6)"></a>算法练习-23-校招经典面试题之字符串的回环变位-(1.2.6)</h1><ul><li>知识点<ul><li>Java 中的字符串</li><li>回环变位</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.2.6 如果字符串 s 中的字符循环移动任意位置之后能够得到另一个字符串 t，那么 s 就被称为 t 的回环变位（circular rotation）。例如，ACTGACG 就是 TGACGAC 的一个回环变位，反之亦然。判定这个条件在基因组序列的研究中是很重要的。编写一个程序检查两个给定的字符串 s 和 t 是否互为回环变位。提示：答案只需要一行用到 indexOf()、length() 和字符串连接的代码。</strong></p><hr><p><strong>1.2.6 A string s is a circular rotation of a string t if it matches when the characters are circularly shifted by any number of positions; e.g., ACTGACG is a circular shift of TGACGAC, and vice versa. Detecting this condition is important in the study of genomic sequences. Write a program that checks whether two given strings s and t are circular</strong></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Practice01_02_06</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isCircularoation</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>t<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t <span class="token operator">+</span> t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//或者 return if (s.length() == t.length() &amp;&amp; s.concat(s).indexOf(t) != -1);</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"abcde"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> t <span class="token operator">=</span> <span class="token string">"bcdae"</span><span class="token punctuation">;</span><span class="token comment">//false</span>        <span class="token comment">//String t1 = "bcdea";//true</span>        <span class="token keyword">boolean</span> circularoation <span class="token operator">=</span> <span class="token function">isCircularoation</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>circularoation<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-23-校招经典面试题之字符串的回环变位-1-2-6&quot;&gt;&lt;a href=&quot;#算法练习-23-校招经典面试题之字符串的回环变位-1-2-6&quot; class=&quot;headerlink&quot; title=&quot;算法练习-23-校招经典面试题之字符串的回环变位-(1.2.6)&quot;&gt;&lt;/a&gt;算法练习-23-校招经典面试题之字符串的回环变位-(1.2.6)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;Java 中的字符串&lt;/li&gt;
&lt;li&gt;回环变位&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Go语言の数组与切片</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/25/Go%E8%AF%AD%E8%A8%80%E3%81%AE%E6%95%B0%E7%BB%84%E4%B8%8E%E5%88%87%E7%89%87/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/25/Go%E8%AF%AD%E8%A8%80%E3%81%AE%E6%95%B0%E7%BB%84%E4%B8%8E%E5%88%87%E7%89%87/</id>
    <published>2021-01-25T05:34:21.000Z</published>
    <updated>2021-01-27T05:36:22.376Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Go语言の数组与切片"><a href="#Go语言の数组与切片" class="headerlink" title="Go语言の数组与切片"></a>Go语言の数组与切片</h1><ul><li>本文章主要讲Go语言的数组与切片</li></ul><a id="more"></a><h2 id="为什么需要数组"><a href="#为什么需要数组" class="headerlink" title="为什么需要数组"></a>为什么需要数组</h2><ul><li><p>问题</p><p>一个养鸡场有 6 只鸡，它们的体重分别是 3kg,5kg,1kg,3.4kg,2kg,50kg 。请问这六只鸡的总体重是多少?平均体重是多少? 请你编一个程序。=》数组</p></li><li><p>使用传统方法来解决</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>hen1 <span class="token operator">:=</span> <span class="token number">3.0</span>hen2 <span class="token operator">:=</span> <span class="token number">5.0</span>hen3 <span class="token operator">:=</span> <span class="token number">1.0</span>hen4 <span class="token operator">:=</span> <span class="token number">3.4</span>hen5 <span class="token operator">:=</span> <span class="token number">2.0</span>hen6 <span class="token operator">:=</span> <span class="token number">50.0</span>totalWeight <span class="token operator">:=</span> hen1 <span class="token operator">+</span> hen2 <span class="token operator">+</span> hen3 <span class="token operator">+</span> hen4 <span class="token operator">+</span> hen5 <span class="token operator">+</span> hen6avgWeight <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%.2f"</span><span class="token punctuation">,</span> totalWeight <span class="token operator">/</span> <span class="token number">6</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"totalWeight = %v,avgWeight = %v \n"</span><span class="token punctuation">,</span> totalWeight<span class="token punctuation">,</span> avgWeight<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">totalWeight &#x3D; 64.4,avgWeight &#x3D; 10.73 </code></pre><p><strong>说明：</strong></p><ol><li>使用传统方法不利于数据的管理和维护</li><li>传统的方法不够灵活，因此我们需要引出新的数据类型：数组</li></ol></li></ul><h2 id="数组介绍"><a href="#数组介绍" class="headerlink" title="数组介绍"></a>数组介绍</h2><p>​    数组可以存放多个同一类型数据。数组也是一种数据类型，在 Go 中，数组是值类型。</p><h2 id="数组的快速入门"><a href="#数组的快速入门" class="headerlink" title="数组的快速入门"></a>数组的快速入门</h2><p>我们使用数组的方法来解决养鸡场的问题</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> hens <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token builtin">float64</span>hens<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3.0</span>hens<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5.0</span>hens<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.0</span>hens<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3.4</span>hens<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2.0</span>hens<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">50.0</span>hens<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">150.0</span>totalWeight <span class="token operator">:=</span> <span class="token number">0.0</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>hens<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>totalWeight <span class="token operator">+=</span> hens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">&#125;</span>avgWeight <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%.2f"</span><span class="token punctuation">,</span> totalWeight <span class="token operator">/</span> <span class="token function">float64</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>hens<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"totalWeight = %v,avgWeight = %v \n"</span><span class="token punctuation">,</span> totalWeight<span class="token punctuation">,</span> avgWeight<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">totalWeight &#x3D; 214.4,avgWeight &#x3D; 30.63 </code></pre><p>​    <strong>说明：</strong></p><pre><code>1. 使用数组来解决问题，程序的可维护性增加2. 方法代码更加清晰，也容易扩展</code></pre><h2 id="数组定义和内存布局"><a href="#数组定义和内存布局" class="headerlink" title="数组定义和内存布局"></a>数组定义和内存布局</h2><ul><li><p>定义</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> 数组名 <span class="token punctuation">[</span>数组大小<span class="token punctuation">]</span>数据类型<span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token comment">//赋初值</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span> <span class="token comment">//......</span></code></pre></li><li><p>数组在内存布局（重要）</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210125141838794.png" alt="image-20210125141838794" loading="lazy"></p><ul><li>对上图的总结：</li></ul><ol><li>数组的地址可以通过数组名来获取 <code>&amp;intArr</code></li><li>数组的第一个元素的地址，就是数组的首地址</li><li>数组的各个元素的地址间隔是依据数组的类型决定，比如 <code>int64-&gt;8 int32-&gt;4...</code></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> intArr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token comment">// int占8个字节</span><span class="token comment">//当我们定义完数组后，其实数组的各个元素有默认值 0</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>intArr<span class="token punctuation">)</span>intArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>intArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span>intArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>intArr<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"intArr的地址=%p intArr[0]的地址=%p intArr[1]的地址=%p intArr[2]的地址=%p \n"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>intArr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>intArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>intArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>intArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.go[0 0 0][10 20 30]intArr的地址&#x3D;0xc0000b8000 intArr[0]的地址&#x3D;0xc0000b8000 intArr[1]的地址&#x3D;0xc0000b8008 intArr[2]的地址&#x3D;0xc0000b8010 </code></pre><h2 id="数组的使用"><a href="#数组的使用" class="headerlink" title="数组的使用"></a>数组的使用</h2><ul><li>访问数组元素</li></ul><p><strong>数组名[下标]</strong> 比如：你要使用a数组的第三个元素 a[2]</p><ul><li>快速入门案例</li></ul><p>从终端循环输入5个成绩，保存到float64数组，并输出。</p><pre class="language-go" data-language="go"><code class="language-go">  <span class="token keyword">var</span> score <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">float64</span>  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"请输入第%d个元素的值\n"</span><span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">//变量数组打印</span>  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"score[%d]=%v"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.go请输入第1个元素的值5请输入第2个元素的值4请输入第3个元素的值3请输入第4个元素的值2请输入第5个元素的值1score[0]&#x3D;5      score[1]&#x3D;4      score[2]&#x3D;3      score[3]&#x3D;2      score[4]&#x3D;1 </code></pre><ul><li>四种初始化数组的方式</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//四种初始化数组的方式</span><span class="token keyword">var</span> numArr01 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"numArr01="</span><span class="token punctuation">,</span> numArr01<span class="token punctuation">)</span><span class="token keyword">var</span> numArr02 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"numArr02="</span><span class="token punctuation">,</span> numArr02<span class="token punctuation">)</span><span class="token comment">//这里的[...]是规定的写法</span><span class="token keyword">var</span> numArr03 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"numArr03="</span><span class="token punctuation">,</span> numArr03<span class="token punctuation">)</span><span class="token keyword">var</span> numArr04 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token number">999</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"numArr04="</span><span class="token punctuation">,</span> numArr04<span class="token punctuation">)</span><span class="token comment">//类型推导</span>strArr05 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"tom"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token string">"jack"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"rose"</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"strArr05="</span><span class="token punctuation">,</span>strArr05<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.gonumArr01&#x3D; [1 2 3]numArr02&#x3D; [5 6 7]numArr03&#x3D; [8 9 10]numArr04&#x3D; [900 800 999]strArr05&#x3D; [ tom jack rose]</code></pre><h2 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h2><h3 id="方式1-常规遍历"><a href="#方式1-常规遍历" class="headerlink" title="方式1-常规遍历"></a>方式1-常规遍历</h3><p>看上面的，不再赘述</p><h3 id="方式2-for-range结构遍历"><a href="#方式2-for-range结构遍历" class="headerlink" title="方式2-for-range结构遍历"></a>方式2-for-range结构遍历</h3><p>这是Go语言的独有的结构，可以用来遍历访问数组的元素。</p><ul><li>for-range的基本语法</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> array01 <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span></code></pre><p>说明</p><ol><li>第一个返回值index是数组的下标</li><li>第二个value是在该下标位置的值</li><li>他们都是仅在for循环内部可见的局部变量</li><li>遍历数组元素的时候，如果不想使用下标index，可以直接把下标index标为下划线_</li><li>index和value的名称不是固定的，即程序员可以自行指定，一般命名为index和value</li></ol><ul><li>for-range的案例</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//演示for-range遍历数组</span>heroes <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"宋江"</span><span class="token punctuation">,</span> <span class="token string">"吴用"</span><span class="token punctuation">,</span> <span class="token string">"卢俊义"</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> heroes <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i=%v v=%v"</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span> v<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"heroes[%d]=%v\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> heroes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> heroes <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"元素的值=%v\n"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.goi&#x3D;0 v&#x3D;宋江heroes[0]&#x3D;宋江i&#x3D;1 v&#x3D;吴用heroes[1]&#x3D;吴用i&#x3D;2 v&#x3D;卢俊义heroes[2]&#x3D;卢俊义元素的值&#x3D;宋江元素的值&#x3D;吴用元素的值&#x3D;卢俊义</code></pre><h2 id="数组使用的注意事项和细节"><a href="#数组使用的注意事项和细节" class="headerlink" title="数组使用的注意事项和细节"></a>数组使用的注意事项和细节</h2><ol><li>数组是多个相同类型数据的组合，一个数组一旦声明/定义了，其长度是固定的，不能动态变化</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//数组是多个相同类型数据的组合，一个数组一旦声明/定义了，其长度是固定的，不能动态变化。</span><span class="token keyword">var</span> arr01 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span>arr01<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>arr01<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token comment">//会报错</span>arr01<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.1</span> <span class="token comment">//数组类型和初始化的值的类型不匹配哦</span><span class="token comment">//其长度是固定的，不能动态变化，否则报越界</span>arr01<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">890</span> <span class="token comment">//数组不能动态增长</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>arr01<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="2"><li><p><code>var arr []int</code>这时arr就是一个slice切片，切片后面专门讲解。</p></li><li><p>数组中的元素可以是任何数据类型，包括值类型和引用类型，但是不能混用。</p></li><li><p>数组创建后，如果没有赋值，有默认值（零值）</p><pre class="language-none"><code class="language-none">数组类型数组： 默认值为 0字符串数组： 默认值为 &quot;&quot;bool数组： 默认值为false</code></pre></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> arr01 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">float32</span><span class="token keyword">var</span> arr02 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token keyword">var</span> arr03 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">bool</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"arr01=%v arr02=%v arr03=%v\n"</span><span class="token punctuation">,</span> arr01<span class="token punctuation">,</span> arr02<span class="token punctuation">,</span> arr03<span class="token punctuation">)</span></code></pre><ol start="5"><li>使用数组的步骤<ol><li>生命数组并开辟空间</li><li>给数组各个元素赋值（默认零值）</li><li>使用数组</li></ol></li><li>数组的下标是从0开始的</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> arr04 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token comment">// 0-2</span><span class="token keyword">var</span> index <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">3</span>arr04<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"tom"</span> <span class="token comment">//arr04[3]越界奥</span></code></pre><ol start="7"><li>数组下标必须在指定范围内使用，否则报panic：数组越界，比如<code>var arr [5]int</code> 则有效下标为0-4</li><li>Go的数组属值类型，在默认情况下是值传递，因此会进行值拷贝。数组见不会相互影响</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210125194444746.png" alt="image-20210125194444746" loading="lazy"></p><ol start="9"><li>如想在其它函数中，去修改原来的数组，可以使用引用传递（指针方式）</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210125194631546.png" alt="image-20210125194631546" loading="lazy"></p><ol start="10"><li>长度是数组类型的一部分，在传递函数参数时 需要考虑数组的长度，看下面的案例：</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210127073415872.png" alt="image-20210127073415872" loading="lazy"></p></li></ul><h2 id="数组的应用案例"><a href="#数组的应用案例" class="headerlink" title="数组的应用案例"></a>数组的应用案例</h2><ol><li>创建一个byte类型的26个元素的数组，分别放置’A’-‘Z’.使用for循环访问所有元素并打印出来。提示：字符数据运算’A’+1-&gt;’B’</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> arr01 <span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>arr01<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  arr01<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'A'</span> <span class="token operator">+</span> <span class="token function">byte</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token comment">//要将i转成byte类型</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>arr01<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> arr01<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.go      ABCDEFGHIJKLMNOPQRSTUVWXYZ</code></pre><ol start="2"><li>请求出一个数组的最大值，并得到对应的下标。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> intArr <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">932</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">&#125;</span>maxVal <span class="token operator">:=</span> intArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>maxValIndex <span class="token operator">:=</span> <span class="token number">0</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>intArr<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> intArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span>maxVal <span class="token punctuation">&#123;</span>maxVal <span class="token operator">=</span> intArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>maxValIndex <span class="token operator">=</span> i<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"maxVal = %v, maxValIndex = %v \n"</span><span class="token punctuation">,</span> maxVal<span class="token punctuation">,</span> maxValIndex<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.gomaxVal &#x3D; 932, maxValIndex &#x3D; 2 </code></pre><ol start="3"><li>请求出一个数组的和和平均值 for-range</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> doubleArr2 <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">float64</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> sum <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> val <span class="token operator">:=</span> <span class="token keyword">range</span> doubleArr2 <span class="token punctuation">&#123;</span>sum <span class="token operator">+=</span> val<span class="token punctuation">&#125;</span><span class="token keyword">var</span> avg <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>doubleArr2<span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"sum = %v avg = %v\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">,</span> avg<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.gosum &#x3D; 55 avg &#x3D; 5.5</code></pre><ol start="4"><li>要求：随机生成五个数，并将其反转打印，复杂应用。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token string">"time"</span><span class="token string">"math/rand"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> intArr3 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token builtin">len</span> <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>intArr3<span class="token punctuation">)</span>rand<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">UnixNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  intArr3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> rand<span class="token punctuation">.</span><span class="token function">Intn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"交换前："</span><span class="token punctuation">,</span>intArr3<span class="token punctuation">)</span><span class="token comment">//反转打印</span>temp <span class="token operator">:=</span> <span class="token number">0</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  temp <span class="token operator">=</span> intArr3<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">]</span>  intArr3<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> intArr3<span class="token punctuation">[</span>i<span class="token punctuation">]</span>  intArr3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"交换后："</span><span class="token punctuation">,</span>intArr3<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.go交换前： [76 85 22 96 35]交换后： [35 96 22 85 76] ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo02&#x2F;main  go run .&#x2F;main.go交换前： [8 60 13 96 46]交换后： [46 96 13 60 8]</code></pre><h2 id="为什么需要切片"><a href="#为什么需要切片" class="headerlink" title="为什么需要切片"></a>为什么需要切片</h2><ul><li><p>需求</p><p>我们需要一个数组用于保存学生的成绩，但是学生的个数是不确定的，怎么办？ 答案：使用切片</p></li></ul><h2 id="切片的基本介绍"><a href="#切片的基本介绍" class="headerlink" title="切片的基本介绍"></a>切片的基本介绍</h2><ol><li><p>切片的英文是 slice</p></li><li><p>切片是数组的一个引用，因此切片是引用类型，在进行传递时，遵守引用传递的机制。</p></li><li><p>切片的使用和数组类似，遍历切片、访问切片的元素和求切片长度 len(slice)都一样。 </p></li><li><p>切片的长度是可以变化的，因此切片是一个可以动态变化数组。</p></li><li><p>切片定义的基本语法:</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//var 切片名 []类型</span><span class="token comment">//比如</span><span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span></code></pre><h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2></li></ol><p>演示一个切片的基本使用：</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> intArr <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">&#125;</span><span class="token comment">//声明/定义一个切片</span><span class="token comment">//slice := intArr[1:3]</span><span class="token comment">//1. slice就是切片名</span><span class="token comment">//2. intArr[1:3]表示slice引用到intArr这个数组</span><span class="token comment">//3. 引用intArr数组的起始下标为1，最后的下标为3（但是不包含3）</span>slice <span class="token operator">:=</span> intArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"intArr:"</span><span class="token punctuation">,</span> intArr<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice 的元素是 :"</span><span class="token punctuation">,</span> slice<span class="token punctuation">)</span> <span class="token comment">// 22  33</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice的元素个数:"</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice的容量:"</span><span class="token punctuation">,</span><span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 切片的容量是可以动态变化的</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo03&#x2F;main  go run .&#x2F;main.gointArr: [1 22 33 66 99]slice 的元素是 : [22 33]slice的元素个数: 2slice的容量: 4</code></pre><h2 id="切片在内存中形式（重要）"><a href="#切片在内存中形式（重要）" class="headerlink" title="切片在内存中形式（重要）"></a>切片在内存中形式（重要）</h2><ul><li><p>基本介绍</p><p>为了让大家更加深入的理解切片，我们画图分析切片在内存中是如何布局的，这是一个非常重要的知识点：（以前面的案例来分析）</p></li><li><p>画出前面的切片内存布局</p></li></ul><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210127084544489.png" alt="image-20210127084544489" loading="lazy"></p><ul><li><p>对上面的分析图总结</p><ol><li>slice的确是一个引用类型</li><li>slice从底层来说，其实就是一个数据结构（strcut结构体）</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> slice <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>  ptr <span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span>  <span class="token builtin">len</span> <span class="token builtin">int</span>  <span class="token builtin">cap</span> <span class="token builtin">int</span><span class="token punctuation">&#125;</span></code></pre><h2 id="切片的使用"><a href="#切片的使用" class="headerlink" title="切片的使用"></a>切片的使用</h2></li><li><p>方式1</p><p>第一种方式：定义一个切片，然后让切片去引用一个已经创建好的数组，比如前面的案例就是这样的。</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> arr <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> slice <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"arr:"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice 的元素是 :"</span><span class="token punctuation">,</span> slice<span class="token punctuation">)</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice的元素个数:"</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice的容量:"</span><span class="token punctuation">,</span><span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></li><li><p>方式2</p><p>第二种方式：通过make来创建切片</p><p>基本语法：<code>var 切片名 []type = make([]type,len,[cap])</code></p><p>参数说明：type就是数据类型，len是大小，cap是指定切片容量，可选，<strong>如果你分配了cap，则要求cap&gt;=len</strong></p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>slice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>slice<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token comment">//对于切片，必须make使用</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice的size="</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice的cap="</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210127085505587.png" alt="image-20210127085505587" loading="lazy"></p><p>对上面代码的小结：</p><ol><li>通过make方式创建切片可以指定切片的大小和容量</li><li>如果没有给切片的各个元素赋值，那么就会使用默认值【int, float =&gt;0     string=&gt;””   bool=&gt;false】</li><li>通过make方式创建的切片对应的数组是由make底层维护，对外不可见，即只能通过slice去访问各个元素。</li></ol></li><li><p>方式3</p><p>第三种方式：定义一个切片，直接就指定具体数组，使用原理类似make的方式</p><p>案例演示：</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//方式3</span><span class="token comment">//第3种方式：定义一个切片，直接就指定具体数组，使用原理类似make的方式</span><span class="token keyword">var</span> strSlice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"tom"</span><span class="token punctuation">,</span> <span class="token string">"jack"</span><span class="token punctuation">,</span> <span class="token string">"mary"</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"strSlice = "</span><span class="token punctuation">,</span> strSlice<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"strSlice size = "</span><span class="token punctuation">,</span><span class="token function">len</span><span class="token punctuation">(</span>strSlice<span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"strSlice cap = "</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>strSlice<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></li><li><p>方式1和方式2的区别（面试）</p><p>方式1是直接引用数组，这个数组是事先存在的，程序员是可见的。</p><p>方式2是通过make来创建切片，make也会创建一个数组，是由切片在底层进行维护，程序员是看不见的。make创建切片的示意图：</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210127091016998.png" alt="image-20210127091016998" loading="lazy"></p></li></ul><h2 id="切片的遍历"><a href="#切片的遍历" class="headerlink" title="切片的遍历"></a>切片的遍历</h2><p>切片的遍历和数组一样，也有两种方式</p><ul><li>for循环常规方式遍历</li><li>for-range结构遍历切片</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">&#125;</span>slice <span class="token operator">:=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment">// 20,30,40</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"slice[%v] = %v\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> slice<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> i<span class="token punctuation">,</span>v <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i = %v, v = %v\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo04&#x2F;main  go run .&#x2F;main.goslice[0] &#x3D; 20   slice[1] &#x3D; 30   slice[2] &#x3D; 40i &#x3D; 0, v &#x3D; 20   i &#x3D; 1, v &#x3D; 30   i &#x3D; 2, v &#x3D; 40</code></pre><h2 id="切片的使用的注意事项和细节讨论"><a href="#切片的使用的注意事项和细节讨论" class="headerlink" title="切片的使用的注意事项和细节讨论"></a>切片的使用的注意事项和细节讨论</h2><ol><li><p>切片初始化时 var slice = arr[startIndex:endIndex]</p><pre class="language-none"><code class="language-none">说明:从 arr 数组下标为 startIndex，取到 下标为 endIndex 的元素(不含 arr[endIndex])。</code></pre></li><li><p>切片初始化时，仍然不能越界。范围在 [0-len(arr)] 之间，但是可以动态增长.</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> slice <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>end<span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token operator">></span> <span class="token keyword">var</span> slice <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token punctuation">:</span>end<span class="token punctuation">]</span><span class="token keyword">var</span> slice <span class="token operator">=</span> arr<span class="token punctuation">[</span>start<span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token operator">></span> <span class="token keyword">var</span> slice <span class="token operator">=</span> arr<span class="token punctuation">[</span>start<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token keyword">var</span> slice <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token operator">></span> <span class="token keyword">var</span> slice <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span></code></pre></li><li><p>cap是一个内置函数，用于统计切片的容量，即最大可以存放多少个元素。</p></li><li><p>切片定义完后，还不能使用，因为本身是一个空的，需要让其引用到一个数组，或者 make一个空间供切片来使用</p></li><li><p>切片可以继续切片【演示】</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">&#125;</span>slice <span class="token operator">:=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment">// 20,30,40</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"slice[%v] = %v\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> slice<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> i<span class="token punctuation">,</span>v <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i = %v, v = %v\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//定义slice2</span>  slice2 <span class="token operator">:=</span> slice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// slice [ 20, 30, 40]   [30]</span>  slice2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">// 因为arr， slice和slcie2指向的数据空间是同一个，因此slice2[0]=100</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice2 = "</span><span class="token punctuation">,</span> slice2<span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice = "</span><span class="token punctuation">,</span>slice<span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"arr = "</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre></li><li><p>用append内置函数，可以对切片进行动态追加</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> slice3 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token comment">//通过append直接给slice3追加具体的元素</span>slice3 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>slice3<span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice3="</span>，slice3<span class="token punctuation">)</span> <span class="token comment">// 100 200 300 400 500 600</span><span class="token comment">//通过append将切片slice3追加给slice3</span>slice3 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>slice3<span class="token punctuation">,</span> slice3<span class="token operator">...</span><span class="token punctuation">)</span><span class="token comment">//100 200 300 400 500 600 100 200 300 400 500 600</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice3 append slice3 = "</span><span class="token punctuation">,</span> slice3<span class="token punctuation">)</span></code></pre><p>对上面的代码的小结</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210127093344890.png" alt="image-20210127093344890" loading="lazy"></p><p>切片append操作的底层原理分析：</p><p>切片append操作的本质就是对数组扩容</p><p>go 底层会创建一下新的数组newArr(安装扩容后大小)</p><p>将 slice 原来包含的元素拷贝到新的数组 newArr<br>slice 重新引用到 newArr<br>注意 newArr 是在底层来维护的，程序员不可见.</p></li><li><p>切片的拷贝操作</p><p>切片使用copy内置函数完成拷贝，举例说明</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> slice4 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">var</span> slice5 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token function">copy</span><span class="token punctuation">(</span>slice5<span class="token punctuation">,</span> slice4<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice4="</span><span class="token punctuation">,</span> slice4<span class="token punctuation">)</span><span class="token comment">// 1 , 2, 3 , 4 , 5</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice5="</span><span class="token punctuation">,</span> slice5<span class="token punctuation">)</span><span class="token comment">// 1 ,2, 3,4,5,0,0,0,0,0</span></code></pre><p><strong>对上面代码的说明：</strong></p><ol><li> copy(para1, para2) 参数的数据类型是切片</li><li>按照上面的代码来看, slice4 和 slice5 的数据空间是独立，相互不影响，也就是说 slice4[0]= 999,slice5[0] 仍然是 1</li></ol></li><li><p>关于拷贝的注意事项</p><ul><li>下面的代码又没有错误？</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token comment">// [0]</span><span class="token function">copy</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span>a<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span></code></pre><p>**上面的代码没有问题，可以运行，最后输出的是[1]</p></li><li><p>切片是引用类型，所以在传递时，遵守引用传递机制。看两段代码，并分析底层原理<img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210127132312369.png" alt="image-20210127132312369" loading="lazy"></p></li></ol><h2 id="string和slice"><a href="#string和slice" class="headerlink" title="string和slice"></a>string和slice</h2><ol><li>string底层是一个byte数组，因此string也可以进行切片处理案例演示:</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//string底层是一个byte数组，因此string也可以进行切片处理</span>  str <span class="token operator">:=</span> <span class="token string">"hello@atguigu"</span>  <span class="token comment">//使用切片获取到 atguigu</span>  slice <span class="token operator">:=</span> str<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token punctuation">]</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"slice="</span><span class="token punctuation">,</span>slice<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="2"><li>string和切片在内存的形式，以”abcd”画出内存示意图</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210127132541123.png" alt="image-20210127132541123" loading="lazy"></p><ol start="3"><li>string是不可变的，也就是说不能通过str[0]=’z’方式来修改字符串</li></ol><pre class="language-go" data-language="go"><code class="language-go">str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'z'</span> <span class="token comment">//编译不会通过，会报错，因为string是不可变的</span></code></pre><ol start="4"><li>如果需要修改字符串，可以先将string -&gt; []byte  或者 []rune -&gt; 修改 -&gt; 重写转成string</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//如果需要修改字符串，可以先将string -> []byte  或者 []rune -> 修改 -> 重写转成string</span><span class="token comment">//"hello@atguigu"=>改成"zello@atguigu"</span>str <span class="token operator">:=</span> <span class="token string">"hello@atguigu"</span>arr1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'z'</span>str <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"str="</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token comment">//细节，我们转成[]byte后，可以处理英文和数字，但是不能处理中文</span><span class="token comment">//原因：[]byte字节来处理string中的字符，而一个汉子是3个字节，因此会出现乱码</span><span class="token comment">//解决方法：将string转成[]rune即可，因为[]rune是按字符处理，兼容汉字</span>arr1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'北'</span>str <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"str="</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span></code></pre><h2 id="切片的课堂练习"><a href="#切片的课堂练习" class="headerlink" title="切片的课堂练习"></a>切片的课堂练习</h2><p><strong>题目</strong>：编写一个函数fbn(n int)，要求完成</p><ol><li>可以接收一个 n int</li><li>能够将斐波那契的数列放到切片中</li><li>提示, 斐波那契的数列形式:</li></ol><p><code>arr[0] = 1; arr[1] = 1; arr[2]=2; arr[3] = 3; arr[4]=5; arr[5]=8</code></p><ul><li>代码+思路：</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">fbn</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">uint64</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//声明一个切片，切片大小n</span>  fbnSlice <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">uint64</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>  <span class="token comment">//第一个数和第二个数的斐波那契数为1</span>  fbnSlice<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  fbnSlice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment">//进行for循环存放斐波那契数列</span>  <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>    fbnSlice<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> fbnSlice<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> fbnSlice<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> fbnSlice<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  fnbSlice <span class="token operator">:=</span> <span class="token function">fbn</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"fnbSlice="</span><span class="token punctuation">,</span> fnbSlice<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter07&#x2F;demo04&#x2F;main  go run .&#x2F;main.gofnbSlice&#x3D; [1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765]</code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;Go语言の数组与切片&quot;&gt;&lt;a href=&quot;#Go语言の数组与切片&quot; class=&quot;headerlink&quot; title=&quot;Go语言の数组与切片&quot;&gt;&lt;/a&gt;Go语言の数组与切片&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;本文章主要讲Go语言的数组与切片&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="Go" scheme="https://mikutown.gitee.io/blog/tags/Go/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-22-Java中的字符串源码分析(1.2.4-1.2.5)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/25/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-22-Java%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-(1.2.4-1.2.5)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/25/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-22-Java%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-(1.2.4-1.2.5)/</id>
    <published>2021-01-25T03:05:06.000Z</published>
    <updated>2021-01-25T05:19:30.813Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-22-Java中的字符串源码分析-1-2-4-1-2-5"><a href="#算法练习-22-Java中的字符串源码分析-1-2-4-1-2-5" class="headerlink" title="算法练习-22-Java中的字符串源码分析(1.2.4-1.2.5)"></a>算法练习-22-Java中的字符串源码分析(1.2.4-1.2.5)</h1><ul><li>知识点<ul><li>Java中的字符串</li><li>字符串常量</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><h3 id="1-2-4以下这段代码会打印出什么？"><a href="#1-2-4以下这段代码会打印出什么？" class="headerlink" title="1.2.4以下这段代码会打印出什么？"></a><strong>1.2.4以下这段代码会打印出什么？</strong></h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> string1 <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> string2 <span class="token operator">=</span> string1<span class="token punctuation">;</span>        string1 <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></code></pre><ul><li>打印结果：</li></ul><pre class="language-none"><code class="language-none">worldhello</code></pre><h3 id="1-2-5以下这段代码会打印出什么？"><a href="#1-2-5以下这段代码会打印出什么？" class="headerlink" title="1.2.5以下这段代码会打印出什么？"></a>1.2.5以下这段代码会打印出什么？</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><p>分析 </p><p>只是截取了String类型的s，但是s本身没有改变哦 所以还是打印本来的值</p></li></ul><pre class="language-none"><code class="language-none">Hello World</code></pre><h2 id="附录：String方法常用API"><a href="#附录：String方法常用API" class="headerlink" title="附录：String方法常用API"></a>附录：String方法常用API</h2><p><img src="https://gitee.com/mikutown/pic/raw/master/img/d98257d1697a3e7e8ed0c0f7ffacfd95.png" alt="img" loading="lazy"></p><p>附上String源码：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">/* * Copyright (c) 1994, 2013, Oracle and/or its affiliates. All rights reserved. * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms. * * * * * * * * * * * * * * * * * * * * */</span><span class="token keyword">package</span> <span class="token namespace">java<span class="token punctuation">.</span>lang</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ObjectStreamField</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">UnsupportedEncodingException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">Charset</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Comparator</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Formatter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Locale</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StringJoiner</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token class-name">Matcher</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token class-name">Pattern</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token class-name">PatternSyntaxException</span><span class="token punctuation">;</span><span class="token comment">/** * The &#123;@code String&#125; class represents character strings. All * string literals in Java programs, such as &#123;@code "abc"&#125;, are * implemented as instances of this class. * &lt;p> * Strings are constant; their values cannot be changed after they * are created. String buffers support mutable strings. * Because String objects are immutable they can be shared. For example: * &lt;blockquote>&lt;pre> *     String str = "abc"; * &lt;/pre>&lt;/blockquote>&lt;p> * is equivalent to: * &lt;blockquote>&lt;pre> *     char data[] = &#123;'a', 'b', 'c'&#125;; *     String str = new String(data); * &lt;/pre>&lt;/blockquote>&lt;p> * Here are some more examples of how strings can be used: * &lt;blockquote>&lt;pre> *     System.out.println("abc"); *     String cde = "cde"; *     System.out.println("abc" + cde); *     String c = "abc".substring(2,3); *     String d = cde.substring(1, 2); * &lt;/pre>&lt;/blockquote> * &lt;p> * The class &#123;@code String&#125; includes methods for examining * individual characters of the sequence, for comparing strings, for * searching strings, for extracting substrings, and for creating a * copy of a string with all characters translated to uppercase or to * lowercase. Case mapping is based on the Unicode Standard version * specified by the &#123;@link java.lang.Character Character&#125; class. * &lt;p> * The Java language provides special support for the string * concatenation operator (&amp;nbsp;+&amp;nbsp;), and for conversion of * other objects to strings. String concatenation is implemented * through the &#123;@code StringBuilder&#125;(or &#123;@code StringBuffer&#125;) * class and its &#123;@code append&#125; method. * String conversions are implemented through the method * &#123;@code toString&#125;, defined by &#123;@code Object&#125; and * inherited by all classes in Java. For additional information on * string concatenation and conversion, see Gosling, Joy, and Steele, * &lt;i>The Java Language Specification&lt;/i>. * * &lt;p> Unless otherwise noted, passing a &lt;tt>null&lt;/tt> argument to a constructor * or method in this class will cause a &#123;@link NullPointerException&#125; to be * thrown. * * &lt;p>A &#123;@code String&#125; represents a string in the UTF-16 format * in which &lt;em>supplementary characters&lt;/em> are represented by &lt;em>surrogate * pairs&lt;/em> (see the section &lt;a href="Character.html#unicode">Unicode * Character Representations&lt;/a> in the &#123;@code Character&#125; class for * more information). * Index values refer to &#123;@code char&#125; code units, so a supplementary * character uses two positions in a &#123;@code String&#125;. * &lt;p>The &#123;@code String&#125; class provides methods for dealing with * Unicode code points (i.e., characters), in addition to those for * dealing with Unicode code units (i.e., &#123;@code char&#125; values). * * @author  Lee Boynton * @author  Arthur van Hoff * @author  Martin Buchholz * @author  Ulf Zibis * @see     java.lang.Object#toString() * @see     java.lang.StringBuffer * @see     java.lang.StringBuilder * @see     java.nio.charset.Charset * @since   JDK1.0 */</span><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">String</span>    <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">,</span> <span class="token class-name">CharSequence</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/** The value is used for character storage. */</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">char</span> value<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">/** Cache the hash code for the string */</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> hash<span class="token punctuation">;</span> <span class="token comment">// Default to 0</span>    <span class="token comment">/** use serialVersionUID from JDK 1.0.2 for interoperability */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">6849794470754667710L</span><span class="token punctuation">;</span>    <span class="token comment">/**     * Class String is special cased within the Serialization Stream Protocol.     *     * A String instance is written into an ObjectOutputStream according to     * &lt;a href="&#123;@docRoot&#125;/../platform/serialization/spec/output.html">     * Object Serialization Specification, Section 6.2, "Stream Elements"&lt;/a>     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">ObjectStreamField</span><span class="token punctuation">[</span><span class="token punctuation">]</span> serialPersistentFields <span class="token operator">=</span>        <span class="token keyword">new</span> <span class="token class-name">ObjectStreamField</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">/**     * Initializes a newly created &#123;@code String&#125; object so that it represents     * an empty character sequence.  Note that use of this constructor is     * unnecessary since Strings are immutable.     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Initializes a newly created &#123;@code String&#125; object so that it represents     * the same sequence of characters as the argument; in other words, the     * newly created string is a copy of the argument string. Unless an     * explicit copy of &#123;@code original&#125; is needed, use of this constructor is     * unnecessary since Strings are immutable.     *     * @param  original     *         A &#123;@code String&#125;     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token class-name">String</span> original<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> original<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>hash <span class="token operator">=</span> original<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Allocates a new &#123;@code String&#125; so that it represents the sequence of     * characters currently contained in the character array argument. The     * contents of the character array are copied; subsequent modification of     * the character array does not affect the newly created string.     *     * @param  value     *         The initial value of the string     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">char</span> value<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Allocates a new &#123;@code String&#125; that contains characters from a subarray     * of the character array argument. The &#123;@code offset&#125; argument is the     * index of the first character of the subarray and the &#123;@code count&#125;     * argument specifies the length of the subarray. The contents of the     * subarray are copied; subsequent modification of the character array does     * not affect the newly created string.     *     * @param  value     *         Array that is the source of characters     *     * @param  offset     *         The initial offset     *     * @param  count     *         The length     *     * @throws  IndexOutOfBoundsException     *          If the &#123;@code offset&#125; and &#123;@code count&#125; arguments index     *          characters outside the bounds of the &#123;@code value&#125; array     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">char</span> value<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">&lt;=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// Note: offset or count might be near -1>>>1.</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">></span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>offset <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> offset<span class="token operator">+</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Allocates a new &#123;@code String&#125; that contains characters from a subarray     * of the &lt;a href="Character.html#unicode">Unicode code point&lt;/a> array     * argument.  The &#123;@code offset&#125; argument is the index of the first code     * point of the subarray and the &#123;@code count&#125; argument specifies the     * length of the subarray.  The contents of the subarray are converted to     * &#123;@code char&#125;s; subsequent modification of the &#123;@code int&#125; array does not     * affect the newly created string.     *     * @param  codePoints     *         Array that is the source of Unicode code points     *     * @param  offset     *         The initial offset     *     * @param  count     *         The length     *     * @throws  IllegalArgumentException     *          If any invalid Unicode code point is found in &#123;@code     *          codePoints&#125;     *     * @throws  IndexOutOfBoundsException     *          If the &#123;@code offset&#125; and &#123;@code count&#125; arguments index     *          characters outside the bounds of the &#123;@code codePoints&#125; array     *     * @since  1.5     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> codePoints<span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">&lt;=</span> codePoints<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// Note: offset or count might be near -1>>>1.</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">></span> codePoints<span class="token punctuation">.</span>length <span class="token operator">-</span> count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>offset <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">final</span> <span class="token keyword">int</span> end <span class="token operator">=</span> offset <span class="token operator">+</span> count<span class="token punctuation">;</span>        <span class="token comment">// Pass 1: Compute precise size of char[]</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> count<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> offset<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> c <span class="token operator">=</span> codePoints<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isBmpCodePoint</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isValidCodePoint</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>                n<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// Pass 2: Allocate and fill in char[]</span>        <span class="token keyword">final</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> offset<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> c <span class="token operator">=</span> codePoints<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isBmpCodePoint</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>                v<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>c<span class="token punctuation">;</span>            <span class="token keyword">else</span>                <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toSurrogates</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> v<span class="token punctuation">,</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> v<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Allocates a new &#123;@code String&#125; constructed from a subarray of an array     * of 8-bit integer values.     *     * &lt;p> The &#123;@code offset&#125; argument is the index of the first byte of the     * subarray, and the &#123;@code count&#125; argument specifies the length of the     * subarray.     *     * &lt;p> Each &#123;@code byte&#125; in the subarray is converted to a &#123;@code char&#125; as     * specified in the method above.     *     * @deprecated This method does not properly convert bytes into characters.     * As of JDK&amp;nbsp;1.1, the preferred way to do this is via the     * &#123;@code String&#125; constructors that take a &#123;@link     * java.nio.charset.Charset&#125;, charset name, or that use the platform's     * default charset.     *     * @param  ascii     *         The bytes to be converted to characters     *     * @param  hibyte     *         The top 8 bits of each 16-bit Unicode code unit     *     * @param  offset     *         The initial offset     * @param  count     *         The length     *     * @throws  IndexOutOfBoundsException     *          If the &#123;@code offset&#125; or &#123;@code count&#125; argument is invalid     *     * @see  #String(byte[], int)     * @see  #String(byte[], int, int, java.lang.String)     * @see  #String(byte[], int, int, java.nio.charset.Charset)     * @see  #String(byte[], int, int)     * @see  #String(byte[], java.lang.String)     * @see  #String(byte[], java.nio.charset.Charset)     * @see  #String(byte[])     */</span>    <span class="token annotation punctuation">@Deprecated</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> ascii<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> hibyte<span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">checkBounds</span><span class="token punctuation">(</span>ascii<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> value<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>hibyte <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> count<span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ascii<span class="token punctuation">[</span>i <span class="token operator">+</span> offset<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            hibyte <span class="token operator">&lt;&lt;=</span> <span class="token number">8</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> count<span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span>hibyte <span class="token operator">|</span> <span class="token punctuation">(</span>ascii<span class="token punctuation">[</span>i <span class="token operator">+</span> offset<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Allocates a new &#123;@code String&#125; containing characters constructed from     * an array of 8-bit integer values. Each character &lt;i>c&lt;/i>in the     * resulting string is constructed from the corresponding component     * &lt;i>b&lt;/i> in the byte array such that:     *     * &lt;blockquote>&lt;pre>     *     &lt;b>&lt;i>c&lt;/i>&lt;/b> == (char)(((hibyte &amp;amp; 0xff) &amp;lt;&amp;lt; 8)     *                         | (&lt;b>&lt;i>b&lt;/i>&lt;/b> &amp;amp; 0xff))     * &lt;/pre>&lt;/blockquote>     *     * @deprecated  This method does not properly convert bytes into     * characters.  As of JDK&amp;nbsp;1.1, the preferred way to do this is via the     * &#123;@code String&#125; constructors that take a &#123;@link     * java.nio.charset.Charset&#125;, charset name, or that use the platform's     * default charset.     *     * @param  ascii     *         The bytes to be converted to characters     *     * @param  hibyte     *         The top 8 bits of each 16-bit Unicode code unit     *     * @see  #String(byte[], int, int, java.lang.String)     * @see  #String(byte[], int, int, java.nio.charset.Charset)     * @see  #String(byte[], int, int)     * @see  #String(byte[], java.lang.String)     * @see  #String(byte[], java.nio.charset.Charset)     * @see  #String(byte[])     */</span>    <span class="token annotation punctuation">@Deprecated</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> ascii<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> hibyte<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">(</span>ascii<span class="token punctuation">,</span> hibyte<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> ascii<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/* Common private utility method used to bounds check the byte array     * and requested offset &amp; length values used by the String(byte[],..)     * constructors.     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">checkBounds</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">></span> bytes<span class="token punctuation">.</span>length <span class="token operator">-</span> length<span class="token punctuation">)</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>offset <span class="token operator">+</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Constructs a new &#123;@code String&#125; by decoding the specified subarray of     * bytes using the specified charset.  The length of the new &#123;@code String&#125;     * is a function of the charset, and hence may not be equal to the length     * of the subarray.     *     * &lt;p> The behavior of this constructor when the given bytes are not valid     * in the given charset is unspecified.  The &#123;@link     * java.nio.charset.CharsetDecoder&#125; class should be used when more control     * over the decoding process is required.     *     * @param  bytes     *         The bytes to be decoded into characters     *     * @param  offset     *         The index of the first byte to decode     *     * @param  length     *         The number of bytes to decode     * @param  charsetName     *         The name of a supported &#123;@linkplain java.nio.charset.Charset     *         charset&#125;     *     * @throws  UnsupportedEncodingException     *          If the named charset is not supported     *     * @throws  IndexOutOfBoundsException     *          If the &#123;@code offset&#125; and &#123;@code length&#125; arguments index     *          characters outside the bounds of the &#123;@code bytes&#125; array     *     * @since  JDK1.1     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> bytes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">,</span> <span class="token class-name">String</span> charsetName<span class="token punctuation">)</span>            <span class="token keyword">throws</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>charsetName <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token string">"charsetName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">checkBounds</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token class-name">StringCoding</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>charsetName<span class="token punctuation">,</span> bytes<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Constructs a new &#123;@code String&#125; by decoding the specified subarray of     * bytes using the specified &#123;@linkplain java.nio.charset.Charset charset&#125;.     * The length of the new &#123;@code String&#125; is a function of the charset, and     * hence may not be equal to the length of the subarray.     *     * &lt;p> This method always replaces malformed-input and unmappable-character     * sequences with this charset's default replacement string.  The &#123;@link     * java.nio.charset.CharsetDecoder&#125; class should be used when more control     * over the decoding process is required.     *     * @param  bytes     *         The bytes to be decoded into characters     *     * @param  offset     *         The index of the first byte to decode     *     * @param  length     *         The number of bytes to decode     *     * @param  charset     *         The &#123;@linkplain java.nio.charset.Charset charset&#125; to be used to     *         decode the &#123;@code bytes&#125;     *     * @throws  IndexOutOfBoundsException     *          If the &#123;@code offset&#125; and &#123;@code length&#125; arguments index     *          characters outside the bounds of the &#123;@code bytes&#125; array     *     * @since  1.6     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> bytes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">,</span> <span class="token class-name">Charset</span> charset<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>charset <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token string">"charset"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">checkBounds</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span>  <span class="token class-name">StringCoding</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>charset<span class="token punctuation">,</span> bytes<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Constructs a new &#123;@code String&#125; by decoding the specified array of bytes     * using the specified &#123;@linkplain java.nio.charset.Charset charset&#125;.  The     * length of the new &#123;@code String&#125; is a function of the charset, and hence     * may not be equal to the length of the byte array.     *     * &lt;p> The behavior of this constructor when the given bytes are not valid     * in the given charset is unspecified.  The &#123;@link     * java.nio.charset.CharsetDecoder&#125; class should be used when more control     * over the decoding process is required.     *     * @param  bytes     *         The bytes to be decoded into characters     *     * @param  charsetName     *         The name of a supported &#123;@linkplain java.nio.charset.Charset     *         charset&#125;     *     * @throws  UnsupportedEncodingException     *          If the named charset is not supported     *     * @since  JDK1.1     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> bytes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">String</span> charsetName<span class="token punctuation">)</span>            <span class="token keyword">throws</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">,</span> charsetName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Constructs a new &#123;@code String&#125; by decoding the specified array of     * bytes using the specified &#123;@linkplain java.nio.charset.Charset charset&#125;.     * The length of the new &#123;@code String&#125; is a function of the charset, and     * hence may not be equal to the length of the byte array.     *     * &lt;p> This method always replaces malformed-input and unmappable-character     * sequences with this charset's default replacement string.  The &#123;@link     * java.nio.charset.CharsetDecoder&#125; class should be used when more control     * over the decoding process is required.     *     * @param  bytes     *         The bytes to be decoded into characters     *     * @param  charset     *         The &#123;@linkplain java.nio.charset.Charset charset&#125; to be used to     *         decode the &#123;@code bytes&#125;     *     * @since  1.6     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> bytes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">Charset</span> charset<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">,</span> charset<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Constructs a new &#123;@code String&#125; by decoding the specified subarray of     * bytes using the platform's default charset.  The length of the new     * &#123;@code String&#125; is a function of the charset, and hence may not be equal     * to the length of the subarray.     *     * &lt;p> The behavior of this constructor when the given bytes are not valid     * in the default charset is unspecified.  The &#123;@link     * java.nio.charset.CharsetDecoder&#125; class should be used when more control     * over the decoding process is required.     *     * @param  bytes     *         The bytes to be decoded into characters     *     * @param  offset     *         The index of the first byte to decode     *     * @param  length     *         The number of bytes to decode     *     * @throws  IndexOutOfBoundsException     *          If the &#123;@code offset&#125; and the &#123;@code length&#125; arguments index     *          characters outside the bounds of the &#123;@code bytes&#125; array     *     * @since  JDK1.1     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> bytes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">checkBounds</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token class-name">StringCoding</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Constructs a new &#123;@code String&#125; by decoding the specified array of bytes     * using the platform's default charset.  The length of the new &#123;@code     * String&#125; is a function of the charset, and hence may not be equal to the     * length of the byte array.     *     * &lt;p> The behavior of this constructor when the given bytes are not valid     * in the default charset is unspecified.  The &#123;@link     * java.nio.charset.CharsetDecoder&#125; class should be used when more control     * over the decoding process is required.     *     * @param  bytes     *         The bytes to be decoded into characters     *     * @since  JDK1.1     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">byte</span> bytes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Allocates a new string that contains the sequence of characters     * currently contained in the string buffer argument. The contents of the     * string buffer are copied; subsequent modification of the string buffer     * does not affect the newly created string.     *     * @param  buffer     *         A &#123;@code StringBuffer&#125;     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token class-name">StringBuffer</span> buffer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">synchronized</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>buffer<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> buffer<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Allocates a new string that contains the sequence of characters     * currently contained in the string builder argument. The contents of the     * string builder are copied; subsequent modification of the string builder     * does not affect the newly created string.     *     * &lt;p> This constructor is provided to ease migration to &#123;@code     * StringBuilder&#125;. Obtaining a string from a string builder via the &#123;@code     * toString&#125; method is likely to run faster and is generally preferred.     *     * @param   builder     *          A &#123;@code StringBuilder&#125;     *     * @since  1.5     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token class-name">StringBuilder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> builder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/*    * Package private constructor which shares value array for speed.    * this constructor is always expected to be called with share==true.    * a separate constructor is needed because we already have a public    * String(char[]) constructor that makes a copy of the given char[].    */</span>    <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">,</span> <span class="token keyword">boolean</span> share<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// assert share : "unshared not supported";</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the length of this string.     * The length is equal to the number of &lt;a href="Character.html#unicode">Unicode     * code units&lt;/a> in the string.     *     * @return  the length of the sequence of characters represented by this     *          object.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns &#123;@code true&#125; if, and only if, &#123;@link #length()&#125; is &#123;@code 0&#125;.     *     * @return &#123;@code true&#125; if &#123;@link #length()&#125; is &#123;@code 0&#125;, otherwise     * &#123;@code false&#125;     *     * @since 1.6     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> value<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the &#123;@code char&#125; value at the     * specified index. An index ranges from &#123;@code 0&#125; to     * &#123;@code length() - 1&#125;. The first &#123;@code char&#125; value of the sequence     * is at index &#123;@code 0&#125;, the next at index &#123;@code 1&#125;,     * and so on, as for array indexing.     *     * &lt;p>If the &#123;@code char&#125; value specified by the index is a     * &lt;a href="Character.html#unicode">surrogate&lt;/a>, the surrogate     * value is returned.     *     * @param      index   the index of the &#123;@code char&#125; value.     * @return     the &#123;@code char&#125; value at the specified index of this string.     *             The first &#123;@code char&#125; value is at index &#123;@code 0&#125;.     * @exception  IndexOutOfBoundsException  if the &#123;@code index&#125;     *             argument is negative or not less than the length of this     *             string.     */</span>    <span class="token keyword">public</span> <span class="token keyword">char</span> <span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>index <span class="token operator">>=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> value<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the character (Unicode code point) at the specified     * index. The index refers to &#123;@code char&#125; values     * (Unicode code units) and ranges from &#123;@code 0&#125; to     * &#123;@link #length()&#125;&#123;@code  - 1&#125;.     *     * &lt;p> If the &#123;@code char&#125; value specified at the given index     * is in the high-surrogate range, the following index is less     * than the length of this &#123;@code String&#125;, and the     * &#123;@code char&#125; value at the following index is in the     * low-surrogate range, then the supplementary code point     * corresponding to this surrogate pair is returned. Otherwise,     * the &#123;@code char&#125; value at the given index is returned.     *     * @param      index the index to the &#123;@code char&#125; values     * @return     the code point value of the character at the     *             &#123;@code index&#125;     * @exception  IndexOutOfBoundsException  if the &#123;@code index&#125;     *             argument is negative or not less than the length of this     *             string.     * @since      1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>index <span class="token operator">>=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">codePointAtImpl</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the character (Unicode code point) before the specified     * index. The index refers to &#123;@code char&#125; values     * (Unicode code units) and ranges from &#123;@code 1&#125; to &#123;@link     * CharSequence#length() length&#125;.     *     * &lt;p> If the &#123;@code char&#125; value at &#123;@code (index - 1)&#125;     * is in the low-surrogate range, &#123;@code (index - 2)&#125; is not     * negative, and the &#123;@code char&#125; value at &#123;@code (index -     * 2)&#125; is in the high-surrogate range, then the     * supplementary code point value of the surrogate pair is     * returned. If the &#123;@code char&#125; value at &#123;@code index -     * 1&#125; is an unpaired low-surrogate or a high-surrogate, the     * surrogate value is returned.     *     * @param     index the index following the code point that should be returned     * @return    the Unicode code point value before the given index.     * @exception IndexOutOfBoundsException if the &#123;@code index&#125;     *            argument is less than 1 or greater than the length     *            of this string.     * @since     1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">codePointBefore</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">>=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">codePointBeforeImpl</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the number of Unicode code points in the specified text     * range of this &#123;@code String&#125;. The text range begins at the     * specified &#123;@code beginIndex&#125; and extends to the     * &#123;@code char&#125; at index &#123;@code endIndex - 1&#125;. Thus the     * length (in &#123;@code char&#125;s) of the text range is     * &#123;@code endIndex-beginIndex&#125;. Unpaired surrogates within     * the text range count as one code point each.     *     * @param beginIndex the index to the first &#123;@code char&#125; of     * the text range.     * @param endIndex the index after the last &#123;@code char&#125; of     * the text range.     * @return the number of Unicode code points in the specified text     * range     * @exception IndexOutOfBoundsException if the     * &#123;@code beginIndex&#125; is negative, or &#123;@code endIndex&#125;     * is larger than the length of this &#123;@code String&#125;, or     * &#123;@code beginIndex&#125; is larger than &#123;@code endIndex&#125;.     * @since  1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">codePointCount</span><span class="token punctuation">(</span><span class="token keyword">int</span> beginIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> endIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>beginIndex <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> endIndex <span class="token operator">></span> value<span class="token punctuation">.</span>length <span class="token operator">||</span> beginIndex <span class="token operator">></span> endIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IndexOutOfBoundsException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">codePointCountImpl</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> beginIndex<span class="token punctuation">,</span> endIndex <span class="token operator">-</span> beginIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this &#123;@code String&#125; that is     * offset from the given &#123;@code index&#125; by     * &#123;@code codePointOffset&#125; code points. Unpaired surrogates     * within the text range given by &#123;@code index&#125; and     * &#123;@code codePointOffset&#125; count as one code point each.     *     * @param index the index to be offset     * @param codePointOffset the offset in code points     * @return the index within this &#123;@code String&#125;     * @exception IndexOutOfBoundsException if &#123;@code index&#125;     *   is negative or larger then the length of this     *   &#123;@code String&#125;, or if &#123;@code codePointOffset&#125; is positive     *   and the substring starting with &#123;@code index&#125; has fewer     *   than &#123;@code codePointOffset&#125; code points,     *   or if &#123;@code codePointOffset&#125; is negative and the substring     *   before &#123;@code index&#125; has fewer than the absolute value     *   of &#123;@code codePointOffset&#125; code points.     * @since 1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">offsetByCodePoints</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> codePointOffset<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">></span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IndexOutOfBoundsException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">offsetByCodePointsImpl</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">,</span>                index<span class="token punctuation">,</span> codePointOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Copy characters from this string into dst starting at dstBegin.     * This method doesn't perform any range checking.     */</span>    <span class="token keyword">void</span> <span class="token function">getChars</span><span class="token punctuation">(</span><span class="token keyword">char</span> dst<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> dstBegin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> dst<span class="token punctuation">,</span> dstBegin<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Copies characters from this string into the destination character     * array.     * &lt;p>     * The first character to be copied is at index &#123;@code srcBegin&#125;;     * the last character to be copied is at index &#123;@code srcEnd-1&#125;     * (thus the total number of characters to be copied is     * &#123;@code srcEnd-srcBegin&#125;). The characters are copied into the     * subarray of &#123;@code dst&#125; starting at index &#123;@code dstBegin&#125;     * and ending at index:     * &lt;blockquote>&lt;pre>     *     dstBegin + (srcEnd-srcBegin) - 1     * &lt;/pre>&lt;/blockquote>     *     * @param      srcBegin   index of the first character in the string     *                        to copy.     * @param      srcEnd     index after the last character in the string     *                        to copy.     * @param      dst        the destination array.     * @param      dstBegin   the start offset in the destination array.     * @exception IndexOutOfBoundsException If any of the following     *            is true:     *            &lt;ul>&lt;li>&#123;@code srcBegin&#125; is negative.     *            &lt;li>&#123;@code srcBegin&#125; is greater than &#123;@code srcEnd&#125;     *            &lt;li>&#123;@code srcEnd&#125; is greater than the length of this     *                string     *            &lt;li>&#123;@code dstBegin&#125; is negative     *            &lt;li>&#123;@code dstBegin+(srcEnd-srcBegin)&#125; is larger than     *                &#123;@code dst.length&#125;&lt;/ul>     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getChars</span><span class="token punctuation">(</span><span class="token keyword">int</span> srcBegin<span class="token punctuation">,</span> <span class="token keyword">int</span> srcEnd<span class="token punctuation">,</span> <span class="token keyword">char</span> dst<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> dstBegin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcBegin <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcEnd <span class="token operator">></span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcBegin <span class="token operator">></span> srcEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcEnd <span class="token operator">-</span> srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> srcBegin<span class="token punctuation">,</span> dst<span class="token punctuation">,</span> dstBegin<span class="token punctuation">,</span> srcEnd <span class="token operator">-</span> srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Copies characters from this string into the destination byte array. Each     * byte receives the 8 low-order bits of the corresponding character. The     * eight high-order bits of each character are not copied and do not     * participate in the transfer in any way.     *     * &lt;p> The first character to be copied is at index &#123;@code srcBegin&#125;; the     * last character to be copied is at index &#123;@code srcEnd-1&#125;.  The total     * number of characters to be copied is &#123;@code srcEnd-srcBegin&#125;. The     * characters, converted to bytes, are copied into the subarray of &#123;@code     * dst&#125; starting at index &#123;@code dstBegin&#125; and ending at index:     *     * &lt;blockquote>&lt;pre>     *     dstBegin + (srcEnd-srcBegin) - 1     * &lt;/pre>&lt;/blockquote>     *     * @deprecated  This method does not properly convert characters into     * bytes.  As of JDK&amp;nbsp;1.1, the preferred way to do this is via the     * &#123;@link #getBytes()&#125; method, which uses the platform's default charset.     *     * @param  srcBegin     *         Index of the first character in the string to copy     *     * @param  srcEnd     *         Index after the last character in the string to copy     *     * @param  dst     *         The destination array     *     * @param  dstBegin     *         The start offset in the destination array     *     * @throws  IndexOutOfBoundsException     *          If any of the following is true:     *          &lt;ul>     *            &lt;li> &#123;@code srcBegin&#125; is negative     *            &lt;li> &#123;@code srcBegin&#125; is greater than &#123;@code srcEnd&#125;     *            &lt;li> &#123;@code srcEnd&#125; is greater than the length of this String     *            &lt;li> &#123;@code dstBegin&#125; is negative     *            &lt;li> &#123;@code dstBegin+(srcEnd-srcBegin)&#125; is larger than &#123;@code     *                 dst.length&#125;     *          &lt;/ul>     */</span>    <span class="token annotation punctuation">@Deprecated</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token keyword">int</span> srcBegin<span class="token punctuation">,</span> <span class="token keyword">int</span> srcEnd<span class="token punctuation">,</span> <span class="token keyword">byte</span> dst<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> dstBegin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcBegin <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcEnd <span class="token operator">></span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcBegin <span class="token operator">></span> srcEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcEnd <span class="token operator">-</span> srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>dst<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> dstBegin<span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> srcEnd<span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> srcBegin<span class="token punctuation">;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> val <span class="token operator">=</span> value<span class="token punctuation">;</span>   <span class="token comment">/* avoid getfield opcode */</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            dst<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span>val<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Encodes this &#123;@code String&#125; into a sequence of bytes using the named     * charset, storing the result into a new byte array.     *     * &lt;p> The behavior of this method when this string cannot be encoded in     * the given charset is unspecified.  The &#123;@link     * java.nio.charset.CharsetEncoder&#125; class should be used when more control     * over the encoding process is required.     *     * @param  charsetName     *         The name of a supported &#123;@linkplain java.nio.charset.Charset     *         charset&#125;     *     * @return  The resultant byte array     *     * @throws  UnsupportedEncodingException     *          If the named charset is not supported     *     * @since  JDK1.1     */</span>    <span class="token keyword">public</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">String</span> charsetName<span class="token punctuation">)</span>            <span class="token keyword">throws</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>charsetName <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">StringCoding</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>charsetName<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Encodes this &#123;@code String&#125; into a sequence of bytes using the given     * &#123;@linkplain java.nio.charset.Charset charset&#125;, storing the result into a     * new byte array.     *     * &lt;p> This method always replaces malformed-input and unmappable-character     * sequences with this charset's default replacement byte array.  The     * &#123;@link java.nio.charset.CharsetEncoder&#125; class should be used when more     * control over the encoding process is required.     *     * @param  charset     *         The &#123;@linkplain java.nio.charset.Charset&#125; to be used to encode     *         the &#123;@code String&#125;     *     * @return  The resultant byte array     *     * @since  1.6     */</span>    <span class="token keyword">public</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">Charset</span> charset<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>charset <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">StringCoding</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>charset<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Encodes this &#123;@code String&#125; into a sequence of bytes using the     * platform's default charset, storing the result into a new byte array.     *     * &lt;p> The behavior of this method when this string cannot be encoded in     * the default charset is unspecified.  The &#123;@link     * java.nio.charset.CharsetEncoder&#125; class should be used when more control     * over the encoding process is required.     *     * @return  The resultant byte array     *     * @since      JDK1.1     */</span>    <span class="token keyword">public</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">StringCoding</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Compares this string to the specified object.  The result is &#123;@code     * true&#125; if and only if the argument is not &#123;@code null&#125; and is a &#123;@code     * String&#125; object that represents the same sequence of characters as this     * object.     *     * @param  anObject     *         The object to compare this &#123;@code String&#125; against     *     * @return  &#123;@code true&#125; if the given object represents a &#123;@code String&#125;     *          equivalent to this string, &#123;@code false&#125; otherwise     *     * @see  #compareTo(String)     * @see  #equalsIgnoreCase(String)     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> anObject<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> anObject<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>anObject <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> anotherString <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>anObject<span class="token punctuation">;</span>            <span class="token keyword">int</span> n <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">char</span> v1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>                <span class="token keyword">char</span> v2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">;</span>                <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> v2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                    i<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Compares this string to the specified &#123;@code StringBuffer&#125;.  The result     * is &#123;@code true&#125; if and only if this &#123;@code String&#125; represents the same     * sequence of characters as the specified &#123;@code StringBuffer&#125;. This method     * synchronizes on the &#123;@code StringBuffer&#125;.     *     * @param  sb     *         The &#123;@code StringBuffer&#125; to compare this &#123;@code String&#125; against     *     * @return  &#123;@code true&#125; if this &#123;@code String&#125; represents the same     *          sequence of characters as the specified &#123;@code StringBuffer&#125;,     *          &#123;@code false&#125; otherwise     *     * @since  1.4     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">contentEquals</span><span class="token punctuation">(</span><span class="token class-name">StringBuffer</span> sb<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">contentEquals</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span><span class="token punctuation">)</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">nonSyncContentEquals</span><span class="token punctuation">(</span><span class="token class-name">AbstractStringBuilder</span> sb<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span> v1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token keyword">char</span> v2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> v1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> v2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Compares this string to the specified &#123;@code CharSequence&#125;.  The     * result is &#123;@code true&#125; if and only if this &#123;@code String&#125; represents the     * same sequence of char values as the specified sequence. Note that if the     * &#123;@code CharSequence&#125; is a &#123;@code StringBuffer&#125; then the method     * synchronizes on it.     *     * @param  cs     *         The sequence to compare this &#123;@code String&#125; against     *     * @return  &#123;@code true&#125; if this &#123;@code String&#125; represents the same     *          sequence of char values as the specified sequence, &#123;@code     *          false&#125; otherwise     *     * @since  1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">contentEquals</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> cs<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// Argument is a StringBuffer, StringBuilder</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cs <span class="token keyword">instanceof</span> <span class="token class-name">AbstractStringBuilder</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cs <span class="token keyword">instanceof</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">synchronized</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                   <span class="token keyword">return</span> <span class="token function">nonSyncContentEquals</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">AbstractStringBuilder</span><span class="token punctuation">)</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token function">nonSyncContentEquals</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">AbstractStringBuilder</span><span class="token punctuation">)</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// Argument is a String</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cs <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">equals</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// Argument is a generic CharSequence</span>        <span class="token keyword">char</span> v1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> v1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> cs<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> cs<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Compares this &#123;@code String&#125; to another &#123;@code String&#125;, ignoring case     * considerations.  Two strings are considered equal ignoring case if they     * are of the same length and corresponding characters in the two strings     * are equal ignoring case.     *     * &lt;p> Two characters &#123;@code c1&#125; and &#123;@code c2&#125; are considered the same     * ignoring case if at least one of the following is true:     * &lt;ul>     *   &lt;li> The two characters are the same (as compared by the     *        &#123;@code ==&#125; operator)     *   &lt;li> Applying the method &#123;@link     *        java.lang.Character#toUpperCase(char)&#125; to each character     *        produces the same result     *   &lt;li> Applying the method &#123;@link     *        java.lang.Character#toLowerCase(char)&#125; to each character     *        produces the same result     * &lt;/ul>     *     * @param  anotherString     *         The &#123;@code String&#125; to compare this &#123;@code String&#125; against     *     * @return  &#123;@code true&#125; if the argument is not &#123;@code null&#125; and it     *          represents an equivalent &#123;@code String&#125; ignoring case; &#123;@code     *          false&#125; otherwise     *     * @see  #equals(Object)     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token class-name">String</span> anotherString<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> anotherString<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span>                <span class="token operator">:</span> <span class="token punctuation">(</span>anotherString <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>                <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>anotherString<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">==</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span>                <span class="token operator">&amp;&amp;</span> <span class="token function">regionMatches</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> anotherString<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Compares two strings lexicographically.     * The comparison is based on the Unicode value of each character in     * the strings. The character sequence represented by this     * &#123;@code String&#125; object is compared lexicographically to the     * character sequence represented by the argument string. The result is     * a negative integer if this &#123;@code String&#125; object     * lexicographically precedes the argument string. The result is a     * positive integer if this &#123;@code String&#125; object lexicographically     * follows the argument string. The result is zero if the strings     * are equal; &#123;@code compareTo&#125; returns &#123;@code 0&#125; exactly when     * the &#123;@link #equals(Object)&#125; method would return &#123;@code true&#125;.     * &lt;p>     * This is the definition of lexicographic ordering. If two strings are     * different, then either they have different characters at some index     * that is a valid index for both strings, or their lengths are different,     * or both. If they have different characters at one or more index     * positions, let &lt;i>k&lt;/i> be the smallest such index; then the string     * whose character at position &lt;i>k&lt;/i> has the smaller value, as     * determined by using the &amp;lt; operator, lexicographically precedes the     * other string. In this case, &#123;@code compareTo&#125; returns the     * difference of the two character values at position &#123;@code k&#125; in     * the two string -- that is, the value:     * &lt;blockquote>&lt;pre>     * this.charAt(k)-anotherString.charAt(k)     * &lt;/pre>&lt;/blockquote>     * If there is no index position at which they differ, then the shorter     * string lexicographically precedes the longer string. In this case,     * &#123;@code compareTo&#125; returns the difference of the lengths of the     * strings -- that is, the value:     * &lt;blockquote>&lt;pre>     * this.length()-anotherString.length()     * &lt;/pre>&lt;/blockquote>     *     * @param   anotherString   the &#123;@code String&#125; to be compared.     * @return  the value &#123;@code 0&#125; if the argument string is equal to     *          this string; a value less than &#123;@code 0&#125; if this string     *          is lexicographically less than the string argument; and a     *          value greater than &#123;@code 0&#125; if this string is     *          lexicographically greater than the string argument.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">String</span> anotherString<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> len1 <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">int</span> len2 <span class="token operator">=</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">int</span> lim <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>len1<span class="token punctuation">,</span> len2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> v1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token keyword">char</span> v2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> lim<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">char</span> c1 <span class="token operator">=</span> v1<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">char</span> c2 <span class="token operator">=</span> v2<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>c1 <span class="token operator">!=</span> c2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> c1 <span class="token operator">-</span> c2<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            k<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> len1 <span class="token operator">-</span> len2<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * A Comparator that orders &#123;@code String&#125; objects as by     * &#123;@code compareToIgnoreCase&#125;. This comparator is serializable.     * &lt;p>     * Note that this Comparator does &lt;em>not&lt;/em> take locale into account,     * and will result in an unsatisfactory ordering for certain locales.     * The java.text package provides &lt;em>Collators&lt;/em> to allow     * locale-sensitive ordering.     *     * @see     java.text.Collator#compare(String, String)     * @since   1.2     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> CASE_INSENSITIVE_ORDER                                         <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CaseInsensitiveComparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">CaseInsensitiveComparator</span>            <span class="token keyword">implements</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// use serialVersionUID from JDK 1.2.2 for interoperability</span>        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">8575799808933029326L</span><span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">String</span> s1<span class="token punctuation">,</span> <span class="token class-name">String</span> s2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> n1 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> n2 <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> min<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">char</span> c1 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">char</span> c2 <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>c1 <span class="token operator">!=</span> c2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    c1 <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span>                    c2 <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>c1 <span class="token operator">!=</span> c2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        c1 <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span>                        c2 <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>c1 <span class="token operator">!=</span> c2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            <span class="token comment">// No overflow because of numeric promotion</span>                            <span class="token keyword">return</span> c1 <span class="token operator">-</span> c2<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> n1 <span class="token operator">-</span> n2<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">/** Replaces the de-serialized object. */</span>        <span class="token keyword">private</span> <span class="token class-name">Object</span> <span class="token function">readResolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> CASE_INSENSITIVE_ORDER<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Compares two strings lexicographically, ignoring case     * differences. This method returns an integer whose sign is that of     * calling &#123;@code compareTo&#125; with normalized versions of the strings     * where case differences have been eliminated by calling     * &#123;@code Character.toLowerCase(Character.toUpperCase(character))&#125; on     * each character.     * &lt;p>     * Note that this method does &lt;em>not&lt;/em> take locale into account,     * and will result in an unsatisfactory ordering for certain locales.     * The java.text package provides &lt;em>collators&lt;/em> to allow     * locale-sensitive ordering.     *     * @param   str   the &#123;@code String&#125; to be compared.     * @return  a negative integer, zero, or a positive integer as the     *          specified String is greater than, equal to, or less     *          than this String, ignoring case considerations.     * @see     java.text.Collator#compare(String, String)     * @since   1.2     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> CASE_INSENSITIVE_ORDER<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Tests if two string regions are equal.     * &lt;p>     * A substring of this &#123;@code String&#125; object is compared to a substring     * of the argument other. The result is true if these substrings     * represent identical character sequences. The substring of this     * &#123;@code String&#125; object to be compared begins at index &#123;@code toffset&#125;     * and has length &#123;@code len&#125;. The substring of other to be compared     * begins at index &#123;@code ooffset&#125; and has length &#123;@code len&#125;. The     * result is &#123;@code false&#125; if and only if at least one of the following     * is true:     * &lt;ul>&lt;li>&#123;@code toffset&#125; is negative.     * &lt;li>&#123;@code ooffset&#125; is negative.     * &lt;li>&#123;@code toffset+len&#125; is greater than the length of this     * &#123;@code String&#125; object.     * &lt;li>&#123;@code ooffset+len&#125; is greater than the length of the other     * argument.     * &lt;li>There is some nonnegative integer &lt;i>k&lt;/i> less than &#123;@code len&#125;     * such that:     * &#123;@code this.charAt(toffset + &#125;&lt;i>k&lt;/i>&#123;@code ) != other.charAt(ooffset + &#125;     * &lt;i>k&lt;/i>&#123;@code )&#125;     * &lt;/ul>     *     * @param   toffset   the starting offset of the subregion in this string.     * @param   other     the string argument.     * @param   ooffset   the starting offset of the subregion in the string     *                    argument.     * @param   len       the number of characters to compare.     * @return  &#123;@code true&#125; if the specified subregion of this string     *          exactly matches the specified subregion of the string argument;     *          &#123;@code false&#125; otherwise.     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">regionMatches</span><span class="token punctuation">(</span><span class="token keyword">int</span> toffset<span class="token punctuation">,</span> <span class="token class-name">String</span> other<span class="token punctuation">,</span> <span class="token keyword">int</span> ooffset<span class="token punctuation">,</span>            <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span> ta<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token keyword">to</span> <span class="token operator">=</span> toffset<span class="token punctuation">;</span>        <span class="token keyword">char</span> pa<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> other<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token keyword">int</span> po <span class="token operator">=</span> ooffset<span class="token punctuation">;</span>        <span class="token comment">// Note: toffset, ooffset, or len might be near -1>>>1.</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ooffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>toffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token operator">||</span> <span class="token punctuation">(</span>toffset <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>value<span class="token punctuation">.</span>length <span class="token operator">-</span> len<span class="token punctuation">)</span>                <span class="token operator">||</span> <span class="token punctuation">(</span>ooffset <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>other<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">-</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ta<span class="token punctuation">[</span><span class="token keyword">to</span><span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">!=</span> pa<span class="token punctuation">[</span>po<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Tests if two string regions are equal.     * &lt;p>     * A substring of this &#123;@code String&#125; object is compared to a substring     * of the argument &#123;@code other&#125;. The result is &#123;@code true&#125; if these     * substrings represent character sequences that are the same, ignoring     * case if and only if &#123;@code ignoreCase&#125; is true. The substring of     * this &#123;@code String&#125; object to be compared begins at index     * &#123;@code toffset&#125; and has length &#123;@code len&#125;. The substring of     * &#123;@code other&#125; to be compared begins at index &#123;@code ooffset&#125; and     * has length &#123;@code len&#125;. The result is &#123;@code false&#125; if and only if     * at least one of the following is true:     * &lt;ul>&lt;li>&#123;@code toffset&#125; is negative.     * &lt;li>&#123;@code ooffset&#125; is negative.     * &lt;li>&#123;@code toffset+len&#125; is greater than the length of this     * &#123;@code String&#125; object.     * &lt;li>&#123;@code ooffset+len&#125; is greater than the length of the other     * argument.     * &lt;li>&#123;@code ignoreCase&#125; is &#123;@code false&#125; and there is some nonnegative     * integer &lt;i>k&lt;/i> less than &#123;@code len&#125; such that:     * &lt;blockquote>&lt;pre>     * this.charAt(toffset+k) != other.charAt(ooffset+k)     * &lt;/pre>&lt;/blockquote>     * &lt;li>&#123;@code ignoreCase&#125; is &#123;@code true&#125; and there is some nonnegative     * integer &lt;i>k&lt;/i> less than &#123;@code len&#125; such that:     * &lt;blockquote>&lt;pre>     * Character.toLowerCase(this.charAt(toffset+k)) !=     Character.toLowerCase(other.charAt(ooffset+k))     * &lt;/pre>&lt;/blockquote>     * and:     * &lt;blockquote>&lt;pre>     * Character.toUpperCase(this.charAt(toffset+k)) !=     *         Character.toUpperCase(other.charAt(ooffset+k))     * &lt;/pre>&lt;/blockquote>     * &lt;/ul>     *     * @param   ignoreCase   if &#123;@code true&#125;, ignore case when comparing     *                       characters.     * @param   toffset      the starting offset of the subregion in this     *                       string.     * @param   other        the string argument.     * @param   ooffset      the starting offset of the subregion in the string     *                       argument.     * @param   len          the number of characters to compare.     * @return  &#123;@code true&#125; if the specified subregion of this string     *          matches the specified subregion of the string argument;     *          &#123;@code false&#125; otherwise. Whether the matching is exact     *          or case insensitive depends on the &#123;@code ignoreCase&#125;     *          argument.     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">regionMatches</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> ignoreCase<span class="token punctuation">,</span> <span class="token keyword">int</span> toffset<span class="token punctuation">,</span>            <span class="token class-name">String</span> other<span class="token punctuation">,</span> <span class="token keyword">int</span> ooffset<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span> ta<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token keyword">to</span> <span class="token operator">=</span> toffset<span class="token punctuation">;</span>        <span class="token keyword">char</span> pa<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> other<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token keyword">int</span> po <span class="token operator">=</span> ooffset<span class="token punctuation">;</span>        <span class="token comment">// Note: toffset, ooffset, or len might be near -1>>>1.</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ooffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>toffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token operator">||</span> <span class="token punctuation">(</span>toffset <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>value<span class="token punctuation">.</span>length <span class="token operator">-</span> len<span class="token punctuation">)</span>                <span class="token operator">||</span> <span class="token punctuation">(</span>ooffset <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>other<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">-</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">char</span> c1 <span class="token operator">=</span> ta<span class="token punctuation">[</span><span class="token keyword">to</span><span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">char</span> c2 <span class="token operator">=</span> pa<span class="token punctuation">[</span>po<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>c1 <span class="token operator">==</span> c2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ignoreCase<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// If characters don't match but case may be ignored,</span>                <span class="token comment">// try converting both characters to uppercase.</span>                <span class="token comment">// If the results match, then the comparison scan should</span>                <span class="token comment">// continue.</span>                <span class="token keyword">char</span> u1 <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">char</span> u2 <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>u1 <span class="token operator">==</span> u2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">// Unfortunately, conversion to uppercase does not work properly</span>                <span class="token comment">// for the Georgian alphabet, which has strange rules about case</span>                <span class="token comment">// conversion.  So we need to make one last check before</span>                <span class="token comment">// exiting.</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>u1<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>u2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Tests if the substring of this string beginning at the     * specified index starts with the specified prefix.     *     * @param   prefix    the prefix.     * @param   toffset   where to begin looking in this string.     * @return  &#123;@code true&#125; if the character sequence represented by the     *          argument is a prefix of the substring of this object starting     *          at index &#123;@code toffset&#125;; &#123;@code false&#125; otherwise.     *          The result is &#123;@code false&#125; if &#123;@code toffset&#125; is     *          negative or greater than the length of this     *          &#123;@code String&#125; object; otherwise the result is the same     *          as the result of the expression     *          &lt;pre>     *          this.substring(toffset).startsWith(prefix)     *          &lt;/pre>     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token class-name">String</span> prefix<span class="token punctuation">,</span> <span class="token keyword">int</span> toffset<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span> ta<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token keyword">to</span> <span class="token operator">=</span> toffset<span class="token punctuation">;</span>        <span class="token keyword">char</span> pa<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> prefix<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token keyword">int</span> po <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> pc <span class="token operator">=</span> prefix<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token comment">// Note: toffset might be near -1>>>1.</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>toffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>toffset <span class="token operator">></span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> pc<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>pc <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ta<span class="token punctuation">[</span><span class="token keyword">to</span><span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">!=</span> pa<span class="token punctuation">[</span>po<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Tests if this string starts with the specified prefix.     *     * @param   prefix   the prefix.     * @return  &#123;@code true&#125; if the character sequence represented by the     *          argument is a prefix of the character sequence represented by     *          this string; &#123;@code false&#125; otherwise.     *          Note also that &#123;@code true&#125; will be returned if the     *          argument is an empty string or is equal to this     *          &#123;@code String&#125; object as determined by the     *          &#123;@link #equals(Object)&#125; method.     * @since   1. 0     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token class-name">String</span> prefix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">startsWith</span><span class="token punctuation">(</span>prefix<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Tests if this string ends with the specified suffix.     *     * @param   suffix   the suffix.     * @return  &#123;@code true&#125; if the character sequence represented by the     *          argument is a suffix of the character sequence represented by     *          this object; &#123;@code false&#125; otherwise. Note that the     *          result will be &#123;@code true&#125; if the argument is the     *          empty string or is equal to this &#123;@code String&#125; object     *          as determined by the &#123;@link #equals(Object)&#125; method.     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token class-name">String</span> suffix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">startsWith</span><span class="token punctuation">(</span>suffix<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> suffix<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a hash code for this string. The hash code for a     * &#123;@code String&#125; object is computed as     * &lt;blockquote>&lt;pre>     * s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]     * &lt;/pre>&lt;/blockquote>     * using &#123;@code int&#125; arithmetic, where &#123;@code s[i]&#125; is the     * &lt;i>i&lt;/i>th character of the string, &#123;@code n&#125; is the length of     * the string, and &#123;@code ^&#125; indicates exponentiation.     * (The hash value of the empty string is zero.)     *     * @return  a hash code value for this object.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> h <span class="token operator">=</span> hash<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">char</span> val<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                h <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> h <span class="token operator">+</span> val<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            hash <span class="token operator">=</span> h<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> h<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the first occurrence of     * the specified character. If a character with value     * &#123;@code ch&#125; occurs in the character sequence represented by     * this &#123;@code String&#125; object, then the index (in Unicode     * code units) of the first such occurrence is returned. For     * values of &#123;@code ch&#125; in the range from 0 to 0xFFFF     * (inclusive), this is the smallest value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * this.charAt(&lt;i>k&lt;/i>) == ch     * &lt;/pre>&lt;/blockquote>     * is true. For other values of &#123;@code ch&#125;, it is the     * smallest value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * this.codePointAt(&lt;i>k&lt;/i>) == ch     * &lt;/pre>&lt;/blockquote>     * is true. In either case, if no such character occurs in this     * string, then &#123;@code -1&#125; is returned.     *     * @param   ch   a character (Unicode code point).     * @return  the index of the first occurrence of the character in the     *          character sequence represented by this object, or     *          &#123;@code -1&#125; if the character does not occur.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the first occurrence of the     * specified character, starting the search at the specified index.     * &lt;p>     * If a character with value &#123;@code ch&#125; occurs in the     * character sequence represented by this &#123;@code String&#125;     * object at an index no smaller than &#123;@code fromIndex&#125;, then     * the index of the first such occurrence is returned. For values     * of &#123;@code ch&#125; in the range from 0 to 0xFFFF (inclusive),     * this is the smallest value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * (this.charAt(&lt;i>k&lt;/i>) == ch) &#123;@code &amp;&amp;&#125; (&lt;i>k&lt;/i> &amp;gt;= fromIndex)     * &lt;/pre>&lt;/blockquote>     * is true. For other values of &#123;@code ch&#125;, it is the     * smallest value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * (this.codePointAt(&lt;i>k&lt;/i>) == ch) &#123;@code &amp;&amp;&#125; (&lt;i>k&lt;/i> &amp;gt;= fromIndex)     * &lt;/pre>&lt;/blockquote>     * is true. In either case, if no such character occurs in this     * string at or after position &#123;@code fromIndex&#125;, then     * &#123;@code -1&#125; is returned.     *     * &lt;p>     * There is no restriction on the value of &#123;@code fromIndex&#125;. If it     * is negative, it has the same effect as if it were zero: this entire     * string may be searched. If it is greater than the length of this     * string, it has the same effect as if it were equal to the length of     * this string: &#123;@code -1&#125; is returned.     *     * &lt;p>All indices are specified in &#123;@code char&#125; values     * (Unicode code units).     *     * @param   ch          a character (Unicode code point).     * @param   fromIndex   the index to start the search from.     * @return  the index of the first occurrence of the character in the     *          character sequence represented by this object that is greater     *          than or equal to &#123;@code fromIndex&#125;, or &#123;@code -1&#125;     *          if the character does not occur.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">final</span> <span class="token keyword">int</span> max <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fromIndex <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            fromIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fromIndex <span class="token operator">>=</span> max<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// Note: fromIndex might be near -1>>>1.</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">&lt;</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_SUPPLEMENTARY_CODE_POINT<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// handle most cases here (ch is a BMP code point or a</span>            <span class="token comment">// negative value (invalid code point))</span>            <span class="token keyword">final</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> fromIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> i<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">indexOfSupplementary</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> fromIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Handles (rare) calls of indexOf with a supplementary character.     */</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">indexOfSupplementary</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isValidCodePoint</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">final</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>            <span class="token keyword">final</span> <span class="token keyword">char</span> hi <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">highSurrogate</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">final</span> <span class="token keyword">char</span> lo <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">lowSurrogate</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">final</span> <span class="token keyword">int</span> max <span class="token operator">=</span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> fromIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> hi <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> lo<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> i<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the last occurrence of     * the specified character. For values of &#123;@code ch&#125; in the     * range from 0 to 0xFFFF (inclusive), the index (in Unicode code     * units) returned is the largest value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * this.charAt(&lt;i>k&lt;/i>) == ch     * &lt;/pre>&lt;/blockquote>     * is true. For other values of &#123;@code ch&#125;, it is the     * largest value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * this.codePointAt(&lt;i>k&lt;/i>) == ch     * &lt;/pre>&lt;/blockquote>     * is true.  In either case, if no such character occurs in this     * string, then &#123;@code -1&#125; is returned.  The     * &#123;@code String&#125; is searched backwards starting at the last     * character.     *     * @param   ch   a character (Unicode code point).     * @return  the index of the last occurrence of the character in the     *          character sequence represented by this object, or     *          &#123;@code -1&#125; if the character does not occur.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the last occurrence of     * the specified character, searching backward starting at the     * specified index. For values of &#123;@code ch&#125; in the range     * from 0 to 0xFFFF (inclusive), the index returned is the largest     * value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * (this.charAt(&lt;i>k&lt;/i>) == ch) &#123;@code &amp;&amp;&#125; (&lt;i>k&lt;/i> &amp;lt;= fromIndex)     * &lt;/pre>&lt;/blockquote>     * is true. For other values of &#123;@code ch&#125;, it is the     * largest value &lt;i>k&lt;/i> such that:     * &lt;blockquote>&lt;pre>     * (this.codePointAt(&lt;i>k&lt;/i>) == ch) &#123;@code &amp;&amp;&#125; (&lt;i>k&lt;/i> &amp;lt;= fromIndex)     * &lt;/pre>&lt;/blockquote>     * is true. In either case, if no such character occurs in this     * string at or before position &#123;@code fromIndex&#125;, then     * &#123;@code -1&#125; is returned.     *     * &lt;p>All indices are specified in &#123;@code char&#125; values     * (Unicode code units).     *     * @param   ch          a character (Unicode code point).     * @param   fromIndex   the index to start the search from. There is no     *          restriction on the value of &#123;@code fromIndex&#125;. If it is     *          greater than or equal to the length of this string, it has     *          the same effect as if it were equal to one less than the     *          length of this string: this entire string may be searched.     *          If it is negative, it has the same effect as if it were -1:     *          -1 is returned.     * @return  the index of the last occurrence of the character in the     *          character sequence represented by this object that is less     *          than or equal to &#123;@code fromIndex&#125;, or &#123;@code -1&#125;     *          if the character does not occur before that point.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">&lt;</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_SUPPLEMENTARY_CODE_POINT<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// handle most cases here (ch is a BMP code point or a</span>            <span class="token comment">// negative value (invalid code point))</span>            <span class="token keyword">final</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>fromIndex<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> i<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">lastIndexOfSupplementary</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> fromIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Handles (rare) calls of lastIndexOf with a supplementary character.     */</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">lastIndexOfSupplementary</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isValidCodePoint</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">final</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>            <span class="token keyword">char</span> hi <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">highSurrogate</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">char</span> lo <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">lowSurrogate</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>fromIndex<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> hi <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> lo<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> i<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the first occurrence of the     * specified substring.     *     * &lt;p>The returned index is the smallest value &lt;i>k&lt;/i> for which:     * &lt;blockquote>&lt;pre>     * this.startsWith(str, &lt;i>k&lt;/i>)     * &lt;/pre>&lt;/blockquote>     * If no such value of &lt;i>k&lt;/i> exists, then &#123;@code -1&#125; is returned.     *     * @param   str   the substring to search for.     * @return  the index of the first occurrence of the specified substring,     *          or &#123;@code -1&#125; if there is no such occurrence.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the first occurrence of the     * specified substring, starting at the specified index.     *     * &lt;p>The returned index is the smallest value &lt;i>k&lt;/i> for which:     * &lt;blockquote>&lt;pre>     * &lt;i>k&lt;/i> &amp;gt;= fromIndex &#123;@code &amp;&amp;&#125; this.startsWith(str, &lt;i>k&lt;/i>)     * &lt;/pre>&lt;/blockquote>     * If no such value of &lt;i>k&lt;/i> exists, then &#123;@code -1&#125; is returned.     *     * @param   str         the substring to search for.     * @param   fromIndex   the index from which to start the search.     * @return  the index of the first occurrence of the specified substring,     *          starting at the specified index,     *          or &#123;@code -1&#125; if there is no such occurrence.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">,</span>                str<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> str<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">,</span> fromIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Code shared by String and AbstractStringBuilder to do searches. The     * source is the character array being searched, and the target     * is the string being searched for.     *     * @param   source       the characters being searched.     * @param   sourceOffset offset of the source string.     * @param   sourceCount  count of the source string.     * @param   target       the characters being searched for.     * @param   fromIndex    the index to begin searching from.     */</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> source<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceOffset<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceCount<span class="token punctuation">,</span>            <span class="token class-name">String</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> sourceOffset<span class="token punctuation">,</span> sourceCount<span class="token punctuation">,</span>                       target<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">,</span>                       fromIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Code shared by String and StringBuffer to do searches. The     * source is the character array being searched, and the target     * is the string being searched for.     *     * @param   source       the characters being searched.     * @param   sourceOffset offset of the source string.     * @param   sourceCount  count of the source string.     * @param   target       the characters being searched for.     * @param   targetOffset offset of the target string.     * @param   targetCount  count of the target string.     * @param   fromIndex    the index to begin searching from.     */</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> source<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceOffset<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceCount<span class="token punctuation">,</span>            <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> targetOffset<span class="token punctuation">,</span> <span class="token keyword">int</span> targetCount<span class="token punctuation">,</span>            <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fromIndex <span class="token operator">>=</span> sourceCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>targetCount <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> sourceCount <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fromIndex <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            fromIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>targetCount <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> fromIndex<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">char</span> first <span class="token operator">=</span> target<span class="token punctuation">[</span>targetOffset<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> max <span class="token operator">=</span> sourceOffset <span class="token operator">+</span> <span class="token punctuation">(</span>sourceCount <span class="token operator">-</span> targetCount<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> sourceOffset <span class="token operator">+</span> fromIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">/* Look for first character. */</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> first<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">++</span>i <span class="token operator">&lt;=</span> max <span class="token operator">&amp;&amp;</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> first<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">/* Found first character, now look at the rest of v2 */</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> max<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> end <span class="token operator">=</span> j <span class="token operator">+</span> targetCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> targetOffset <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> source<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                        <span class="token operator">==</span> target<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">,</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> end<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">/* Found whole string. */</span>                    <span class="token keyword">return</span> i <span class="token operator">-</span> sourceOffset<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the last occurrence of the     * specified substring.  The last occurrence of the empty string ""     * is considered to occur at the index value &#123;@code this.length()&#125;.     *     * &lt;p>The returned index is the largest value &lt;i>k&lt;/i> for which:     * &lt;blockquote>&lt;pre>     * this.startsWith(str, &lt;i>k&lt;/i>)     * &lt;/pre>&lt;/blockquote>     * If no such value of &lt;i>k&lt;/i> exists, then &#123;@code -1&#125; is returned.     *     * @param   str   the substring to search for.     * @return  the index of the last occurrence of the specified substring,     *          or &#123;@code -1&#125; if there is no such occurrence.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the index within this string of the last occurrence of the     * specified substring, searching backward starting at the specified index.     *     * &lt;p>The returned index is the largest value &lt;i>k&lt;/i> for which:     * &lt;blockquote>&lt;pre>     * &lt;i>k&lt;/i> &#123;@code &lt;=&#125; fromIndex &#123;@code &amp;&amp;&#125; this.startsWith(str, &lt;i>k&lt;/i>)     * &lt;/pre>&lt;/blockquote>     * If no such value of &lt;i>k&lt;/i> exists, then &#123;@code -1&#125; is returned.     *     * @param   str         the substring to search for.     * @param   fromIndex   the index to start the search from.     * @return  the index of the last occurrence of the specified substring,     *          searching backward from the specified index,     *          or &#123;@code -1&#125; if there is no such occurrence.     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">,</span>                str<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> str<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">,</span> fromIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Code shared by String and AbstractStringBuilder to do searches. The     * source is the character array being searched, and the target     * is the string being searched for.     *     * @param   source       the characters being searched.     * @param   sourceOffset offset of the source string.     * @param   sourceCount  count of the source string.     * @param   target       the characters being searched for.     * @param   fromIndex    the index to begin searching from.     */</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> source<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceOffset<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceCount<span class="token punctuation">,</span>            <span class="token class-name">String</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> sourceOffset<span class="token punctuation">,</span> sourceCount<span class="token punctuation">,</span>                       target<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">,</span>                       fromIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Code shared by String and StringBuffer to do searches. The     * source is the character array being searched, and the target     * is the string being searched for.     *     * @param   source       the characters being searched.     * @param   sourceOffset offset of the source string.     * @param   sourceCount  count of the source string.     * @param   target       the characters being searched for.     * @param   targetOffset offset of the target string.     * @param   targetCount  count of the target string.     * @param   fromIndex    the index to begin searching from.     */</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> source<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceOffset<span class="token punctuation">,</span> <span class="token keyword">int</span> sourceCount<span class="token punctuation">,</span>            <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> targetOffset<span class="token punctuation">,</span> <span class="token keyword">int</span> targetCount<span class="token punctuation">,</span>            <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/*         * Check arguments; return immediately where possible. For         * consistency, don't check for null str.         */</span>        <span class="token keyword">int</span> rightIndex <span class="token operator">=</span> sourceCount <span class="token operator">-</span> targetCount<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fromIndex <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fromIndex <span class="token operator">></span> rightIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            fromIndex <span class="token operator">=</span> rightIndex<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">/* Empty string always matches. */</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>targetCount <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> fromIndex<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> strLastIndex <span class="token operator">=</span> targetOffset <span class="token operator">+</span> targetCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> strLastChar <span class="token operator">=</span> target<span class="token punctuation">[</span>strLastIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> min <span class="token operator">=</span> sourceOffset <span class="token operator">+</span> targetCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> min <span class="token operator">+</span> fromIndex<span class="token punctuation">;</span>    startSearchForLastChar<span class="token operator">:</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">>=</span> min <span class="token operator">&amp;&amp;</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> strLastChar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                i<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> start <span class="token operator">=</span> j <span class="token operator">-</span> <span class="token punctuation">(</span>targetCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> k <span class="token operator">=</span> strLastIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">></span> start<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">[</span>j<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">!=</span> target<span class="token punctuation">[</span>k<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    i<span class="token operator">--</span><span class="token punctuation">;</span>                    <span class="token keyword">continue</span> startSearchForLastChar<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> start <span class="token operator">-</span> sourceOffset <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a string that is a substring of this string. The     * substring begins with the character at the specified index and     * extends to the end of this string. &lt;p>     * Examples:     * &lt;blockquote>&lt;pre>     * "unhappy".substring(2) returns "happy"     * "Harbison".substring(3) returns "bison"     * "emptiness".substring(9) returns "" (an empty string)     * &lt;/pre>&lt;/blockquote>     *     * @param      beginIndex   the beginning index, inclusive.     * @return     the specified substring.     * @exception  IndexOutOfBoundsException  if     *             &#123;@code beginIndex&#125; is negative or larger than the     *             length of this &#123;@code String&#125; object.     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">substring</span><span class="token punctuation">(</span><span class="token keyword">int</span> beginIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>beginIndex <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>beginIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> subLen <span class="token operator">=</span> value<span class="token punctuation">.</span>length <span class="token operator">-</span> beginIndex<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>subLen <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>subLen<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>beginIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> beginIndex<span class="token punctuation">,</span> subLen<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a string that is a substring of this string. The     * substring begins at the specified &#123;@code beginIndex&#125; and     * extends to the character at index &#123;@code endIndex - 1&#125;.     * Thus the length of the substring is &#123;@code endIndex-beginIndex&#125;.     * &lt;p>     * Examples:     * &lt;blockquote>&lt;pre>     * "hamburger".substring(4, 8) returns "urge"     * "smiles".substring(1, 5) returns "mile"     * &lt;/pre>&lt;/blockquote>     *     * @param      beginIndex   the beginning index, inclusive.     * @param      endIndex     the ending index, exclusive.     * @return     the specified substring.     * @exception  IndexOutOfBoundsException  if the     *             &#123;@code beginIndex&#125; is negative, or     *             &#123;@code endIndex&#125; is larger than the length of     *             this &#123;@code String&#125; object, or     *             &#123;@code beginIndex&#125; is larger than     *             &#123;@code endIndex&#125;.     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">substring</span><span class="token punctuation">(</span><span class="token keyword">int</span> beginIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> endIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>beginIndex <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>beginIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>endIndex <span class="token operator">></span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>endIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> subLen <span class="token operator">=</span> endIndex <span class="token operator">-</span> beginIndex<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>subLen <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>subLen<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>beginIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>endIndex <span class="token operator">==</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span>                <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> beginIndex<span class="token punctuation">,</span> subLen<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a character sequence that is a subsequence of this sequence.     *     * &lt;p> An invocation of this method of the form     *     * &lt;blockquote>&lt;pre>     * str.subSequence(begin,&amp;nbsp;end)&lt;/pre>&lt;/blockquote>     *     * behaves in exactly the same way as the invocation     *     * &lt;blockquote>&lt;pre>     * str.substring(begin,&amp;nbsp;end)&lt;/pre>&lt;/blockquote>     *     * @apiNote     * This method is defined so that the &#123;@code String&#125; class can implement     * the &#123;@link CharSequence&#125; interface.     *     * @param   beginIndex   the begin index, inclusive.     * @param   endIndex     the end index, exclusive.     * @return  the specified subsequence.     *     * @throws  IndexOutOfBoundsException     *          if &#123;@code beginIndex&#125; or &#123;@code endIndex&#125; is negative,     *          if &#123;@code endIndex&#125; is greater than &#123;@code length()&#125;,     *          or if &#123;@code beginIndex&#125; is greater than &#123;@code endIndex&#125;     *     * @since 1.4     * @spec JSR-51     */</span>    <span class="token keyword">public</span> <span class="token class-name">CharSequence</span> <span class="token function">subSequence</span><span class="token punctuation">(</span><span class="token keyword">int</span> beginIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> endIndex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>beginIndex<span class="token punctuation">,</span> endIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Concatenates the specified string to the end of this string.     * &lt;p>     * If the length of the argument string is &#123;@code 0&#125;, then this     * &#123;@code String&#125; object is returned. Otherwise, a     * &#123;@code String&#125; object is returned that represents a character     * sequence that is the concatenation of the character sequence     * represented by this &#123;@code String&#125; object and the character     * sequence represented by the argument string.&lt;p>     * Examples:     * &lt;blockquote>&lt;pre>     * "cares".concat("s") returns "caress"     * "to".concat("get").concat("her") returns "together"     * &lt;/pre>&lt;/blockquote>     *     * @param   str   the &#123;@code String&#125; that is concatenated to the end     *                of this &#123;@code String&#125;.     * @return  a string that represents the concatenation of this object's     *          characters followed by the string argument's characters.     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">concat</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> otherLen <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>otherLen <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> len <span class="token operator">+</span> otherLen<span class="token punctuation">)</span><span class="token punctuation">;</span>        str<span class="token punctuation">.</span><span class="token function">getChars</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a string resulting from replacing all occurrences of     * &#123;@code oldChar&#125; in this string with &#123;@code newChar&#125;.     * &lt;p>     * If the character &#123;@code oldChar&#125; does not occur in the     * character sequence represented by this &#123;@code String&#125; object,     * then a reference to this &#123;@code String&#125; object is returned.     * Otherwise, a &#123;@code String&#125; object is returned that     * represents a character sequence identical to the character sequence     * represented by this &#123;@code String&#125; object, except that every     * occurrence of &#123;@code oldChar&#125; is replaced by an occurrence     * of &#123;@code newChar&#125;.     * &lt;p>     * Examples:     * &lt;blockquote>&lt;pre>     * "mesquite in your cellar".replace('e', 'o')     *         returns "mosquito in your collar"     * "the war of baronets".replace('r', 'y')     *         returns "the way of bayonets"     * "sparring with a purple porpoise".replace('p', 't')     *         returns "starring with a turtle tortoise"     * "JonL".replace('q', 'x') returns "JonL" (no change)     * &lt;/pre>&lt;/blockquote>     *     * @param   oldChar   the old character.     * @param   newChar   the new character.     * @return  a string derived from this string by replacing every     *          occurrence of &#123;@code oldChar&#125; with &#123;@code newChar&#125;.     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">char</span> oldChar<span class="token punctuation">,</span> <span class="token keyword">char</span> newChar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>oldChar <span class="token operator">!=</span> newChar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> len <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> val <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token comment">/* avoid getfield opcode */</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">++</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> oldChar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    buf<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">char</span> c <span class="token operator">=</span> val<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                    buf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> oldChar<span class="token punctuation">)</span> <span class="token operator">?</span> newChar <span class="token operator">:</span> c<span class="token punctuation">;</span>                    i<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Tells whether or not this string matches the given &lt;a     * href="../util/regex/Pattern.html#sum">regular expression&lt;/a>.     *     * &lt;p> An invocation of this method of the form     * &lt;i>str&lt;/i>&#123;@code .matches(&#125;&lt;i>regex&lt;/i>&#123;@code )&#125; yields exactly the     * same result as the expression     *     * &lt;blockquote>     * &#123;@link java.util.regex.Pattern&#125;.&#123;@link java.util.regex.Pattern#matches(String,CharSequence)     * matches(&lt;i>regex&lt;/i>, &lt;i>str&lt;/i>)&#125;     * &lt;/blockquote>     *     * @param   regex     *          the regular expression to which this string is to be matched     *     * @return  &#123;@code true&#125; if, and only if, this string matches the     *          given regular expression     *     * @throws  PatternSyntaxException     *          if the regular expression's syntax is invalid     *     * @see java.util.regex.Pattern     *     * @since 1.4     * @spec JSR-51     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns true if and only if this string contains the specified     * sequence of char values.     *     * @param s the sequence to search for     * @return true if this string contains &#123;@code s&#125;, false otherwise     * @since 1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">contains</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Replaces the first substring of this string that matches the given &lt;a     * href="../util/regex/Pattern.html#sum">regular expression&lt;/a> with the     * given replacement.     *     * &lt;p> An invocation of this method of the form     * &lt;i>str&lt;/i>&#123;@code .replaceFirst(&#125;&lt;i>regex&lt;/i>&#123;@code ,&#125; &lt;i>repl&lt;/i>&#123;@code )&#125;     * yields exactly the same result as the expression     *     * &lt;blockquote>     * &lt;code>     * &#123;@link java.util.regex.Pattern&#125;.&#123;@link     * java.util.regex.Pattern#compile compile&#125;(&lt;i>regex&lt;/i>).&#123;@link     * java.util.regex.Pattern#matcher(java.lang.CharSequence) matcher&#125;(&lt;i>str&lt;/i>).&#123;@link     * java.util.regex.Matcher#replaceFirst replaceFirst&#125;(&lt;i>repl&lt;/i>)     * &lt;/code>     * &lt;/blockquote>     *     *&lt;p>     * Note that backslashes (&#123;@code \&#125;) and dollar signs (&#123;@code $&#125;) in the     * replacement string may cause the results to be different than if it were     * being treated as a literal replacement string; see     * &#123;@link java.util.regex.Matcher#replaceFirst&#125;.     * Use &#123;@link java.util.regex.Matcher#quoteReplacement&#125; to suppress the special     * meaning of these characters, if desired.     *     * @param   regex     *          the regular expression to which this string is to be matched     * @param   replacement     *          the string to be substituted for the first match     *     * @return  The resulting &#123;@code String&#125;     *     * @throws  PatternSyntaxException     *          if the regular expression's syntax is invalid     *     * @see java.util.regex.Pattern     *     * @since 1.4     * @spec JSR-51     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">,</span> <span class="token class-name">String</span> replacement<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span>replacement<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Replaces each substring of this string that matches the given &lt;a     * href="../util/regex/Pattern.html#sum">regular expression&lt;/a> with the     * given replacement.     *     * &lt;p> An invocation of this method of the form     * &lt;i>str&lt;/i>&#123;@code .replaceAll(&#125;&lt;i>regex&lt;/i>&#123;@code ,&#125; &lt;i>repl&lt;/i>&#123;@code )&#125;     * yields exactly the same result as the expression     *     * &lt;blockquote>     * &lt;code>     * &#123;@link java.util.regex.Pattern&#125;.&#123;@link     * java.util.regex.Pattern#compile compile&#125;(&lt;i>regex&lt;/i>).&#123;@link     * java.util.regex.Pattern#matcher(java.lang.CharSequence) matcher&#125;(&lt;i>str&lt;/i>).&#123;@link     * java.util.regex.Matcher#replaceAll replaceAll&#125;(&lt;i>repl&lt;/i>)     * &lt;/code>     * &lt;/blockquote>     *     *&lt;p>     * Note that backslashes (&#123;@code \&#125;) and dollar signs (&#123;@code $&#125;) in the     * replacement string may cause the results to be different than if it were     * being treated as a literal replacement string; see     * &#123;@link java.util.regex.Matcher#replaceAll Matcher.replaceAll&#125;.     * Use &#123;@link java.util.regex.Matcher#quoteReplacement&#125; to suppress the special     * meaning of these characters, if desired.     *     * @param   regex     *          the regular expression to which this string is to be matched     * @param   replacement     *          the string to be substituted for each match     *     * @return  The resulting &#123;@code String&#125;     *     * @throws  PatternSyntaxException     *          if the regular expression's syntax is invalid     *     * @see java.util.regex.Pattern     *     * @since 1.4     * @spec JSR-51     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">,</span> <span class="token class-name">String</span> replacement<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>replacement<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Replaces each substring of this string that matches the literal target     * sequence with the specified literal replacement sequence. The     * replacement proceeds from the beginning of the string to the end, for     * example, replacing "aa" with "b" in the string "aaa" will result in     * "ba" rather than "ab".     *     * @param  target The sequence of char values to be replaced     * @param  replacement The replacement sequence of char values     * @return  The resulting string     * @since 1.5     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> target<span class="token punctuation">,</span> <span class="token class-name">CharSequence</span> replacement<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span>LITERAL<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>                <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token class-name">Matcher</span><span class="token punctuation">.</span><span class="token function">quoteReplacement</span><span class="token punctuation">(</span>replacement<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Splits this string around matches of the given     * &lt;a href="../util/regex/Pattern.html#sum">regular expression&lt;/a>.     *     * &lt;p> The array returned by this method contains each substring of this     * string that is terminated by another substring that matches the given     * expression or is terminated by the end of the string.  The substrings in     * the array are in the order in which they occur in this string.  If the     * expression does not match any part of the input then the resulting array     * has just one element, namely this string.     *     * &lt;p> When there is a positive-width match at the beginning of this     * string then an empty leading substring is included at the beginning     * of the resulting array. A zero-width match at the beginning however     * never produces such empty leading substring.     *     * &lt;p> The &#123;@code limit&#125; parameter controls the number of times the     * pattern is applied and therefore affects the length of the resulting     * array.  If the limit &lt;i>n&lt;/i> is greater than zero then the pattern     * will be applied at most &lt;i>n&lt;/i>&amp;nbsp;-&amp;nbsp;1 times, the array's     * length will be no greater than &lt;i>n&lt;/i>, and the array's last entry     * will contain all input beyond the last matched delimiter.  If &lt;i>n&lt;/i>     * is non-positive then the pattern will be applied as many times as     * possible and the array can have any length.  If &lt;i>n&lt;/i> is zero then     * the pattern will be applied as many times as possible, the array can     * have any length, and trailing empty strings will be discarded.     *     * &lt;p> The string &#123;@code "boo:and:foo"&#125;, for example, yields the     * following results with these parameters:     *     * &lt;blockquote>&lt;table cellpadding=1 cellspacing=0 summary="Split example showing regex, limit, and result">     * &lt;tr>     *     &lt;th>Regex&lt;/th>     *     &lt;th>Limit&lt;/th>     *     &lt;th>Result&lt;/th>     * &lt;/tr>     * &lt;tr>&lt;td align=center>:&lt;/td>     *     &lt;td align=center>2&lt;/td>     *     &lt;td>&#123;@code &#123; "boo", "and:foo" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;tr>&lt;td align=center>:&lt;/td>     *     &lt;td align=center>5&lt;/td>     *     &lt;td>&#123;@code &#123; "boo", "and", "foo" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;tr>&lt;td align=center>:&lt;/td>     *     &lt;td align=center>-2&lt;/td>     *     &lt;td>&#123;@code &#123; "boo", "and", "foo" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;tr>&lt;td align=center>o&lt;/td>     *     &lt;td align=center>5&lt;/td>     *     &lt;td>&#123;@code &#123; "b", "", ":and:f", "", "" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;tr>&lt;td align=center>o&lt;/td>     *     &lt;td align=center>-2&lt;/td>     *     &lt;td>&#123;@code &#123; "b", "", ":and:f", "", "" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;tr>&lt;td align=center>o&lt;/td>     *     &lt;td align=center>0&lt;/td>     *     &lt;td>&#123;@code &#123; "b", "", ":and:f" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;/table>&lt;/blockquote>     *     * &lt;p> An invocation of this method of the form     * &lt;i>str.&lt;/i>&#123;@code split(&#125;&lt;i>regex&lt;/i>&#123;@code ,&#125;&amp;nbsp;&lt;i>n&lt;/i>&#123;@code )&#125;     * yields the same result as the expression     *     * &lt;blockquote>     * &lt;code>     * &#123;@link java.util.regex.Pattern&#125;.&#123;@link     * java.util.regex.Pattern#compile compile&#125;(&lt;i>regex&lt;/i>).&#123;@link     * java.util.regex.Pattern#split(java.lang.CharSequence,int) split&#125;(&lt;i>str&lt;/i>,&amp;nbsp;&lt;i>n&lt;/i>)     * &lt;/code>     * &lt;/blockquote>     *     *     * @param  regex     *         the delimiting regular expression     *     * @param  limit     *         the result threshold, as described above     *     * @return  the array of strings computed by splitting this string     *          around matches of the given regular expression     *     * @throws  PatternSyntaxException     *          if the regular expression's syntax is invalid     *     * @see java.util.regex.Pattern     *     * @since 1.4     * @spec JSR-51     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* fastpath if the regex is a         (1)one-char String and this character is not one of the            RegEx's meta characters ".$|()[&#123;^?*+\\", or         (2)two-char String and the first char is the backslash and            the second is not the ascii digit or ascii letter.         */</span>        <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>             <span class="token string">".$|()[&#123;^?*+\\"</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>ch <span class="token operator">=</span> regex<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span>             <span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span>              regex<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'\\'</span> <span class="token operator">&amp;&amp;</span>              <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ch <span class="token operator">=</span> regex<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token string">'9'</span><span class="token operator">-</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>              <span class="token punctuation">(</span><span class="token punctuation">(</span>ch<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token string">'z'</span><span class="token operator">-</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>              <span class="token punctuation">(</span><span class="token punctuation">(</span>ch<span class="token operator">-</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token string">'Z'</span><span class="token operator">-</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>            <span class="token punctuation">(</span>ch <span class="token operator">&lt;</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_HIGH_SURROGATE <span class="token operator">||</span>             ch <span class="token operator">></span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MAX_LOW_SURROGATE<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> off <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> next <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">boolean</span> limited <span class="token operator">=</span> limit <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>next <span class="token operator">=</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> off<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>limited <span class="token operator">||</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> limit <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">substring</span><span class="token punctuation">(</span>off<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    off <span class="token operator">=</span> next <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// last one</span>                    <span class="token comment">//assert (list.size() == limit - 1);</span>                    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">substring</span><span class="token punctuation">(</span>off<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    off <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">// If no match was found, return this</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>off <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            <span class="token comment">// Add remaining segment</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>limited <span class="token operator">||</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> limit<span class="token punctuation">)</span>                list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">substring</span><span class="token punctuation">(</span>off<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// Construct result</span>            <span class="token keyword">int</span> resultSize <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>limit <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>resultSize <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>resultSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    resultSize<span class="token operator">--</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>resultSize<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> resultSize<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Splits this string around matches of the given &lt;a     * href="../util/regex/Pattern.html#sum">regular expression&lt;/a>.     *     * &lt;p> This method works as if by invoking the two-argument &#123;@link     * #split(String, int) split&#125; method with the given expression and a limit     * argument of zero.  Trailing empty strings are therefore not included in     * the resulting array.     *     * &lt;p> The string &#123;@code "boo:and:foo"&#125;, for example, yields the following     * results with these expressions:     *     * &lt;blockquote>&lt;table cellpadding=1 cellspacing=0 summary="Split examples showing regex and result">     * &lt;tr>     *  &lt;th>Regex&lt;/th>     *  &lt;th>Result&lt;/th>     * &lt;/tr>     * &lt;tr>&lt;td align=center>:&lt;/td>     *     &lt;td>&#123;@code &#123; "boo", "and", "foo" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;tr>&lt;td align=center>o&lt;/td>     *     &lt;td>&#123;@code &#123; "b", "", ":and:f" &#125;&#125;&lt;/td>&lt;/tr>     * &lt;/table>&lt;/blockquote>     *     *     * @param  regex     *         the delimiting regular expression     *     * @return  the array of strings computed by splitting this string     *          around matches of the given regular expression     *     * @throws  PatternSyntaxException     *          if the regular expression's syntax is invalid     *     * @see java.util.regex.Pattern     *     * @since 1.4     * @spec JSR-51     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">split</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a new String composed of copies of the     * &#123;@code CharSequence elements&#125; joined together with a copy of     * the specified &#123;@code delimiter&#125;.     *     * &lt;blockquote>For example,     * &lt;pre>&#123;@code     *     String message = String.join("-", "Java", "is", "cool");     *     // message returned is: "Java-is-cool"     * &#125;&lt;/pre>&lt;/blockquote>     *     * Note that if an element is null, then &#123;@code "null"&#125; is added.     *     * @param  delimiter the delimiter that separates each element     * @param  elements the elements to join together.     *     * @return a new &#123;@code String&#125; that is composed of the &#123;@code elements&#125;     *         separated by the &#123;@code delimiter&#125;     *     * @throws NullPointerException If &#123;@code delimiter&#125; or &#123;@code elements&#125;     *         is &#123;@code null&#125;     *     * @see java.util.StringJoiner     * @since 1.8     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> delimiter<span class="token punctuation">,</span> <span class="token class-name">CharSequence</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> elements<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>delimiter<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Number of elements not likely worth Arrays.stream overhead.</span>        <span class="token class-name">StringJoiner</span> joiner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringJoiner</span><span class="token punctuation">(</span>delimiter<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CharSequence</span> cs<span class="token operator">:</span> elements<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            joiner<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> joiner<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a new &#123;@code String&#125; composed of copies of the     * &#123;@code CharSequence elements&#125; joined together with a copy of the     * specified &#123;@code delimiter&#125;.     *     * &lt;blockquote>For example,     * &lt;pre>&#123;@code     *     List&lt;String> strings = new LinkedList&lt;>();     *     strings.add("Java");strings.add("is");     *     strings.add("cool");     *     String message = String.join(" ", strings);     *     //message returned is: "Java is cool"     *     *     Set&lt;String> strings = new LinkedHashSet&lt;>();     *     strings.add("Java"); strings.add("is");     *     strings.add("very"); strings.add("cool");     *     String message = String.join("-", strings);     *     //message returned is: "Java-is-very-cool"     * &#125;&lt;/pre>&lt;/blockquote>     *     * Note that if an individual element is &#123;@code null&#125;, then &#123;@code "null"&#125; is added.     *     * @param  delimiter a sequence of characters that is used to separate each     *         of the &#123;@code elements&#125; in the resulting &#123;@code String&#125;     * @param  elements an &#123;@code Iterable&#125; that will have its &#123;@code elements&#125;     *         joined together.     *     * @return a new &#123;@code String&#125; that is composed from the &#123;@code elements&#125;     *         argument     *     * @throws NullPointerException If &#123;@code delimiter&#125; or &#123;@code elements&#125;     *         is &#123;@code null&#125;     *     * @see    #join(CharSequence,CharSequence...)     * @see    java.util.StringJoiner     * @since 1.8     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> delimiter<span class="token punctuation">,</span>            <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">CharSequence</span><span class="token punctuation">></span></span> elements<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>delimiter<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StringJoiner</span> joiner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringJoiner</span><span class="token punctuation">(</span>delimiter<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CharSequence</span> cs<span class="token operator">:</span> elements<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            joiner<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> joiner<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Converts all of the characters in this &#123;@code String&#125; to lower     * case using the rules of the given &#123;@code Locale&#125;.  Case mapping is based     * on the Unicode Standard version specified by the &#123;@link java.lang.Character Character&#125;     * class. Since case mappings are not always 1:1 char mappings, the resulting     * &#123;@code String&#125; may be a different length than the original &#123;@code String&#125;.     * &lt;p>     * Examples of lowercase  mappings are in the following table:     * &lt;table border="1" summary="Lowercase mapping examples showing language code of locale, upper case, lower case, and description">     * &lt;tr>     *   &lt;th>Language Code of Locale&lt;/th>     *   &lt;th>Upper Case&lt;/th>     *   &lt;th>Lower Case&lt;/th>     *   &lt;th>Description&lt;/th>     * &lt;/tr>     * &lt;tr>     *   &lt;td>tr (Turkish)&lt;/td>     *   &lt;td>&amp;#92;u0130&lt;/td>     *   &lt;td>&amp;#92;u0069&lt;/td>     *   &lt;td>capital letter I with dot above -&amp;gt; small letter i&lt;/td>     * &lt;/tr>     * &lt;tr>     *   &lt;td>tr (Turkish)&lt;/td>     *   &lt;td>&amp;#92;u0049&lt;/td>     *   &lt;td>&amp;#92;u0131&lt;/td>     *   &lt;td>capital letter I -&amp;gt; small letter dotless i &lt;/td>     * &lt;/tr>     * &lt;tr>     *   &lt;td>(all)&lt;/td>     *   &lt;td>French Fries&lt;/td>     *   &lt;td>french fries&lt;/td>     *   &lt;td>lowercased all chars in String&lt;/td>     * &lt;/tr>     * &lt;tr>     *   &lt;td>(all)&lt;/td>     *   &lt;td>&lt;img src="doc-files/capiota.gif" alt="capiota">&lt;img src="doc-files/capchi.gif" alt="capchi">     *       &lt;img src="doc-files/captheta.gif" alt="captheta">&lt;img src="doc-files/capupsil.gif" alt="capupsil">     *       &lt;img src="doc-files/capsigma.gif" alt="capsigma">&lt;/td>     *   &lt;td>&lt;img src="doc-files/iota.gif" alt="iota">&lt;img src="doc-files/chi.gif" alt="chi">     *       &lt;img src="doc-files/theta.gif" alt="theta">&lt;img src="doc-files/upsilon.gif" alt="upsilon">     *       &lt;img src="doc-files/sigma1.gif" alt="sigma">&lt;/td>     *   &lt;td>lowercased all chars in String&lt;/td>     * &lt;/tr>     * &lt;/table>     *     * @param locale use the case transformation rules for this locale     * @return the &#123;@code String&#125;, converted to lowercase.     * @see     java.lang.String#toLowerCase()     * @see     java.lang.String#toUpperCase()     * @see     java.lang.String#toUpperCase(Locale)     * @since   1.1     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> locale<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>locale <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> firstUpper<span class="token punctuation">;</span>        <span class="token keyword">final</span> <span class="token keyword">int</span> len <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token comment">/* Now check if there are any characters that need to be changed. */</span>        scan<span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>firstUpper <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> firstUpper <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">char</span> c <span class="token operator">=</span> value<span class="token punctuation">[</span>firstUpper<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">>=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_HIGH_SURROGATE<span class="token punctuation">)</span>                        <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">&lt;=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MAX_HIGH_SURROGATE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">int</span> supplChar <span class="token operator">=</span> <span class="token function">codePointAt</span><span class="token punctuation">(</span>firstUpper<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>supplChar <span class="token operator">!=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>supplChar<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">break</span> scan<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    firstUpper <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">charCount</span><span class="token punctuation">(</span>supplChar<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">break</span> scan<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    firstUpper<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> resultOffset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">/* result may grow, so i+resultOffset                                * is the write location in result */</span>        <span class="token comment">/* Just copy the first few lowerCase characters. */</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> firstUpper<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> lang <span class="token operator">=</span> locale<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> localeDependent <span class="token operator">=</span>                <span class="token punctuation">(</span>lang <span class="token operator">==</span> <span class="token string">"tr"</span> <span class="token operator">||</span> lang <span class="token operator">==</span> <span class="token string">"az"</span> <span class="token operator">||</span> lang <span class="token operator">==</span> <span class="token string">"lt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> lowerCharArray<span class="token punctuation">;</span>        <span class="token keyword">int</span> lowerChar<span class="token punctuation">;</span>        <span class="token keyword">int</span> srcChar<span class="token punctuation">;</span>        <span class="token keyword">int</span> srcCount<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> firstUpper<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">+=</span> srcCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            srcChar <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>srcChar <span class="token operator">>=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_HIGH_SURROGATE                    <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>srcChar <span class="token operator">&lt;=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MAX_HIGH_SURROGATE<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                srcChar <span class="token operator">=</span> <span class="token function">codePointAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                srcCount <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">charCount</span><span class="token punctuation">(</span>srcChar<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                srcCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>localeDependent <span class="token operator">||</span>                srcChar <span class="token operator">==</span> <span class="token string">'\u03A3'</span> <span class="token operator">||</span> <span class="token comment">// GREEK CAPITAL LETTER SIGMA</span>                srcChar <span class="token operator">==</span> <span class="token string">'\u0130'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// LATIN CAPITAL LETTER I WITH DOT ABOVE</span>                lowerChar <span class="token operator">=</span> <span class="token class-name">ConditionalSpecialCasing</span><span class="token punctuation">.</span><span class="token function">toLowerCaseEx</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                lowerChar <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>srcChar<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>lowerChar <span class="token operator">==</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span>                    <span class="token operator">||</span> <span class="token punctuation">(</span>lowerChar <span class="token operator">>=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_SUPPLEMENTARY_CODE_POINT<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>lowerChar <span class="token operator">==</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    lowerCharArray <span class="token operator">=</span>                            <span class="token class-name">ConditionalSpecialCasing</span><span class="token punctuation">.</span><span class="token function">toLowerCaseCharArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>srcCount <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    resultOffset <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toChars</span><span class="token punctuation">(</span>lowerChar<span class="token punctuation">,</span> result<span class="token punctuation">,</span> i <span class="token operator">+</span> resultOffset<span class="token punctuation">)</span> <span class="token operator">-</span> srcCount<span class="token punctuation">;</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    lowerCharArray <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toChars</span><span class="token punctuation">(</span>lowerChar<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">/* Grow result if needed */</span>                <span class="token keyword">int</span> mapLen <span class="token operator">=</span> lowerCharArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>mapLen <span class="token operator">></span> srcCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>result<span class="token punctuation">.</span>length <span class="token operator">+</span> mapLen <span class="token operator">-</span> srcCount<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> result2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">+</span> resultOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>                    result <span class="token operator">=</span> result2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> mapLen<span class="token punctuation">;</span> <span class="token operator">++</span>x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    result<span class="token punctuation">[</span>i <span class="token operator">+</span> resultOffset <span class="token operator">+</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> lowerCharArray<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                resultOffset <span class="token operator">+=</span> <span class="token punctuation">(</span>mapLen <span class="token operator">-</span> srcCount<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                result<span class="token punctuation">[</span>i <span class="token operator">+</span> resultOffset<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>lowerChar<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">+</span> resultOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Converts all of the characters in this &#123;@code String&#125; to lower     * case using the rules of the default locale. This is equivalent to calling     * &#123;@code toLowerCase(Locale.getDefault())&#125;.     * &lt;p>     * &lt;b>Note:&lt;/b> This method is locale sensitive, and may produce unexpected     * results if used for strings that are intended to be interpreted locale     * independently.     * Examples are programming language identifiers, protocol keys, and HTML     * tags.     * For instance, &#123;@code "TITLE".toLowerCase()&#125; in a Turkish locale     * returns &#123;@code "t\u005Cu0131tle"&#125;, where '\u005Cu0131' is the     * LATIN SMALL LETTER DOTLESS I character.     * To obtain correct results for locale insensitive strings, use     * &#123;@code toLowerCase(Locale.ROOT)&#125;.     * &lt;p>     * @return  the &#123;@code String&#125;, converted to lowercase.     * @see     java.lang.String#toLowerCase(Locale)     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Converts all of the characters in this &#123;@code String&#125; to upper     * case using the rules of the given &#123;@code Locale&#125;. Case mapping is based     * on the Unicode Standard version specified by the &#123;@link java.lang.Character Character&#125;     * class. Since case mappings are not always 1:1 char mappings, the resulting     * &#123;@code String&#125; may be a different length than the original &#123;@code String&#125;.     * &lt;p>     * Examples of locale-sensitive and 1:M case mappings are in the following table.     *     * &lt;table border="1" summary="Examples of locale-sensitive and 1:M case mappings. Shows Language code of locale, lower case, upper case, and description.">     * &lt;tr>     *   &lt;th>Language Code of Locale&lt;/th>     *   &lt;th>Lower Case&lt;/th>     *   &lt;th>Upper Case&lt;/th>     *   &lt;th>Description&lt;/th>     * &lt;/tr>     * &lt;tr>     *   &lt;td>tr (Turkish)&lt;/td>     *   &lt;td>&amp;#92;u0069&lt;/td>     *   &lt;td>&amp;#92;u0130&lt;/td>     *   &lt;td>small letter i -&amp;gt; capital letter I with dot above&lt;/td>     * &lt;/tr>     * &lt;tr>     *   &lt;td>tr (Turkish)&lt;/td>     *   &lt;td>&amp;#92;u0131&lt;/td>     *   &lt;td>&amp;#92;u0049&lt;/td>     *   &lt;td>small letter dotless i -&amp;gt; capital letter I&lt;/td>     * &lt;/tr>     * &lt;tr>     *   &lt;td>(all)&lt;/td>     *   &lt;td>&amp;#92;u00df&lt;/td>     *   &lt;td>&amp;#92;u0053 &amp;#92;u0053&lt;/td>     *   &lt;td>small letter sharp s -&amp;gt; two letters: SS&lt;/td>     * &lt;/tr>     * &lt;tr>     *   &lt;td>(all)&lt;/td>     *   &lt;td>Fahrvergn&amp;uuml;gen&lt;/td>     *   &lt;td>FAHRVERGN&amp;Uuml;GEN&lt;/td>     *   &lt;td>&lt;/td>     * &lt;/tr>     * &lt;/table>     * @param locale use the case transformation rules for this locale     * @return the &#123;@code String&#125;, converted to uppercase.     * @see     java.lang.String#toUpperCase()     * @see     java.lang.String#toLowerCase()     * @see     java.lang.String#toLowerCase(Locale)     * @since   1.1     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> locale<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>locale <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> firstLower<span class="token punctuation">;</span>        <span class="token keyword">final</span> <span class="token keyword">int</span> len <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token comment">/* Now check if there are any characters that need to be changed. */</span>        scan<span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>firstLower <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> firstLower <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>value<span class="token punctuation">[</span>firstLower<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> srcCount<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">>=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_HIGH_SURROGATE<span class="token punctuation">)</span>                        <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">&lt;=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MAX_HIGH_SURROGATE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    c <span class="token operator">=</span> <span class="token function">codePointAt</span><span class="token punctuation">(</span>firstLower<span class="token punctuation">)</span><span class="token punctuation">;</span>                    srcCount <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">charCount</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    srcCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">int</span> upperCaseChar <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCaseEx</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>upperCaseChar <span class="token operator">==</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span>                        <span class="token operator">||</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> upperCaseChar<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">break</span> scan<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                firstLower <span class="token operator">+=</span> srcCount<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">/* result may grow, so i+resultOffset is the write location in result */</span>        <span class="token keyword">int</span> resultOffset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* may grow */</span>        <span class="token comment">/* Just copy the first few upperCase characters. */</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> firstLower<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> lang <span class="token operator">=</span> locale<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> localeDependent <span class="token operator">=</span>                <span class="token punctuation">(</span>lang <span class="token operator">==</span> <span class="token string">"tr"</span> <span class="token operator">||</span> lang <span class="token operator">==</span> <span class="token string">"az"</span> <span class="token operator">||</span> lang <span class="token operator">==</span> <span class="token string">"lt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> upperCharArray<span class="token punctuation">;</span>        <span class="token keyword">int</span> upperChar<span class="token punctuation">;</span>        <span class="token keyword">int</span> srcChar<span class="token punctuation">;</span>        <span class="token keyword">int</span> srcCount<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> firstLower<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">+=</span> srcCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            srcChar <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>srcChar <span class="token operator">>=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_HIGH_SURROGATE <span class="token operator">&amp;&amp;</span>                <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>srcChar <span class="token operator">&lt;=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MAX_HIGH_SURROGATE<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                srcChar <span class="token operator">=</span> <span class="token function">codePointAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                srcCount <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">charCount</span><span class="token punctuation">(</span>srcChar<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                srcCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>localeDependent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                upperChar <span class="token operator">=</span> <span class="token class-name">ConditionalSpecialCasing</span><span class="token punctuation">.</span><span class="token function">toUpperCaseEx</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                upperChar <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCaseEx</span><span class="token punctuation">(</span>srcChar<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>upperChar <span class="token operator">==</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span>                    <span class="token operator">||</span> <span class="token punctuation">(</span>upperChar <span class="token operator">>=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>MIN_SUPPLEMENTARY_CODE_POINT<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>upperChar <span class="token operator">==</span> <span class="token class-name">Character</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>localeDependent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        upperCharArray <span class="token operator">=</span>                                <span class="token class-name">ConditionalSpecialCasing</span><span class="token punctuation">.</span><span class="token function">toUpperCaseCharArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        upperCharArray <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCaseCharArray</span><span class="token punctuation">(</span>srcChar<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>srcCount <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    resultOffset <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toChars</span><span class="token punctuation">(</span>upperChar<span class="token punctuation">,</span> result<span class="token punctuation">,</span> i <span class="token operator">+</span> resultOffset<span class="token punctuation">)</span> <span class="token operator">-</span> srcCount<span class="token punctuation">;</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    upperCharArray <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toChars</span><span class="token punctuation">(</span>upperChar<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">/* Grow result if needed */</span>                <span class="token keyword">int</span> mapLen <span class="token operator">=</span> upperCharArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>mapLen <span class="token operator">></span> srcCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>result<span class="token punctuation">.</span>length <span class="token operator">+</span> mapLen <span class="token operator">-</span> srcCount<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> result2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">+</span> resultOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>                    result <span class="token operator">=</span> result2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> mapLen<span class="token punctuation">;</span> <span class="token operator">++</span>x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    result<span class="token punctuation">[</span>i <span class="token operator">+</span> resultOffset <span class="token operator">+</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> upperCharArray<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                resultOffset <span class="token operator">+=</span> <span class="token punctuation">(</span>mapLen <span class="token operator">-</span> srcCount<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                result<span class="token punctuation">[</span>i <span class="token operator">+</span> resultOffset<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>upperChar<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">+</span> resultOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Converts all of the characters in this &#123;@code String&#125; to upper     * case using the rules of the default locale. This method is equivalent to     * &#123;@code toUpperCase(Locale.getDefault())&#125;.     * &lt;p>     * &lt;b>Note:&lt;/b> This method is locale sensitive, and may produce unexpected     * results if used for strings that are intended to be interpreted locale     * independently.     * Examples are programming language identifiers, protocol keys, and HTML     * tags.     * For instance, &#123;@code "title".toUpperCase()&#125; in a Turkish locale     * returns &#123;@code "T\u005Cu0130TLE"&#125;, where '\u005Cu0130' is the     * LATIN CAPITAL LETTER I WITH DOT ABOVE character.     * To obtain correct results for locale insensitive strings, use     * &#123;@code toUpperCase(Locale.ROOT)&#125;.     * &lt;p>     * @return  the &#123;@code String&#125;, converted to uppercase.     * @see     java.lang.String#toUpperCase(Locale)     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a string whose value is this string, with any leading and trailing     * whitespace removed.     * &lt;p>     * If this &#123;@code String&#125; object represents an empty character     * sequence, or the first and last characters of character sequence     * represented by this &#123;@code String&#125; object both have codes     * greater than &#123;@code '\u005Cu0020'&#125; (the space character), then a     * reference to this &#123;@code String&#125; object is returned.     * &lt;p>     * Otherwise, if there is no character with a code greater than     * &#123;@code '\u005Cu0020'&#125; in the string, then a     * &#123;@code String&#125; object representing an empty string is     * returned.     * &lt;p>     * Otherwise, let &lt;i>k&lt;/i> be the index of the first character in the     * string whose code is greater than &#123;@code '\u005Cu0020'&#125;, and let     * &lt;i>m&lt;/i> be the index of the last character in the string whose code     * is greater than &#123;@code '\u005Cu0020'&#125;. A &#123;@code String&#125;     * object is returned, representing the substring of this string that     * begins with the character at index &lt;i>k&lt;/i> and ends with the     * character at index &lt;i>m&lt;/i>-that is, the result of     * &#123;@code this.substring(k, m + 1)&#125;.     * &lt;p>     * This method may be used to trim whitespace (as defined above) from     * the beginning and end of a string.     *     * @return  A string whose value is this string, with any leading and trailing white     *          space removed, or this string if it has no leading or     *          trailing white space.     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">int</span> st <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> val <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token comment">/* avoid getfield opcode */</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>st <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>val<span class="token punctuation">[</span>st<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            st<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>st <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>val<span class="token punctuation">[</span>len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            len<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>st <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">substring</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span> len<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * This object (which is already a string!) is itself returned.     *     * @return  the string itself.     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Converts this string to a new character array.     *     * @return  a newly allocated character array whose length is the length     *          of this string and whose contents are initialized to contain     *          the character sequence represented by this string.     */</span>    <span class="token keyword">public</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// Cannot use Arrays.copyOf because of class initialization order issues</span>        <span class="token keyword">char</span> result<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>value<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a formatted string using the specified format string and     * arguments.     *     * &lt;p> The locale always used is the one returned by &#123;@link     * java.util.Locale#getDefault() Locale.getDefault()&#125;.     *     * @param  format     *         A &lt;a href="../util/Formatter.html#syntax">format string&lt;/a>     *     * @param  args     *         Arguments referenced by the format specifiers in the format     *         string.  If there are more arguments than format specifiers, the     *         extra arguments are ignored.  The number of arguments is     *         variable and may be zero.  The maximum number of arguments is     *         limited by the maximum dimension of a Java array as defined by     *         &lt;cite>The Java&amp;trade; Virtual Machine Specification&lt;/cite>.     *         The behaviour on a     *         &#123;@code null&#125; argument depends on the &lt;a     *         href="../util/Formatter.html#syntax">conversion&lt;/a>.     *     * @throws  java.util.IllegalFormatException     *          If a format string contains an illegal syntax, a format     *          specifier that is incompatible with the given arguments,     *          insufficient arguments given the format string, or other     *          illegal conditions.  For specification of all possible     *          formatting errors, see the &lt;a     *          href="../util/Formatter.html#detail">Details&lt;/a> section of the     *          formatter class specification.     *     * @return  A formatted string     *     * @see  java.util.Formatter     * @since  1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">String</span> format<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a formatted string using the specified locale, format string,     * and arguments.     *     * @param  l     *         The &#123;@linkplain java.util.Locale locale&#125; to apply during     *         formatting.  If &#123;@code l&#125; is &#123;@code null&#125; then no localization     *         is applied.     *     * @param  format     *         A &lt;a href="../util/Formatter.html#syntax">format string&lt;/a>     *     * @param  args     *         Arguments referenced by the format specifiers in the format     *         string.  If there are more arguments than format specifiers, the     *         extra arguments are ignored.  The number of arguments is     *         variable and may be zero.  The maximum number of arguments is     *         limited by the maximum dimension of a Java array as defined by     *         &lt;cite>The Java&amp;trade; Virtual Machine Specification&lt;/cite>.     *         The behaviour on a     *         &#123;@code null&#125; argument depends on the     *         &lt;a href="../util/Formatter.html#syntax">conversion&lt;/a>.     *     * @throws  java.util.IllegalFormatException     *          If a format string contains an illegal syntax, a format     *          specifier that is incompatible with the given arguments,     *          insufficient arguments given the format string, or other     *          illegal conditions.  For specification of all possible     *          formatting errors, see the &lt;a     *          href="../util/Formatter.html#detail">Details&lt;/a> section of the     *          formatter class specification     *     * @return  A formatted string     *     * @see  java.util.Formatter     * @since  1.5     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> l<span class="token punctuation">,</span> <span class="token class-name">String</span> format<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code Object&#125; argument.     *     * @param   obj   an &#123;@code Object&#125;.     * @return  if the argument is &#123;@code null&#125;, then a string equal to     *          &#123;@code "null"&#125;; otherwise, the value of     *          &#123;@code obj.toString()&#125; is returned.     * @see     java.lang.Object#toString()     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"null"</span> <span class="token operator">:</span> obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code char&#125; array     * argument. The contents of the character array are copied; subsequent     * modification of the character array does not affect the returned     * string.     *     * @param   data     the character array.     * @return  a &#123;@code String&#125; that contains the characters of the     *          character array.     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of a specific subarray of the     * &#123;@code char&#125; array argument.     * &lt;p>     * The &#123;@code offset&#125; argument is the index of the first     * character of the subarray. The &#123;@code count&#125; argument     * specifies the length of the subarray. The contents of the subarray     * are copied; subsequent modification of the character array does not     * affect the returned string.     *     * @param   data     the character array.     * @param   offset   initial offset of the subarray.     * @param   count    length of the subarray.     * @return  a &#123;@code String&#125; that contains the characters of the     *          specified subarray of the character array.     * @exception IndexOutOfBoundsException if &#123;@code offset&#125; is     *          negative, or &#123;@code count&#125; is negative, or     *          &#123;@code offset+count&#125; is larger than     *          &#123;@code data.length&#125;.     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Equivalent to &#123;@link #valueOf(char[], int, int)&#125;.     *     * @param   data     the character array.     * @param   offset   initial offset of the subarray.     * @param   count    length of the subarray.     * @return  a &#123;@code String&#125; that contains the characters of the     *          specified subarray of the character array.     * @exception IndexOutOfBoundsException if &#123;@code offset&#125; is     *          negative, or &#123;@code count&#125; is negative, or     *          &#123;@code offset+count&#125; is larger than     *          &#123;@code data.length&#125;.     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">copyValueOf</span><span class="token punctuation">(</span><span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Equivalent to &#123;@link #valueOf(char[])&#125;.     *     * @param   data   the character array.     * @return  a &#123;@code String&#125; that contains the characters of the     *          character array.     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">copyValueOf</span><span class="token punctuation">(</span><span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code boolean&#125; argument.     *     * @param   b   a &#123;@code boolean&#125;.     * @return  if the argument is &#123;@code true&#125;, a string equal to     *          &#123;@code "true"&#125; is returned; otherwise, a string equal to     *          &#123;@code "false"&#125; is returned.     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> b <span class="token operator">?</span> <span class="token string">"true"</span> <span class="token operator">:</span> <span class="token string">"false"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code char&#125;     * argument.     *     * @param   c   a &#123;@code char&#125;.     * @return  a string of length &#123;@code 1&#125; containing     *          as its single character the argument &#123;@code c&#125;.     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>c<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code int&#125; argument.     * &lt;p>     * The representation is exactly the one returned by the     * &#123;@code Integer.toString&#125; method of one argument.     *     * @param   i   an &#123;@code int&#125;.     * @return  a string representation of the &#123;@code int&#125; argument.     * @see     java.lang.Integer#toString(int, int)     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code long&#125; argument.     * &lt;p>     * The representation is exactly the one returned by the     * &#123;@code Long.toString&#125; method of one argument.     *     * @param   l   a &#123;@code long&#125;.     * @return  a string representation of the &#123;@code long&#125; argument.     * @see     java.lang.Long#toString(long)     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">long</span> l<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code float&#125; argument.     * &lt;p>     * The representation is exactly the one returned by the     * &#123;@code Float.toString&#125; method of one argument.     *     * @param   f   a &#123;@code float&#125;.     * @return  a string representation of the &#123;@code float&#125; argument.     * @see     java.lang.Float#toString(float)     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">float</span> f<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Float</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns the string representation of the &#123;@code double&#125; argument.     * &lt;p>     * The representation is exactly the one returned by the     * &#123;@code Double.toString&#125; method of one argument.     *     * @param   d   a &#123;@code double&#125;.     * @return  a  string representation of the &#123;@code double&#125; argument.     * @see     java.lang.Double#toString(double)     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">double</span> d<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Returns a canonical representation for the string object.     * &lt;p>     * A pool of strings, initially empty, is maintained privately by the     * class &#123;@code String&#125;.     * &lt;p>     * When the intern method is invoked, if the pool already contains a     * string equal to this &#123;@code String&#125; object as determined by     * the &#123;@link #equals(Object)&#125; method, then the string from the pool is     * returned. Otherwise, this &#123;@code String&#125; object is added to the     * pool and a reference to this &#123;@code String&#125; object is returned.     * &lt;p>     * It follows that for any two strings &#123;@code s&#125; and &#123;@code t&#125;,     * &#123;@code s.intern() == t.intern()&#125; is &#123;@code true&#125;     * if and only if &#123;@code s.equals(t)&#125; is &#123;@code true&#125;.     * &lt;p>     * All literal strings and string-valued constant expressions are     * interned. String literals are defined in section 3.10.5 of the     * &lt;cite>The Java&amp;trade; Language Specification&lt;/cite>.     *     * @return  a string that has the same contents as this string, but is     *          guaranteed to be from a pool of unique strings.     */</span>    <span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token class-name">String</span> <span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-22-Java中的字符串源码分析-1-2-4-1-2-5&quot;&gt;&lt;a href=&quot;#算法练习-22-Java中的字符串源码分析-1-2-4-1-2-5&quot; class=&quot;headerlink&quot; title=&quot;算法练习-22-Java中的字符串源码分析(1.2.4-1.2.5)&quot;&gt;&lt;/a&gt;算法练习-22-Java中的字符串源码分析(1.2.4-1.2.5)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;Java中的字符串&lt;/li&gt;
&lt;li&gt;字符串常量&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-21-如何判断矩形是否相交(1.2.3)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/25/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-21-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E7%9F%A9%E5%BD%A2%E6%98%AF%E5%90%A6%E7%9B%B8%E4%BA%A4-(1.2.3)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/25/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-21-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E7%9F%A9%E5%BD%A2%E6%98%AF%E5%90%A6%E7%9B%B8%E4%BA%A4-(1.2.3)/</id>
    <published>2021-01-25T02:55:18.000Z</published>
    <updated>2021-01-25T03:44:14.512Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-21-如何判断矩形是否相交-1-2-3"><a href="#算法练习-21-如何判断矩形是否相交-1-2-3" class="headerlink" title="算法练习-21-如何判断矩形是否相交(1.2.3)"></a>算法练习-21-如何判断矩形是否相交(1.2.3)</h1><ul><li>知识点<ul><li>矩形的表示</li><li>矩形相交的判断</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.2.3 编写一个Interval2D的用例，从命令行接受参数N、min和max。生成N个随机的2D间隔，其宽度和高均匀地分布在单位正方形中的min和max之间。用StdDraw画出它们并打印出相交的间隔对的数量以及有包含关系的间隔对数量。</strong></p><hr><p><strong>1.2.3 Write an Interval2D client that takes command-line arguments N,min,and max and generates N random 2D intervals whose width and height are uniformly distributed between min and max in the unit square. Draw them on StdDraw and print the number of pairs of intervals that intersect and the number of intervals that are contained in one another.</strong></p><ul><li><p>分析</p><p>由上一篇文章，我们可以知道：</p></li></ul><pre class="language-none"><code class="language-none">Interval1D所表示的线段都是平行于X轴或者Y轴。</code></pre><p>因此类似的，我们可以得到Interval2D的定义和实现</p><ul><li>答案</li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">In</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdDraw</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdRandom</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Interval2D</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">Interval1D</span> x<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Interval1D</span> y<span class="token punctuation">;</span>    <span class="token class-name">Interval2D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token class-name">Interval2D</span><span class="token punctuation">(</span><span class="token class-name">Interval1D</span> tx<span class="token punctuation">,</span> <span class="token class-name">Interval1D</span> ty<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> tx<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> ty<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">contains</span><span class="token punctuation">(</span><span class="token class-name">Point2D</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> y<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Interval2D</span> <span class="token function">ramdomInterval2D</span><span class="token punctuation">(</span><span class="token keyword">double</span> min<span class="token punctuation">,</span><span class="token keyword">double</span> max<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span> xMin <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> xMax <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> yMin <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> yMax <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Interval1D</span> interval1d1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Interval1D</span><span class="token punctuation">(</span>xMin<span class="token punctuation">,</span> xMax<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Interval1D</span> interval1d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Interval1D</span><span class="token punctuation">(</span>yMin<span class="token punctuation">,</span> yMax<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Interval2D</span> interval2d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Interval2D</span><span class="token punctuation">(</span>interval1d1<span class="token punctuation">,</span> interval1d2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> interval2d<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">double</span> min <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> max <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Interval2D</span> interval2d <span class="token operator">=</span> <span class="token function">ramdomInterval2D</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">rectangle</span><span class="token punctuation">(</span>interval2d<span class="token punctuation">.</span>x<span class="token punctuation">.</span><span class="token function">getLo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> interval2d<span class="token punctuation">.</span>y<span class="token punctuation">.</span><span class="token function">getLo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> interval2d<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> interval2d<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-21-如何判断矩形是否相交-1-2-3&quot;&gt;&lt;a href=&quot;#算法练习-21-如何判断矩形是否相交-1-2-3&quot; class=&quot;headerlink&quot; title=&quot;算法练习-21-如何判断矩形是否相交(1.2.3)&quot;&gt;&lt;/a&gt;算法练习-21-如何判断矩形是否相交(1.2.3)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;矩形的表示&lt;/li&gt;
&lt;li&gt;矩形相交的判断&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-20-如何判断两条线是否相交(1.2.2)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/23/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-20-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%A4%E6%9D%A1%E7%BA%BF%E6%98%AF%E5%90%A6%E7%9B%B8%E4%BA%A4-(1.2.2)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/23/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-20-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%A4%E6%9D%A1%E7%BA%BF%E6%98%AF%E5%90%A6%E7%9B%B8%E4%BA%A4-(1.2.2)/</id>
    <published>2021-01-23T06:31:14.000Z</published>
    <updated>2021-01-23T07:57:45.964Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-20-如何判断两条线是否相交-1-2-2"><a href="#算法练习-20-如何判断两条线是否相交-1-2-2" class="headerlink" title="算法练习-20-如何判断两条线是否相交(1.2.2)"></a>算法练习-20-如何判断两条线是否相交(1.2.2)</h1><ul><li>知识点<ul><li>Java 创建对象</li><li>间隔对的表示</li><li>判断间隔对相交</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.2.2 编写一个Interval1D的用例,从命令行接受一个整数N.从标准输入中读取N个间隔(每个间隔由一对double值定义)并打印出所有相交的间隔对。</strong></p><hr><p><strong>1.2.2 Write an Interval1D client that takes an int value N as command-line argument, reads N intervals (each defined by a pair of double values) from standard input, and prints all pairs that intersect.</strong></p><ul><li>分析</li></ul><p><strong>Interval</strong> [‘ɪntəv(ə)l] n. 间隔；间距；幕间休息<br>画个图表示一下间隔对：</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210123143447826.png" alt="image-20210123143447826" loading="lazy"></p><p>其实所谓的间隔对就是我们高中学习的“线段”，跟直线的区别在于<br>线段是有长度的，而直线没有。<br>最后，需要指明的是Interval1D所描述的线段是平行于X轴或Y轴的。所以是“1D”</p><p>根据书上对关于Interval1D的解释：<img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210123143559906.png" alt="image-20210123143559906" loading="lazy"></p><p>我们可以写出以下代码：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Interval1D</span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">double</span> lo<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">double</span> hi<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Interval1D</span><span class="token punctuation">(</span><span class="token keyword">double</span> tlo<span class="token punctuation">,</span> <span class="token keyword">double</span> thi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>tlo <span class="token operator">></span> thi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">double</span> tempDouble <span class="token operator">=</span> tlo<span class="token punctuation">;</span>            tlo <span class="token operator">=</span> thi<span class="token punctuation">;</span>            thi <span class="token operator">=</span> tempDouble<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>hi <span class="token operator">=</span> thi<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lo <span class="token operator">=</span> tlo<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>lo <span class="token operator">-</span> hi<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/*    * 包含某个点    * */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">></span> lo<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>   <span class="token comment">/***     * 判断两个间隔是否相交     * @param that     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">intersect</span><span class="token punctuation">(</span><span class="token class-name">Interval1D</span> that<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hi <span class="token operator">&lt;</span> that<span class="token punctuation">.</span>lo<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hi <span class="token operator">></span> that<span class="token punctuation">.</span>lo<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>lo <span class="token operator">&lt;</span> that<span class="token punctuation">.</span>hi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"( "</span> <span class="token operator">+</span> lo <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> hi <span class="token operator">+</span> <span class="token string">" )"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入N:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Interval1D</span><span class="token punctuation">></span></span> interval1ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入Intervel的lo:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> tlo <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入Intervel的hi:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> thi <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Interval1D</span> interval1d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Interval1D</span><span class="token punctuation">(</span>tlo<span class="token punctuation">,</span> thi<span class="token punctuation">)</span><span class="token punctuation">;</span>            interval1ds<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>interval1d<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> interval1ds<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> interval1ds<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token class-name">Interval1D</span> tempInterval1d1 <span class="token operator">=</span> interval1ds<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">Interval1D</span> tempInterval1d2 <span class="token operator">=</span> interval1ds<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>tempInterval1d1<span class="token punctuation">.</span><span class="token function">intersect</span><span class="token punctuation">(</span>tempInterval1d2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"intersect:"</span><span class="token operator">+</span>tempInterval1d1<span class="token operator">+</span><span class="token string">" "</span> <span class="token operator">+</span> tempInterval1d2<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span></code></pre><p>easy！</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-20-如何判断两条线是否相交-1-2-2&quot;&gt;&lt;a href=&quot;#算法练习-20-如何判断两条线是否相交-1-2-2&quot; class=&quot;headerlink&quot; title=&quot;算法练习-20-如何判断两条线是否相交(1.2.2)&quot;&gt;&lt;/a&gt;算法练习-20-如何判断两条线是否相交(1.2.2)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;Java 创建对象&lt;/li&gt;
&lt;li&gt;间隔对的表示&lt;/li&gt;
&lt;li&gt;判断间隔对相交&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-19-计算两点之间的距离(1.2.1)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/23/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-19-%E8%AE%A1%E7%AE%97%E4%B8%A4%E7%82%B9%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B7%9D%E7%A6%BB-(1.2.1)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/23/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-19-%E8%AE%A1%E7%AE%97%E4%B8%A4%E7%82%B9%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B7%9D%E7%A6%BB-(1.2.1)/</id>
    <published>2021-01-23T05:44:29.000Z</published>
    <updated>2021-01-23T06:07:13.846Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-19-计算两点之间的距离-1-2-1"><a href="#算法练习-19-计算两点之间的距离-1-2-1" class="headerlink" title="算法练习-19-计算两点之间的距离-(1.2.1)"></a>算法练习-19-计算两点之间的距离-(1.2.1)</h1><ul><li>知识点<ul><li>生成随机数</li><li>计算两点之间的距离</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.2.1编写一个Point2D的用例，从命令行接受一个整数N。在单位正方形内生成N个随机点，然后计算两点之间的最近距离。</strong></p><hr><p><strong>1.2.1 Write a Point2D client that takes an integer value N from the command line, generates N random points in the unit square, and computes the distance separating the closest pair of points.</strong></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdIn</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdOut</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdRandom</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Point2D</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">double</span> x<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">double</span> y<span class="token punctuation">;</span>    <span class="token class-name">Point2D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">Point2D</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> x<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> y<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">double</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//计算两点之间的距离</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">distTo</span><span class="token punctuation">(</span><span class="token class-name">Point2D</span> that<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span> xDistance <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">-</span> that<span class="token punctuation">.</span>x<span class="token punctuation">;</span>        <span class="token keyword">double</span> yDistance <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">-</span> that<span class="token punctuation">.</span>y<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>xDistance <span class="token operator">*</span> xDistance <span class="token operator">+</span> yDistance <span class="token operator">*</span> yDistance<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入要生成的点的个数:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Point2D</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point2D</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            pp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point2D</span><span class="token punctuation">(</span><span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token comment">//生成结束</span>        <span class="token keyword">double</span> min <span class="token operator">=</span> pp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">distTo</span><span class="token punctuation">(</span>pp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">double</span> v <span class="token operator">=</span> pp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">distTo</span><span class="token punctuation">(</span>pp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>v <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    min <span class="token operator">=</span> v<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"最短距离为："</span><span class="token operator">+</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>当然 也可以在main函数中用ArrayList！！！</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point2D</span><span class="token punctuation">></span></span> points <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point2D</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//创建N个元素的数组</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Point2D</span> point2d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point2D</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            points<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>point2d<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//计算第一个点到第二个点的距离</span>        <span class="token keyword">double</span> resultDistince <span class="token operator">=</span> points<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">distTo</span><span class="token punctuation">(</span>points<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Point2D</span> point2d <span class="token operator">=</span> points<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//计算第i个点和第j个点之间的距离</span>                <span class="token keyword">double</span> distince <span class="token operator">=</span> point2d<span class="token punctuation">.</span><span class="token function">distTo</span><span class="token punctuation">(</span>points<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//如果距离比resultDistince小，就赋值给resultDistince</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>distince <span class="token operator">&lt;</span> resultDistince<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    resultDistince <span class="token operator">=</span> distince<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"resultDistince:"</span> <span class="token operator">+</span> resultDistince<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-19-计算两点之间的距离-1-2-1&quot;&gt;&lt;a href=&quot;#算法练习-19-计算两点之间的距离-1-2-1&quot; class=&quot;headerlink&quot; title=&quot;算法练习-19-计算两点之间的距离-(1.2.1)&quot;&gt;&lt;/a&gt;算法练习-19-计算两点之间的距离-(1.2.1)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;生成随机数&lt;/li&gt;
&lt;li&gt;计算两点之间的距离&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-18-二分法查找两个数组中的相等数(1.1.39)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/22/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-18-%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%9B%B8%E7%AD%89%E6%95%B0(1.1.39)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/22/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-18-%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%9B%B8%E7%AD%89%E6%95%B0(1.1.39)/</id>
    <published>2021-01-22T02:28:23.000Z</published>
    <updated>2021-01-22T04:24:39.755Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-18-二分法查找两个数组中的相等数-1-1-39"><a href="#算法练习-18-二分法查找两个数组中的相等数-1-1-39" class="headerlink" title="算法练习-18-二分法查找两个数组中的相等数(1.1.39)"></a>算法练习-18-二分法查找两个数组中的相等数(1.1.39)</h1><ul><li>知识点<ul><li>二分法查找</li><li>2-sum问题预习</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.39 随机匹配。编写一个使用BinarySearch 的程序，它从命令行接受一个整型参数T，并会分别针对、、和N=10<sup>3</sup>、10<sup>4</sup>、10<sup>5</sup>和10<sup>6</sup> 将以下实验运行 T 遍：生成两个大小为N 的随机6 位正整数数组并找出同时存在于两个数组中的整数的数量。打印一个表格，对于每个N，给出T 次实验中该数量的平均值。</strong></p><hr><p><strong>1.1.39 Random matches. Write a BinarySearch client that takes an int value T as command-line argument and runs T trials of the following experiment for N=10<sup>3</sup>、10<sup>4</sup>、10<sup>5</sup> and 10<sup>6</sup>  : generate two arrays of N randomly generated positive six-digit int values, and find the number of values that appear in both arrays. Print a table giving the average value of this quantity over the T trials for each value of N.</strong></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>day01</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdIn</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdRandom</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> prktz01 <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> hi <span class="token operator">=</span> a<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;=</span> hi<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>lo <span class="token operator">+</span> hi<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">></span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> mid<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">ramdomArrayA</span><span class="token punctuation">(</span><span class="token keyword">int</span> pow<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>pow<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">ramdomArrayB</span><span class="token punctuation">(</span><span class="token keyword">int</span> pow<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>pow<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">sameNum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rank</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                result<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入T:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入POW值:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> POW <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">T</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sortedA <span class="token operator">=</span> <span class="token function">ramdomArrayA</span><span class="token punctuation">(</span>POW<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>sortedA<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sortedB <span class="token operator">=</span> <span class="token function">ramdomArrayB</span><span class="token punctuation">(</span>POW<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>sortedB<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"相同的数量为"</span><span class="token operator">+</span><span class="token function">sameNum</span><span class="token punctuation">(</span>sortedA<span class="token punctuation">,</span>sortedB<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">请输入T:30请输入POW值:4相同的数量为109相同的数量为101相同的数量为99相同的数量为99相同的数量为106相同的数量为113相同的数量为121相同的数量为114相同的数量为97相同的数量为99相同的数量为93相同的数量为109相同的数量为96相同的数量为101相同的数量为103相同的数量为79相同的数量为97相同的数量为98相同的数量为96相同的数量为105相同的数量为90相同的数量为105相同的数量为97相同的数量为87相同的数量为96相同的数量为94相同的数量为89相同的数量为112相同的数量为100相同的数量为95</code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-18-二分法查找两个数组中的相等数-1-1-39&quot;&gt;&lt;a href=&quot;#算法练习-18-二分法查找两个数组中的相等数-1-1-39&quot; class=&quot;headerlink&quot; title=&quot;算法练习-18-二分法查找两个数组中的相等数(1.1.39)&quot;&gt;&lt;/a&gt;算法练习-18-二分法查找两个数组中的相等数(1.1.39)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;二分法查找&lt;/li&gt;
&lt;li&gt;2-sum问题预习&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-17-论算法优劣的重要性(1.1.38)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/22/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-17-%E8%AE%BA%E7%AE%97%E6%B3%95%E4%BC%98%E5%8A%A3%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7(1.1.38)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/22/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-17-%E8%AE%BA%E7%AE%97%E6%B3%95%E4%BC%98%E5%8A%A3%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7(1.1.38)/</id>
    <published>2021-01-22T02:27:15.000Z</published>
    <updated>2021-01-22T04:08:32.043Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-17-论算法优劣的重要性-1-1-38"><a href="#算法练习-17-论算法优劣的重要性-1-1-38" class="headerlink" title="算法练习-17-论算法优劣的重要性(1.1.38)"></a>算法练习-17-论算法优劣的重要性(1.1.38)</h1><ul><li>知识点<ul><li>二分查找</li><li>暴力查找</li><li>算法优劣的衡量</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.38 二分查找与暴力查找。根据1.1.10.4 节给出的暴力查找法编写一个程序bruteForceSearch，在你的计算机上比较它和BinarySearch 处理largeW.txt 和largeT.txt 所需的时间。</strong></p><hr><p><strong>1.1.38 Binary search versus brute-force search. Write a program BruteForceSearch that uses the brute-force search method given on page 48 and compare its running time on your computer with that of BinarySearch for largeW.txt and largeT.txt.</strong></p><ul><li>分析</li></ul><p>暴力查找的代码如下：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token keyword">return</span> i<span class="token punctuation">;</span>   <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>二分查找的代码如下：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> hi <span class="token operator">=</span> a<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;=</span> hi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>lo <span class="token operator">+</span> hi <span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>key <span class="token operator">></span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> mid<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>因此代码如下：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">In</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdIn</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdOut</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author leafii */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Practice08</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">rank1</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">rank2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> hi <span class="token operator">=</span> a<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;=</span> hi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>lo <span class="token operator">+</span> hi <span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>key <span class="token operator">></span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> mid<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> whiteList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">In</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readAllInts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> time0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            key <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> n1 <span class="token operator">=</span> <span class="token function">rank1</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>whiteList<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>n1<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">long</span> time1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"暴力查找用时"</span><span class="token operator">+</span><span class="token punctuation">(</span>time1<span class="token operator">-</span>time0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> time2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>whiteList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">rank2</span><span class="token punctuation">(</span>whiteList<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span><span class="token punctuation">&#123;</span>            <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"没找到qwq"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">long</span> time3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"二分法查找用时"</span><span class="token operator">+</span><span class="token punctuation">(</span>time3<span class="token operator">-</span>time2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>想要使用idea编译，并且添加文件到运行参数中，就进入idea的<code>Edit Configuration</code>中，然后在<code>Program Arguments</code>中填入要使用的读入文件的路径，如<code>/Users/leafii/Documents/Project/java/Algorithm4/src/largeW.txt</code>,然后进行编译运行即可。</p><pre class="language-none"><code class="language-none">2345373142暴力查找用时56612344二分法查找用时158</code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-17-论算法优劣的重要性-1-1-38&quot;&gt;&lt;a href=&quot;#算法练习-17-论算法优劣的重要性-1-1-38&quot; class=&quot;headerlink&quot; title=&quot;算法练习-17-论算法优劣的重要性(1.1.38)&quot;&gt;&lt;/a&gt;算法练习-17-论算法优劣的重要性(1.1.38)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;二分查找&lt;/li&gt;
&lt;li&gt;暴力查找&lt;/li&gt;
&lt;li&gt;算法优劣的衡量&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-16-洗牌算法的一个错误示例(1.1.37)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/20/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-16-%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95%E7%9A%84%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%A4%BA%E4%BE%8B(1.1.37)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/20/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-16-%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95%E7%9A%84%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%A4%BA%E4%BE%8B(1.1.37)/</id>
    <published>2021-01-20T06:25:35.000Z</published>
    <updated>2021-01-20T06:39:52.673Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-16-洗牌算法的一个错误示例-1-1-37"><a href="#算法练习-16-洗牌算法的一个错误示例-1-1-37" class="headerlink" title="算法练习-16-洗牌算法的一个错误示例(1.1.37)"></a>算法练习-16-洗牌算法的一个错误示例(1.1.37)</h1><ul><li>知识点<ul><li>洗牌算法</li><li>随机数</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.37 糟糕的打乱。假设在我们的乱序代码中你选择的是一个0 到N-1 而非i 到N-1 之间的随机整数。证明得到的结果并非均匀地分布在N! 种可能性之间。用上一题中的测试检验这个版本。</strong></p><hr><p><strong>1.1.37 Bad shuffling. Suppose that you choose a random integer between 0 and N-1 in our shuffling code instead of one between i and N-1. Show that the resulting order is not equally likely to be one of the N! possibilities. Run the test of the previous exercise for this version.</strong></p><ul><li><p>分析</p><p>需要修改<code>int r = i + StdRandom.uniform(N-i);</code>为<code>int r = StdRandom.uniform(0,N-1);</code></p></li><li><p>答案</p></li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdIn</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdOut</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdRandom</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Practice07</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>  <span class="token comment">// Exchange a[i] with random element in a[i..N-1]</span>            <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">double</span> temp <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>            a<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">array</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//数组的初始化</span>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入数组大小M："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token class-name">M</span> <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入打乱次数N："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token class-name">M</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token class-name">M</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">M</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> time<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> time<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">array</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">shuffle</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">==</span> j<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        time<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">show</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">请输入数组大小M：10请输入打乱次数N：302234327214152353135223362311456143432115454400264130533324523323453322023262144646020561335340345510&#x2F;&#x2F;居然有0 真有你的</code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-16-洗牌算法的一个错误示例-1-1-37&quot;&gt;&lt;a href=&quot;#算法练习-16-洗牌算法的一个错误示例-1-1-37&quot; class=&quot;headerlink&quot; title=&quot;算法练习-16-洗牌算法的一个错误示例(1.1.37)&quot;&gt;&lt;/a&gt;算法练习-16-洗牌算法的一个错误示例(1.1.37)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;洗牌算法&lt;/li&gt;
&lt;li&gt;随机数&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-15-验证洗牌算法的正确性(1.1.36)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/20/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-15-%E9%AA%8C%E8%AF%81%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%A7(1.1.36)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/20/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-15-%E9%AA%8C%E8%AF%81%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%A7(1.1.36)/</id>
    <published>2021-01-20T05:18:09.000Z</published>
    <updated>2021-01-20T06:45:57.396Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-15-验证洗牌算法的正确性-1-1-36"><a href="#算法练习-15-验证洗牌算法的正确性-1-1-36" class="headerlink" title="算法练习-15-验证洗牌算法的正确性(1.1.36)"></a>算法练习-15-验证洗牌算法的正确性(1.1.36)</h1><ul><li>知识点<ul><li>洗牌算法</li><li>随机数</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.36 乱序检查。通过实验检查表1.1.10 中的乱序代码是否能够产生预期的效果。编写一个程序ShuffleTest，接受命令行参数M 和N，将大小为M 的数组打乱N 次且在每次打乱之前都将数组重新初始化为a[i] = i。打印一个M×M 的表格，对于所有的列j，行i 表示的是i 在打乱后落到j 的位置的次数。数组中的所有元素的值都应该接近于N/M。</strong></p><hr><p><strong>1.1.36 Empirical shuffle check. Run computational experiments to check that our shuffling code on page 32 works as advertised. Write a program ShuffleTest that takes command-line arguments M and N, does N shuffles of an array of size M that is initialized with a[i] = i before each shuffle, and prints an M-by-M table such that row i gives the number of times i wound up in position j for all j. All entries in the array should be close to N/M.</strong></p><ul><li>分析</li></ul><p>表1.1.10中的乱序代码如下：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token punctuation">&#123;</span>  <span class="token comment">// Exchange a[i] with random element in a[i..N-1]</span>      <span class="token keyword">int</span> r <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">double</span> temp <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>      a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>      a<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span></code></pre><p>直接来代码！</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-15-验证洗牌算法的正确性-1-1-36&quot;&gt;&lt;a href=&quot;#算法练习-15-验证洗牌算法的正确性-1-1-36&quot; class=&quot;headerlink&quot; title=&quot;算法练习-15-验证洗牌算法的正确性(1.1.36)&quot;&gt;&lt;/a&gt;算法练习-15-验证洗牌算法的正确性(1.1.36)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;洗牌算法&lt;/li&gt;
&lt;li&gt;随机数&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-14-计算两个骰子之和的概率(1.1.35)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/20/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-14-%E8%AE%A1%E7%AE%97%E4%B8%A4%E4%B8%AA%E9%AA%B0%E5%AD%90%E4%B9%8B%E5%92%8C%E7%9A%84%E6%A6%82%E7%8E%87(1.1.35)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/20/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-14-%E8%AE%A1%E7%AE%97%E4%B8%A4%E4%B8%AA%E9%AA%B0%E5%AD%90%E4%B9%8B%E5%92%8C%E7%9A%84%E6%A6%82%E7%8E%87(1.1.35)/</id>
    <published>2021-01-20T04:32:25.000Z</published>
    <updated>2021-01-20T05:17:09.894Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-14-计算两个骰子之和的概率-1-1-35"><a href="#算法练习-14-计算两个骰子之和的概率-1-1-35" class="headerlink" title="算法练习-14-计算两个骰子之和的概率(1.1.35)"></a>算法练习-14-计算两个骰子之和的概率(1.1.35)</h1><ul><li>知识点<ul><li>数组的性质</li><li>和事件</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.35 模拟掷骰子。以下代码能够计算每种两个骰子之和的准确概率分布：</strong></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> SIDES <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> SIDES <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> SIDES<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> SIDES<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        dist<span class="token punctuation">[</span>i<span class="token operator">+</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1.0</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token operator">*</span>SIDES<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>     dist<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">/=</span> <span class="token number">36.0</span><span class="token punctuation">;</span></code></pre><p><strong>dist[i] 的值就是两个骰子之和为i 的概率。用实验模拟N 次掷骰子，并在计算两个1 到 6 之间的随机整数之和时记录每个值的出现频率以验证它们的概率。N 要多大才能够保证你的经验数据和准确数据的吻合程度达到小数点后三位？</strong></p><p><strong>1.1.35 Dice simulation. The following code computes the exact probability distribution for the sum of two dice:</strong></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> SIDES <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>SIDES<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> SIDES<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> SIDES<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>      dist<span class="token punctuation">[</span>i<span class="token operator">+</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1.0</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token operator">*</span>SIDES<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>   dist<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">/=</span> <span class="token number">36.0</span><span class="token punctuation">;</span></code></pre><p><strong>The value dist[i] is the probability that the dice sum to k. Run experiments to validate this calculation simulating N dice throws, keeping track of the frequencies of occurrence of each value when you compute the sum of two random integers between 1 and 6. How large does N have to be before your empirical results match the exact results to three decimal places?</strong></p><ul><li>分析</li></ul><p>投掷骰子两次，可能的情况有</p><p>1，1（两个骰子和为2）</p><p>1，2（两个骰子和为3）</p><p>1，3（两个骰子和为4）</p><p>1，4（两个骰子和为5）</p><p>1，5（两个骰子和为6）</p><p>1，6（两个骰子和为7）</p><p>2，1（两个骰子和为3）</p><p>2，2（两个骰子和为4）</p><p>…</p><p>2，6（两个骰子和为8）</p><p>…</p><p>3，1（两个骰子和为4）</p><p>…</p><p>3，6（两个骰子和为9）</p><p>4，1（两个骰子和为5）</p><p>…</p><p>4，6（两个骰子和为10）</p><p>5，1（两个骰子和为6）</p><p>…</p><p>5，6（两个骰子和为11）</p><p>6，1（两个骰子和为7）</p><p>…</p><p>6，6（两个骰子和为12）</p><p>这36种情况</p><pre class="language-none"><code class="language-none">dist[i]的值就是两个骰子之和为i的概率</code></pre><p>因此</p><p>dist[2] = 1/36</p><p>dist[3] = dist[1 + 2] + dist[2 + 1] = 2/36</p><p>dist[4] = dist[2 + 2] + dist[3 + 1] + dist[3 + 1] = 3/36</p><p>…</p><p>以上的推导过程解释了代码：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> SIDES <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>SIDES<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> SIDES<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> SIDES<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>      dist<span class="token punctuation">[</span>i<span class="token operator">+</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1.0</span><span class="token punctuation">;</span> <span class="token comment">//各个和的频数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token operator">*</span>SIDES<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>   dist<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">/=</span> <span class="token number">36.0</span><span class="token punctuation">;</span><span class="token comment">//各个和的频率</span></code></pre><p>需要注意的是，当i=1，j=1时，dist[2] = dist[2] + 1。可能有些同学会思考等号右边的dist[2]的值。这时就要讲到数组的一个性质：</p><pre class="language-none"><code class="language-none">初始化的整形&#x2F;实数数组，各项初始值为0</code></pre><pre class="language-none"><code class="language-none">dist[2] &#x3D; dist[2] + 1 &#x3D; 0 + 1 &#x3D; 1;</code></pre><p>下面我们开始分析题目的剩余部分</p><pre class="language-none"><code class="language-none">在计算两个1到6之间的随机整数之和时记录每个值的出现频率以验证它们的概率</code></pre><p>假设我们投掷一次骰子，出现的是2和3，那么他们的和就是5；</p><p>但反过来，出现5可能是1，4，也可能是2，3 也有可能是3，2，还有可能是4，1 这四种情况。所以</p><p>出现1，4的概率是2/4；</p><p>出现2，3的概率是2/4；</p><ul><li>答案</li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdOut</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdRandom</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token comment">/*** 1.1.35 模拟掷骰子。以下代码能够计算每种两个骰子之和的准确概率分布：int SIDES = 6;double[] dist = new double[2 * SIDES + 1];for(int i = 1; i &lt;= SIDES; i++)    for(int j = 1; j &lt;= SIDES; j++)        dist[i+j] += 1.0;for (int k = 2; k &lt;= 2*SIDES; k++)    dist[k] /= 36.0;dist[i] 的值就是两个骰子之和为i 的概率。用实验模拟N 次掷骰子，并在计算两个1 到 6之间的随机整数之和时记录每个值的出现频率以验证它们的概率。N 要多大才能够保证你的经验数据和准确数据的吻合程度达到小数点后三位？* */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Practice05</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 色子有六面，数值分别是1、2、3、4、5、6</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> sides <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>    <span class="token comment">/**     * 根据统计数据计算概率值     *     * @param dist 统计数据数组     * @return 概率数组     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">computeProbability</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist<span class="token punctuation">,</span> <span class="token keyword">int</span> testTimes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">2</span> <span class="token operator">*</span> sides<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>            dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/=</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">*</span> testTimes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> dist<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 两个色子之和的理论概率值     *     * @return 理论概率值     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">theoreticalValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> sides <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 统计值出现的理论次数</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> sides<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> sides<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>                dist<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>        <span class="token comment">// 计算理论概率</span>        dist <span class="token operator">=</span> <span class="token function">computeProbability</span><span class="token punctuation">(</span>dist<span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> dist<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 试验概率值能否与理论概率值至少匹配到小数点后三位数     *     * @param dist0 理论概率值     * @param dist1 试验概率值     * @return 能匹配到小数点后三位数则返回true，否则返回false     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isMatch</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist0<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">2</span> <span class="token operator">*</span> sides<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>dist0<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> dist1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0.0001</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 用随机数模拟掷色子并统计求出试验概率     *     * @param N 抛掷次数     * @return 试验概率     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">simulate</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token class-name">N</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> sides <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 做N次随机试验模拟抛色子,并统计数据</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">uniform</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            dist<span class="token punctuation">[</span>a <span class="token operator">+</span> b<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// 计算试验概率值</span>        dist <span class="token operator">=</span> <span class="token function">computeProbability</span><span class="token punctuation">(</span>dist<span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> dist<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 测试得到符合要求的试验次数N     *     * @param initTimes 试验初始次数值     * @param dist0     理论概率     * @return 符合要求的试验次数     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">testGetN</span><span class="token punctuation">(</span><span class="token keyword">int</span> initTimes<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist0<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> initTimes<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> match <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>match<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist1 <span class="token operator">=</span> <span class="token function">simulate</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            match <span class="token operator">=</span> <span class="token function">isMatch</span><span class="token punctuation">(</span>dist0<span class="token punctuation">,</span> dist1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dist1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 当前N不合要求，则将N扩大10倍</span>            <span class="token class-name">N</span> <span class="token operator">*=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">N</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dist0 <span class="token operator">=</span> <span class="token function">theoreticalValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dist0<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> initTimes <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token function">testGetN</span><span class="token punctuation">(</span>initTimes<span class="token punctuation">,</span> dist0<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"至少试验次数的数量级： o("</span> <span class="token operator">+</span> <span class="token class-name">N</span> <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-14-计算两个骰子之和的概率-1-1-35&quot;&gt;&lt;a href=&quot;#算法练习-14-计算两个骰子之和的概率-1-1-35&quot; class=&quot;headerlink&quot; title=&quot;算法练习-14-计算两个骰子之和的概率(1.1.35)&quot;&gt;&lt;/a&gt;算法练习-14-计算两个骰子之和的概率(1.1.35)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;数组的性质&lt;/li&gt;
&lt;li&gt;和事件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Go语言の函数、包和错误处理</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/19/Go%E8%AF%AD%E8%A8%80%E3%81%AE%E5%87%BD%E6%95%B0%E3%80%81%E5%8C%85%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/19/Go%E8%AF%AD%E8%A8%80%E3%81%AE%E5%87%BD%E6%95%B0%E3%80%81%E5%8C%85%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/</id>
    <published>2021-01-19T07:49:52.000Z</published>
    <updated>2021-01-23T05:07:45.081Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Go语言の函数、包和错误处理"><a href="#Go语言の函数、包和错误处理" class="headerlink" title="Go语言の函数、包和错误处理"></a>Go语言の函数、包和错误处理</h1><p>本文章主要讲解了Go语言的函数，包和错误处理等知识。</p><a id="more"></a><h2 id="为什么需要函数"><a href="#为什么需要函数" class="headerlink" title="为什么需要函数"></a>为什么需要函数</h2><h3 id="完成需求"><a href="#完成需求" class="headerlink" title="完成需求"></a>完成需求</h3><p>输入两个数，再输入一个运算符（+-*/），得到结果。</p><h3 id="使用传统的方法解决"><a href="#使用传统的方法解决" class="headerlink" title="使用传统的方法解决"></a>使用传统的方法解决</h3><ul><li>代码</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> n1 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">1.2</span><span class="token keyword">var</span> n2 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">2.3</span><span class="token keyword">var</span> operator <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token string">'-'</span><span class="token keyword">switch</span> operator <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token string">'+'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v + %v = %v\n"</span><span class="token punctuation">,</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">,</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'-'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v - %v = %v\n"</span><span class="token punctuation">,</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">,</span> n1 <span class="token operator">-</span> n2<span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'*'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v * %v = %v\n"</span><span class="token punctuation">,</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">,</span> n1 <span class="token operator">*</span> n2<span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'/'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v / %v = %v\n"</span><span class="token punctuation">,</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">,</span> n1 <span class="token operator">/</span> n2<span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go1.2 - 2.3 &#x3D; -1.0999999999999999</code></pre><ul><li>分析上面的代码问题<ol><li>可以完成功能需求，但代码冗余</li><li>与此同时不利于代码的维护</li><li>函数可以解决这个问题奥</li></ol></li></ul><h2 id="函数的基本概念"><a href="#函数的基本概念" class="headerlink" title="函数的基本概念"></a>函数的基本概念</h2><p>​    为完成某一功能的程序指令（语句）的集合，称为函数。</p><p>在Go中，函数分为：自定义函数、系统函数（查看Go编程手册）</p><h2 id="函数的基本语法"><a href="#函数的基本语法" class="headerlink" title="函数的基本语法"></a>函数的基本语法</h2><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> 函数名 <span class="token punctuation">(</span>形参列表<span class="token punctuation">)</span> <span class="token punctuation">(</span>返回值列表<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  执行语句<span class="token operator">...</span>  <span class="token keyword">return</span> 返回值列表<span class="token punctuation">&#125;</span></code></pre><ol><li>形参列表：表示函数的输入</li><li>函数的语句：表示为了实现某一功能代码块</li><li>函数可以有返回值，也可以没有</li></ol><h2 id="快速入门案例"><a href="#快速入门案例" class="headerlink" title="快速入门案例"></a>快速入门案例</h2><p>使用函数解决前面的计算问题。</p><p>走代码：</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">cal</span><span class="token punctuation">(</span>n1 <span class="token builtin">float64</span><span class="token punctuation">,</span>n2 <span class="token builtin">float64</span><span class="token punctuation">,</span> operator <span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">&#123;</span><span class="token keyword">var</span> res <span class="token builtin">float64</span><span class="token keyword">switch</span> operator <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token string">'+'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">+</span> n2<span class="token keyword">case</span> <span class="token string">'-'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">-</span> n2<span class="token keyword">case</span> <span class="token string">'*'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">*</span> n2<span class="token keyword">case</span> <span class="token string">'/'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">/</span> n2<span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"操作符号错误哦！"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> n1 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">1.2</span><span class="token keyword">var</span> n2 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">2.3</span><span class="token keyword">var</span> operator <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token string">'+'</span>result <span class="token operator">:=</span> <span class="token function">cal</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">,</span> operator<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h2 id="包的引出"><a href="#包的引出" class="headerlink" title="包的引出"></a>包的引出</h2><ol><li>在实际的开发中，我们往往需要在不同的文件中，去调用其他文件的定义的函数，比如main.go中，去使用utils.go文件中的函数，如何实现？-&gt;包</li><li>现在有两个程序员共同开发一个Go项目，程序员xiaoming希望定义函数Cal，程序员xiaoqiang也想定义函数也叫Cal。两个程序员为此还吵了起来，怎么办？-&gt;包</li></ol><h2 id="包的原理图"><a href="#包的原理图" class="headerlink" title="包的原理图"></a>包的原理图</h2><p>包的本质实际上就是创建不同的文件夹，来存放程序文件。</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210119163512224.png" alt="image-20210119163512224" loading="lazy"></p><h2 id="包的基本概念"><a href="#包的基本概念" class="headerlink" title="包的基本概念"></a>包的基本概念</h2><p>​    说明：go的每一个文件都是属于一个包的，也就是说go是以包的形式来管理文件和项目目录结构的</p><h2 id="包的三大作用"><a href="#包的三大作用" class="headerlink" title="包的三大作用"></a>包的三大作用</h2><ul><li><p>区分相同名字的函数、变量等标识符</p></li><li><p>当程序文件很多时，可以很好的管理项目</p></li><li><p>控制函数、变量等访问范围，即作用域</p></li></ul><h2 id="包的相关说明"><a href="#包的相关说明" class="headerlink" title="包的相关说明"></a>包的相关说明</h2><ul><li><p>打包基本语法</p><p><code>package 包名</code></p></li><li><p>引入包的基本语法</p><p><code>import &quot;包的路径&quot;</code></p></li></ul><h2 id="包使用的快速入门"><a href="#包使用的快速入门" class="headerlink" title="包使用的快速入门"></a>包使用的快速入门</h2><p>包快速入门-Go相互调用函数，我们将func Cal定义到文件utils.go，将utils.go放到一个包中，当其它文件需要使用到utils.go的方法时，可以import该包，就可以使用了。【演示：新建项目的目录结构】</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210119182340923.png" alt="image-20210119182340923" loading="lazy"></p><ul><li>utils.go:</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> utils<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token comment">//将计算的功能，放到一个函数中，然后在需要使用，调用即可</span><span class="token comment">//为了让其它包的文件使用Cal函数，需要将C大写类似其它语言的public</span><span class="token keyword">func</span> <span class="token function">Cal</span><span class="token punctuation">(</span>n1 <span class="token builtin">float64</span><span class="token punctuation">,</span>n2 <span class="token builtin">float64</span><span class="token punctuation">,</span> operator <span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">&#123;</span><span class="token keyword">var</span> res <span class="token builtin">float64</span><span class="token keyword">switch</span> operator <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token string">'+'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">+</span> n2<span class="token keyword">case</span> <span class="token string">'-'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">-</span> n2<span class="token keyword">case</span> <span class="token string">'*'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">*</span> n2<span class="token keyword">case</span> <span class="token string">'/'</span><span class="token punctuation">:</span>res <span class="token operator">=</span> n1 <span class="token operator">/</span> n2<span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"操作符号错误哦！"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> res<span class="token punctuation">&#125;</span></code></pre><ul><li>Main.go</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token string">"go_code/chapter06/demo02/utils"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//请大家完成这样一个需求：</span><span class="token comment">//输入两个数，再输入一个运算符（+,-,*,/)，得到结果。。</span><span class="token comment">//分析思路...</span><span class="token keyword">var</span> n1 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">1.2</span><span class="token keyword">var</span> n2 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">2.3</span><span class="token keyword">var</span> operator <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token string">'+'</span>result <span class="token operator">:=</span> utils<span class="token punctuation">.</span><span class="token function">Cal</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span>n2<span class="token punctuation">,</span>operator<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"result="</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h2 id="包使用的注意事项和细节讨论"><a href="#包使用的注意事项和细节讨论" class="headerlink" title="包使用的注意事项和细节讨论"></a>包使用的注意事项和细节讨论</h2><ol><li>在给一个文件打包时，该包对应一个文件夹，比如这里的utils文件夹对应的包名就是utils，文件的包名通常和文件所在的文件夹名一致，一般为小写字母。</li><li>当一个文件要使用其它包函数或变量时，需要先引入对应的包</li></ol><ul><li>引入方式1:<code>import &quot;包名&quot;</code></li><li>引入方式2:</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"包名"</span>  <span class="token string">"包名"</span><span class="token punctuation">)</span></code></pre><ul><li>package指令在文件第一行，然后是import指令。</li><li>在import包时，路径从$GOPATH的src下开始，不用带src，编译器会自动从src开始引入。</li></ul><ol start="3"><li>为了让其它包的文件可以访问到本包的函数，则该函数名的首字母需要大写，类似其他语言的public，这样才能跨包访问。比如utils.go的<em>Cal</em>函数</li><li>在访问其它包函数，变量时，其语法是 包名.函数名,比如这个main.go文件中的<code>utils.Cal(90, 80, &quot;+&quot;)</code></li><li>如果包名较长，Go支持给包取别名，注意细节；取别名后，原来的包名就不能使用了<ul><li>说明：如果给包取了别名，则**需要使用别名来访问该包的函数和变量。</li></ul></li><li>在同一包下，不能有相同的函数名（也不能有相同的全局变量名），否则报重复定义</li><li>如果你要编译成一个可执行程序文件，就需要将这个包声明为main，即<code>package main</code>这个就是一个语法规范，如果你是写一个库，包名可以自定义</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210119185147993.png" alt="image-20210119185147993" loading="lazy"></p><h2 id="函数的调用机制"><a href="#函数的调用机制" class="headerlink" title="函数的调用机制"></a>函数的调用机制</h2><h3 id="通俗易懂的方式的理解"><a href="#通俗易懂的方式的理解" class="headerlink" title="通俗易懂的方式的理解"></a>通俗易懂的方式的理解</h3><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210119185241781.png" alt="image-20210119185241781" loading="lazy"></p><h3 id="函数-调用过程"><a href="#函数-调用过程" class="headerlink" title="函数-调用过程"></a>函数-调用过程</h3><p>介绍：为了让大家更好地理解函数调用过程，看两个案例，并画出示意图，这个很重要</p><ol><li>传入一个数+1</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210119185640204.png" alt="image-20210119185640204" loading="lazy"></p><p>对上图说明</p><ol><li><p>在调用一个函数时，会给该函数分配一个新的空间，编译器会通过自身的处理让这个新的空间和其它的栈的空间去分开来</p></li><li><p>在每个函数对应的栈中，数据空间时独立的，不会混淆</p></li><li><p>当一个函数调用完毕（执行完毕）后，程序会销毁这个函数对应的栈空间。</p></li><li><p>计算两个数，并返回</p></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token comment">//一个函数 test</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>n1 <span class="token operator">=</span> n1 <span class="token operator">+</span> <span class="token number">1</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"test() n1="</span><span class="token punctuation">,</span>n1<span class="token punctuation">)</span> <span class="token comment">//输入结果=？</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">getSum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>sum <span class="token operator">:=</span> n1 <span class="token operator">+</span> n2fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"getSum sum = "</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token comment">// 30</span><span class="token comment">//当函数有return语句时，就是将结果返回给调用者</span><span class="token comment">//即谁调用我，就返回给谁</span><span class="token keyword">return</span> sum<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>n1 <span class="token operator">:=</span> <span class="token number">10</span><span class="token comment">//调用test</span><span class="token function">test</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main() n1="</span><span class="token punctuation">,</span>n1<span class="token punctuation">)</span><span class="token comment">//输出结果=？</span>sum <span class="token operator">:=</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main sum="</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token comment">// 30</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo03&#x2F;main  go run main.go test() n1&#x3D; 11main() n1&#x3D; 10getSum sum &#x3D;  30main sum&#x3D; 30</code></pre><h3 id="return语句"><a href="#return语句" class="headerlink" title="return语句"></a>return语句</h3><ul><li>基本语法和说明</li></ul><pre class="language-go" data-language="go"><code class="language-go">Go函数支持返回多个值，这一点是其它编程语言没有的。<span class="token keyword">func</span> 函数名<span class="token punctuation">(</span>形参列表<span class="token punctuation">)</span> （返回值类型列表） <span class="token punctuation">&#123;</span>  语句<span class="token operator">...</span>  <span class="token keyword">return</span> 返回值列表<span class="token punctuation">&#125;</span></code></pre><ol><li>如果返回多个值时，在接收时，希望忽略某个返回值，则使用<code>_</code>符号表示占位忽略</li><li>如果返回值只有一个，（返回值类型列表）可以不写<code>()</code></li></ol><ul><li><p>案例演示1</p><p>请编写要给函数，可以计算两个数的和和差，并返回结果。</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  n1 <span class="token operator">:=</span> <span class="token number">10</span>  <span class="token comment">//调用test</span>  <span class="token function">test</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main() n1="</span><span class="token punctuation">,</span>n1<span class="token punctuation">)</span><span class="token comment">//输出结果？</span>  sum <span class="token operator">:=</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main sum ="</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token comment">//30</span>  <span class="token comment">//调用getSumAndSub</span>  res1<span class="token punctuation">,</span>res2 <span class="token operator">:=</span> <span class="token function">getSumAndSub</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//res1 = 3 res2 = -1 </span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"res1=%v res2=%v\n"</span><span class="token punctuation">,</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//编写函数，可以计算两个数的和和差，并返回结果</span><span class="token keyword">func</span> <span class="token function">getSumAndSub</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token builtin">int</span> <span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  sum <span class="token operator">:=</span> n1 <span class="token operator">+</span> n2  sub <span class="token operator">:=</span> n1 <span class="token operator">-</span> n2  <span class="token keyword">return</span> sum<span class="token punctuation">,</span> sub<span class="token punctuation">&#125;</span></code></pre><ul><li><p>案例演示2</p><p>一个细节说明：希望忽略某个返回值，则使用<code>_</code>符号表示占位忽略</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//希望忽略某个返回值，则使用`_`符号表示占位忽略</span><span class="token boolean">_</span><span class="token punctuation">,</span> res3 <span class="token operator">=</span> <span class="token function">getSumAndSub</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res3="</span><span class="token punctuation">,</span>res3<span class="token punctuation">)</span></code></pre><h2 id="函数的递归调用"><a href="#函数的递归调用" class="headerlink" title="函数的递归调用"></a>函数的递归调用</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>一个函数在<strong>函数体内</strong>又<strong>调用了本身</strong>，我们称为递归调用</p><h3 id="递归调用快速入门"><a href="#递归调用快速入门" class="headerlink" title="递归调用快速入门"></a>递归调用快速入门</h3><ul><li>代码1</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> n <span class="token operator">></span> <span class="token number">2</span> <span class="token punctuation">&#123;</span>    n<span class="token operator">--</span>    <span class="token function">test</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"n="</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">//通过分析来看递归调用的特点</span><span class="token punctuation">&#125;</span></code></pre><p>上面代码的分析图：</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210120145428637.png" alt="image-20210120145428637" loading="lazy"></p><ul><li>代码2</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">test2</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> n <span class="token operator">></span> <span class="token number">2</span> <span class="token punctuation">&#123;</span>    n<span class="token operator">--</span>    <span class="token function">test2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"n="</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//看一段代码</span>  <span class="token comment">//test(4) //通过分析来看下递归调用的特点</span>  <span class="token function">test2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// ？通过分析来看下递归调用的特点</span><span class="token punctuation">&#125;</span></code></pre><p>对上面代码分析的示意图：</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210120145923733.png" alt="image-20210120145923733" loading="lazy"></p><h3 id="递归调用的总结"><a href="#递归调用的总结" class="headerlink" title="递归调用的总结"></a>递归调用的总结</h3><p><strong>函数递归需要遵守的重要原则：</strong></p><ol><li>执行一个函数时，就创建一个新的受保护的独立空间（新函数栈）</li><li>函数的局部变量是独立的，不会相互影响</li><li>递归必须向退出递归的条件逼近，否则就是无限递归，死循环了 :) </li><li>当一个函数执行完毕，或者遇到return，就会返回，遵守谁调用，就将结果返回给谁，同时当函数执行完毕或者返回时，该函数本身也会被系统销毁</li></ol><h3 id="递归课堂练习题"><a href="#递归课堂练习题" class="headerlink" title="递归课堂练习题"></a>递归课堂练习题</h3><ul><li><p>题1:斐波那契数</p><p>请使用递归的方式，求出斐波那契数1，1，2，3，5，8，13…</p><p>给你一个整数n，求出它的斐波那切数是多少？</p><ul><li>思路</li></ul><ol><li>当n==1 || n==2, 返回1</li><li>当n&gt;2, 返回f(n-1) + f(n-2)</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">fbn</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">1</span> <span class="token operator">||</span> n<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token number">1</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">fbn</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fbn</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  res <span class="token operator">:=</span> <span class="token function">fbn</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">//测试</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span><span class="token function">fbn</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span><span class="token function">fbn</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span><span class="token function">fbn</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ul><li><p>题2:求函数值</p><p>已知 *<em>f(1)=3;f(n)=2</em>(n-1)+1**;</p><p>请使用递归的思想编程，求出f(n)的值？</p><ul><li><p>思路</p><p>递归就完事了奥铁子</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token comment">/*已知 f(1)=3;f(n)=2*(n-1)+1;请使用递归的思想编程，求出f(n)的值？*/</span><span class="token keyword">func</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"f(1)="</span><span class="token punctuation">,</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"f(5)="</span><span class="token punctuation">,</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre></li></ul></li><li><p>题3:猴子吃桃子问题</p><p>有一堆桃子，猴子第一天吃了其中的一半，并再多吃了一个!以后每天猴子都吃其中的一半，然后再多吃一个。当到第十天时，想再吃时(还没吃)，发现只有 <strong>1</strong> 个桃子了。问题:最初共多少个桃子? </p><ul><li>思路分析:<ol><li>第10天只有1个桃子</li><li>第9天有（第十天桃子数量+1）*2个</li><li>第n天有peach(n)=(peach(n+1)+1)*2</li></ol></li><li>代码</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">peach</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">10</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token number">1</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">peach</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="函数使用的注意事项和细节讨论"><a href="#函数使用的注意事项和细节讨论" class="headerlink" title="函数使用的注意事项和细节讨论"></a>函数使用的注意事项和细节讨论</h2></li></ul><ol><li>函数的形参列表可以是多个，返回值列表也可以是多个。</li><li>形参列表和返回值列表的数据类型可以是值类型和引用类型。</li><li>函数的命名遵循标识符命名规范，首字母不能是数字，首字母大写该函数可以被本包文件和其它包文件使用，类似 public , 首字母小写，只能被本包文件使用，其它包文件不能使用，类似 private</li><li>函数中的变量是局部的，函数外不生效【案例说明】</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//n1 是 test函数的局部变量，只能在test函数中使用</span>  <span class="token keyword">var</span> n1 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//这里不能使用n1，因为n1是test函数的局部变量</span>  <span class="token comment">//fmt.Println("n1=",n1)</span><span class="token punctuation">&#125;</span></code></pre><ol start="5"><li>基本数据类型和数组默认都是<strong>值传递</strong>，即进行值拷贝。在函数内修改，不会影响到原来的值。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">test02</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  n1 <span class="token operator">=</span> n1 <span class="token operator">+</span> <span class="token number">10</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"test02() n1="</span><span class="token punctuation">,</span> n1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  num <span class="token operator">:=</span> <span class="token number">20</span>  <span class="token function">test02</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main() num="</span><span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="6"><li>如果希望函数内的变量能修改函数外的变量（指的是默认以值传递的方式的数据类型），可以传入变量的地址&amp;，函数内以指针的方式操作变量。从效果上看类似引用。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">test03</span><span class="token punctuation">(</span>n1 <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token operator">*</span>n1 <span class="token operator">=</span> <span class="token operator">*</span>n1 <span class="token operator">+</span> <span class="token number">10</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"test03() n1="</span><span class="token punctuation">,</span> <span class="token operator">*</span>n1<span class="token punctuation">)</span> <span class="token comment">//30</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  num <span class="token operator">:=</span> <span class="token number">20</span>  <span class="token function">test03</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main() num="</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token comment">// 30</span><span class="token punctuation">&#125;</span></code></pre><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210120164317464.png" alt="image-20210120164317464" loading="lazy"></p><ol start="7"><li>Golang的函数不支持函数重载</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">test02</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  n1 <span class="token operator">=</span> n1 <span class="token operator">+</span> <span class="token number">10</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"test02() n1="</span><span class="token punctuation">,</span>n1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">test02</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//这是错误的奥！！！！！</span><span class="token punctuation">&#125;</span></code></pre><ol start="8"><li>在Golang中，<strong>函数也是一种数据类型</strong>，可以赋值给一个变量，则该变量就是一个函数类型的变量了。<strong>通过该变量可以对函数调用</strong></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">getSum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  a <span class="token operator">:=</span> getSum  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a的类型%T， getSum类型是%T \n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> getSum<span class="token punctuation">)</span>    res <span class="token operator">:=</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token comment">//等价 res := getSum(10, 40)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="9"><li>函数既然是一种数据类型，因此在Golang中，函数可以作为形参，并且调用哦</li></ol><pre class="language-go" data-language="go"><code class="language-go">res2 <span class="token operator">:=</span> <span class="token function">myFun</span><span class="token punctuation">(</span>getSum<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res2="</span><span class="token punctuation">,</span> res2<span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">myFun</span><span class="token punctuation">(</span>funvar <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">,</span> num1 <span class="token builtin">int</span><span class="token punctuation">,</span> num2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token function">funvar</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="10"><li><p>为了简化数据类型定义，Golang支持自定义数据类型</p><p>基本语法：<code>type 自定义数据类型名 数据类型 //理解：相当于一个别名</code></p><p>案例：<code>type myInt int  //这时myInt就等价int来使用了哦！ </code></p><p>案例：<code>type mySum func(int, int) int //这时mySum就等价一个 函数类型fu nc(int, int) int</code></p></li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210120165212122.png" alt="image-20210120165212122" loading="lazy"></p><ol start="11"><li>支持对函数返回值命名</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">getSumAndSub</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>sum <span class="token builtin">int</span><span class="token punctuation">,</span> sub <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sub <span class="token operator">=</span> n1 <span class="token operator">-</span> n2sum <span class="token operator">=</span> n1 <span class="token operator">+</span> n2<span class="token keyword">return</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>a1<span class="token punctuation">,</span> b1 <span class="token operator">:=</span> <span class="token function">getSumAndSub</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a1=%v,b1=%v \n"</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span> b1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="12"><li>使用<code>_</code>标示符，忽略返回值</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">cal</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>sum <span class="token builtin">int</span><span class="token punctuation">,</span> sub <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  sum <span class="token operator">=</span> n1 <span class="token operator">+</span> n2  sub <span class="token operator">=</span> n1 <span class="token operator">-</span> n2  <span class="token keyword">return</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  res1<span class="token punctuation">,</span><span class="token boolean">_</span> <span class="token operator">=</span> <span class="token function">cal</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>  fml<span class="token punctuation">.</span><span class="token function">Ptintf</span><span class="token punctuation">(</span><span class="token string">"res1=%d"</span><span class="token punctuation">,</span>res1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="13"><li>Go支持可变参数</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//支持0到多个参数</span><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>args<span class="token operator">...</span> <span class="token builtin">int</span><span class="token punctuation">)</span> sum <span class="token builtin">int</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//支持1到多个参数</span><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> args<span class="token operator">...</span> <span class="token builtin">int</span><span class="token punctuation">)</span> sum <span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre><ul><li>说明：<ol><li>args是slice切片，通过args[index]可以访问到各个值。</li><li>案例演示：编写一个函数sum，可以求出1到多个int的和</li><li>如果一个函数的形参列表中有可变参数，则可变参数需要放在形参列表最后。</li></ol></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//案例演示:编写一个函数sum，可以求出 1到多个int的和</span><span class="token comment">//参数的使用</span><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> args<span class="token operator">...</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">&#123;</span>  sum <span class="token operator">:=</span> n1  <span class="token comment">//遍历args</span>  <span class="token keyword">for</span> i<span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>    sum <span class="token operator">+=</span> args<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment">//args[0] 表示取出args切片的第一个元素值，其它以此类推</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> sum<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  res4 <span class="token operator">:=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res4="</span><span class="token punctuation">,</span>res4<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h2 id="函数的课堂练习"><a href="#函数的课堂练习" class="headerlink" title="函数的课堂练习"></a>函数的课堂练习</h2><ul><li>题1</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2 <span class="token builtin">float32</span><span class="token punctuation">)</span> <span class="token builtin">float32</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"n1 type=%T \n"</span><span class="token punctuation">,</span>n1<span class="token punctuation">)</span>  <span class="token comment">//n1 type = float32</span>  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"sum="</span><span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// sum = 3</span><span class="token punctuation">&#125;</span><span class="token comment">//代码有误错误？输出什么？</span></code></pre><p>没有错误。</p><pre class="language-none"><code class="language-none">n1 type&#x3D;float32 sum&#x3D; 3</code></pre><ul><li>题2</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> mySum <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">sum2</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span>n2<span class="token punctuation">,</span>n3 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">&#125;</span><span class="token comment">//使用自定义数据类型（type）来简化定义 </span><span class="token keyword">func</span> <span class="token function">myFunc</span><span class="token punctuation">(</span>funcVar mySum<span class="token punctuation">,</span> num1 <span class="token builtin">int</span><span class="token punctuation">,</span> num2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token function">funcVar</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  a <span class="token operator">:=</span> sum  b <span class="token operator">:=</span> sum2  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">myFunc</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//ok</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">myFunc</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//error</span>  <span class="token punctuation">&#125;</span><span class="token comment">/*错误：fmt.Println(myFunc(b,1,2))错误，原因是类型不匹配。因为不能把func sum2(n1,n2,n3 int) int 赋给func(int,int) int*/</span></code></pre><ul><li>题3：请编写一个函数swap(n1 *int,n2 *int)可以交换n1和n2的值</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">swap</span><span class="token punctuation">(</span>n1 <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//定义一个临时变量</span>  t <span class="token operator">:=</span> <span class="token operator">*</span>n1  <span class="token operator">*</span>n1 <span class="token operator">=</span> <span class="token operator">*</span>n2  <span class="token operator">*</span>n2 <span class="token operator">=</span> t<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  a <span class="token operator">:=</span> <span class="token number">10</span>  b <span class="token operator">:=</span> <span class="token number">20</span>  <span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a=%v,b=%v \n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">a&#x3D;20,b&#x3D;10 </code></pre><h2 id="init函数"><a href="#init函数" class="headerlink" title="init函数"></a>init函数</h2><h3 id="基本介绍-1"><a href="#基本介绍-1" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>​    每一个源文件都可以包含一个init函数，该函数会在main函数执行前，被Go运行框架调用，也就是说init会在main函数前被调用。</p><h3 id="案例说明："><a href="#案例说明：" class="headerlink" title="案例说明："></a>案例说明：</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token comment">//init函数，通常可以在init函数中完成初始化工作 </span><span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"init()..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main()..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p>输出结果是：</p><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo04&#x2F;main  go run .&#x2F;main.goinit()...main()...</code></pre><h3 id="init函数的注意事项和细节"><a href="#init函数的注意事项和细节" class="headerlink" title="init函数的注意事项和细节"></a>init函数的注意事项和细节</h3><ol><li>如果一个文件同时包含<strong>全局变量定义，init函数和main函数</strong>，则执行的流程全局变量定义-&gt;init函数-&gt;main函数</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210120181428443.png" alt="image-20210120181428443" loading="lazy"></p><ol start="2"><li>init函数最主要的作用，就是完成一些初始化的工作，比如下面的案例</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210120181522732.png" alt="image-20210120181522732" loading="lazy"></p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210120181535751.png" alt="image-20210120181535751" loading="lazy"></p><ol start="3"><li>细节说明：面试题：案例如果main.go和utils.go都含有变量定义，init函数时，执行的流程又是什么样呢？</li></ol><p>![image-20210120181641012](/Users/leafii/Library/Application Support/typora-user-images/image-20210120181641012.png)</p><h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>​    Go支持匿名函数，匿名函数就是没有名字的函数，如果我们某个函数只是希望使用一次，可以考虑使用匿名函数，匿名函数也可以实现多次调用。</p><h3 id="匿名函数使用方式1"><a href="#匿名函数使用方式1" class="headerlink" title="匿名函数使用方式1"></a>匿名函数使用方式1</h3><p>​    在定义匿名函数时就直接调用，这种方式匿名函数只能调用一次。【案例演示】</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//在定义匿名函数时就直接调用，这种方式匿名函数只能调用一次</span>    <span class="token comment">//案例演示，求两个数的和，使用匿名函数的方式完成</span>  res1 <span class="token operator">:=</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2  <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res1="</span><span class="token punctuation">,</span> res1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h3 id="匿名函数使用方式2"><a href="#匿名函数使用方式2" class="headerlink" title="匿名函数使用方式2"></a>匿名函数使用方式2</h3><p>​    将<strong>匿名函数赋给一个变量</strong>（函数变量），再通过该<strong>变量来调用匿名函数</strong>【案例演示】</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//将匿名函数func (n1 int, n2 int) int 赋给a变量</span><span class="token comment">//则a的数据类型就是函数类型，此时，我们可以通过a完成调用</span>a <span class="token operator">:=</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> n1 <span class="token operator">-</span> n2<span class="token punctuation">&#125;</span>res2 <span class="token operator">:=</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res2="</span><span class="token punctuation">,</span> res2<span class="token punctuation">)</span>res3 <span class="token operator">:=</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res3="</span><span class="token punctuation">,</span> res3<span class="token punctuation">)</span></code></pre><h3 id="全局匿名函数"><a href="#全局匿名函数" class="headerlink" title="全局匿名函数"></a>全局匿名函数</h3><p>​    如果将匿名函数赋给一个全局变量，那么这个匿名函数，就成为一个全局匿名函数，可以在程序有效。</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> <span class="token punctuation">(</span>  <span class="token comment">//func1就是一个全局匿名函数</span>  Fun1 <span class="token operator">=</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> n1 <span class="token operator">*</span> n2  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">//全局匿名函数的使用</span>res4 <span class="token operator">:=</span> <span class="token function">Fun1</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res4="</span><span class="token punctuation">,</span> res4<span class="token punctuation">)</span></code></pre><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h3><p>​    基本介绍：闭包就是<strong>一个函数</strong>和<strong>其相关的引用环境</strong>组合的一个整体（实体）</p><h3 id="案例演示"><a href="#案例演示" class="headerlink" title="案例演示"></a>案例演示</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//累加器</span><span class="token keyword">func</span> <span class="token function">AddUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> n <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span>  <span class="token keyword">return</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    n <span class="token operator">=</span> n <span class="token operator">+</span> x    <span class="token keyword">return</span> n  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//使用前面的代码</span>  f <span class="token operator">:=</span> <span class="token function">AddUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//11</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//13</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//16</span><span class="token punctuation">&#125;</span></code></pre><ul><li><p>对上面代码的说明和总结</p><ol><li><p>AddUpper是一个函数，返回的数据类型是<code>fun (int) int</code></p></li><li><p>闭包的说明</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> n <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">return</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  n <span class="token operator">=</span> n <span class="token operator">+</span> x  <span class="token keyword">return</span> n<span class="token punctuation">&#125;</span></code></pre><p>返回的是一个匿名函数，但是这个匿名函数引用到函数外的n，因此这个匿名函数就和n形成一个整体，构成闭包。</p></li><li><p>可以这么理解：闭包是类，函数是操作，n是字段。函数和它使用到n构成闭包。</p></li><li><p>当我们反复的调用f函数时，n初始化一次，所以每调用一次就进行累计。</p></li><li><p>我们要搞清楚闭包的关键，就是要分析出返回的函数它使用（引用）到那些变量，因为函数和它引用到的变量共同构成闭包。</p></li><li><p>对上面代码的一个修改，加深对闭包的理解</p></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token comment">//累加器</span><span class="token keyword">func</span> <span class="token function">AddUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> n <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span>  <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"hello"</span>  <span class="token keyword">return</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    n <span class="token operator">=</span> n <span class="token operator">+</span> x    str <span class="token operator">+=</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span> <span class="token comment">// => 36 = '$'</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"str="</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span> <span class="token comment">//1. str = "hello$" 2. str = "hello$$" 3. str = "hello$$$"</span>    <span class="token keyword">return</span> n  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//使用前面的代码</span>  f <span class="token operator">:=</span> <span class="token function">AddUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//11</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//13</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//16</span><span class="token punctuation">&#125;</span></code></pre><h3 id="闭包的最佳实践"><a href="#闭包的最佳实践" class="headerlink" title="闭包的最佳实践"></a>闭包的最佳实践</h3></li><li><p>请编写一个程序，具体要求如下：</p></li></ul><ol><li>编写一个函数 makeSuffix (suffix string) 可以接收一个文件后缀名(比如.jpg)，并返回一个闭包</li><li>调用闭包，可以传入一个文件名，如果该文件名没有指定的后缀(比如.jpg)，则返回 文件名.jpg，如果已经有.jpg后缀，则返回原文件名。</li><li>要求使用闭包的方式完成</li><li>Strings.HasSuffix， 该函数可以判断某个字符串是否有指定的后缀 。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span>  <span class="token string">"strings"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">makeSuffix</span><span class="token punctuation">(</span>suffix <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token operator">!</span>strings<span class="token punctuation">.</span><span class="token function">HasSuffix</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>suffix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> name <span class="token operator">+</span> suffix    <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> name    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//返回一个闭包</span>  f <span class="token operator">:=</span> <span class="token function">makeSuffix</span><span class="token punctuation">(</span><span class="token string">".jpg"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"文件名处理后="</span><span class="token punctuation">,</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"winter"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"文件名处理后="</span><span class="token punctuation">,</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"winter.jpg.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p>上面代码的总结和说明：</p><ol><li>返回的匿名函数和 makeSuffix (suffix string) 的 suffix 变量 组合成一个闭包,因为 返回的函数引用 到 suffix 这个变量</li><li>我们体会一下闭包的好处，如果使用传统的方法，也可以轻松实现这个功能，但是传统方法需要每 次都传入 后缀名，比如 .jpg ,而闭包因为可以保留上次引用的某个值，所以我们传入一次就可以反复 使用。可以仔细的体会一把!</li></ol><h2 id="函数的defer"><a href="#函数的defer" class="headerlink" title="函数的defer"></a>函数的defer</h2><h3 id="为什么需要defer"><a href="#为什么需要defer" class="headerlink" title="为什么需要defer"></a>为什么需要defer</h3><p>​    在函数中，程序员经常需要创建资源（比如：数据库连接、文件句柄、锁等），为了在<strong>函数执行完毕后，及时的释放资源</strong>，Go的设计者提供defer（延时机制）。</p><h3 id="快速入门案例-1"><a href="#快速入门案例-1" class="headerlink" title="快速入门案例"></a>快速入门案例</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//当执行到defer时，暂时不执行，会将defer后面的语句压入到独立的栈（defer栈）</span>  <span class="token comment">//当函数执行完毕后，再从defer栈，按照先入后出的方式出栈，执行</span>  <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1 n1="</span><span class="token punctuation">,</span>n1<span class="token punctuation">)</span><span class="token comment">//defer 3. ok1 n1 = 10</span>  <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2 n2="</span><span class="token punctuation">,</span>n2<span class="token punctuation">)</span><span class="token comment">//defer 2. ok2 n2 = 20</span>    res <span class="token operator">:=</span> n1 <span class="token operator">+</span> n2 <span class="token comment">// res = 30</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok3 res="</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  res <span class="token operator">:=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token comment">// 4. res = 30</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo06&#x2F;main  go run .&#x2F;main.gook3 res&#x3D; 30ok2 n2&#x3D; 20ok1 n1&#x3D; 10res&#x3D; 30</code></pre><h3 id="defer的注意事项和细节"><a href="#defer的注意事项和细节" class="headerlink" title="defer的注意事项和细节"></a>defer的注意事项和细节</h3><ol><li>当go执行到一个defer时，不会立即执行defer后的语句，而是将defer后的语句压入到一个栈中【暂时称此栈为defer栈】，然后继续执行函数下一个语句</li><li>当函数执行完毕后，再从defer栈中，依次从栈顶取出语句执行（注：遵守栈 先入后出的机制），所以可以看到前面案例输出的顺序。</li><li>在defer将语句放入到栈时，也会将相关的值拷贝同时入栈。<strong>请看一段代码：</strong></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//当执行到defer时，暂时不执行，会讲defer后面的语句压入到独立的栈(defer栈)</span>  <span class="token comment">//当函数执行完毕后，再从defer栈，按照先入后出的方式出栈，执行</span>  <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1 n1="</span><span class="token punctuation">,</span>n1<span class="token punctuation">)</span> <span class="token comment">//defer 3. ok1 n1=10</span>  <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2 n2="</span><span class="token punctuation">,</span>n2<span class="token punctuation">)</span> <span class="token comment">//defer 2. ok2 n2=20</span>  <span class="token comment">//增加一句话</span>  n1<span class="token operator">++</span> <span class="token comment">//n1 = 11</span>  n2<span class="token operator">++</span> <span class="token comment">//n2 = 21</span>  res <span class="token operator">:=</span> n1 <span class="token operator">+</span> n2 <span class="token comment">// res = 32</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok3 res="</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span> <span class="token comment">//1. ok3 res= 32</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  res <span class="token operator">:=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token comment">//4. res = 32</span><span class="token punctuation">&#125;</span></code></pre><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210121152207764.png" alt="image-20210121152207764" loading="lazy"></p><h3 id="defer的最佳实践"><a href="#defer的最佳实践" class="headerlink" title="defer的最佳实践"></a>defer的最佳实践</h3><p>defer最主要的价值是在，当函数执行完毕后可以及时的释放函数创建的资源。看看模拟代码： </p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//关闭文件资源</span>  file <span class="token operator">=</span> <span class="token function">openfile</span><span class="token punctuation">(</span>文件名<span class="token punctuation">)</span>  <span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//其他代码</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//释放数据库资源</span>  connect <span class="token operator">=</span> <span class="token function">openDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">defer</span> cinnect<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//其他代码</span><span class="token punctuation">&#125;</span></code></pre><p>说明</p><ol><li>在Golang编程中的通常做法是，创建资源后，比如（打开了文件，获取了数据库的链接，或者是锁资源），可以执行defer file.Close() defer connect.Close()</li><li>在defer后，可以继续使用创建资源。</li><li>当函数完毕后，系统会依次从defer栈中，取出语句，关闭资源</li><li>这种机制，非常简洁，程序员不用再为什么时候关闭资源而烦心。</li></ol><h2 id="函数参数传递方式"><a href="#函数参数传递方式" class="headerlink" title="函数参数传递方式"></a>函数参数传递方式</h2><h3 id="基本介绍-2"><a href="#基本介绍-2" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>​    我们在讲解函数注意事项和使用细节时，已经讲过值类型和引用类型了，这里我们再系统总结一 下，因为这是重难点，值类型参数默认就是值传递，而引用类型参数默认就是引用传递。</p><h3 id="两种传递方式"><a href="#两种传递方式" class="headerlink" title="两种传递方式"></a>两种传递方式</h3><ol><li><p>值传递</p></li><li><p>引用传递</p><p>其实，不管是值传递还是引用传递，传递给函数的都是变量的副本，不同的是，值传递的是值的拷贝，引用传递的是地址的拷贝，一般来说，地址拷贝效率高，因为数据量小，而值拷贝决定拷贝的 数据大小，数据越大，效率越低。</p></li></ol><h3 id="值类型和引用类型"><a href="#值类型和引用类型" class="headerlink" title="值类型和引用类型"></a>值类型和引用类型</h3><ol><li>值类型：基本数据类型int系列，float系列，bool，string，数组和结构体struct</li><li>引用类型：指针、slice切片、map、管道chan、interface等都是引用类型</li></ol><h3 id="值传递和引用传递使用特点"><a href="#值传递和引用传递使用特点" class="headerlink" title="值传递和引用传递使用特点"></a>值传递和引用传递使用特点</h3><ol><li>值类型默认是值传递，变量直接存储值，内存通常在栈中分配【示意图】</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210121161740027.png" alt="image-20210121161740027" loading="lazy"></p><ol start="2"><li>引用类型默认是引用传递：变量存储的是一个地址，这个地址对应的空间才真正存储数据（值），内存通常在堆上分配，当没有任何变量引出这个地址时，该地址对应的数据空间就成为一个垃圾，由GC来回收。【示意图】</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210121161919653.png" alt="image-20210121161919653" loading="lazy"></p><ol start="3"><li>如果希望函数内的变量能修改函数外的变量，可以传入变量的地址&amp;，函数内以指针的方式操作变量。从效果上看类似引用。这个案例在前面详解函数使用注意事项中有。</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210121162059403.png" alt="image-20210121162059403" loading="lazy"></p><h2 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h2><ol><li>函数内部声明/定义的变量叫局部变量，作用域仅限于<strong>函数内部</strong></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//age 和 Name 的作用域就只在test函数内部</span>  age <span class="token operator">:=</span> <span class="token number">10</span>  Name <span class="token operator">:=</span> <span class="token string">"tom~"</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span></code></pre><ol start="2"><li>函数外部声明/定义的变量叫全局变量，作用域在整个包都有效，如果其首字母为大写，则作用 域在整个程序有效</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span><span class="token punctuation">(</span>  <span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token comment">//函数外部声明/定义的变量叫全局变量</span><span class="token comment">//作用域在整个包都有效，如果其首字母为大写，则作用域在整个程序有效</span><span class="token keyword">var</span> age <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">50</span><span class="token keyword">var</span> Name <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"jack~"</span><span class="token comment">//函数</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//age和Name的作用域就只在test函数内部</span>  age <span class="token operator">:=</span> <span class="token number">10</span>  Name <span class="token operator">:=</span> <span class="token string">"tom~"</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"age="</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment">//10</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Name="</span><span class="token punctuation">,</span> Name<span class="token punctuation">)</span> <span class="token comment">// tom~</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"age="</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment">// 50</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Name="</span><span class="token punctuation">,</span> Name<span class="token punctuation">)</span> <span class="token comment">//jack~</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="3"><li>如果变量是在一个代码块，比如for/if中，那么这个变量的作用域就在该代码块</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//如果变量是在一个代码块，比如for/if中，那么这个变量的作用域就在该代码块</span><span class="token keyword">for</span> i<span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"i="</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token comment">//局部变量</span><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"i="</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"i="</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span></code></pre><h3 id="变量作用域的课堂练习"><a href="#变量作用域的课堂练习" class="headerlink" title="变量作用域的课堂练习"></a>变量作用域的课堂练习</h3><ul><li>题1</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"tom~"</span><span class="token keyword">func</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// tom~</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  name <span class="token operator">:=</span> <span class="token string">"jack~"</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// jack</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// tom</span>  <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//tom</span>  <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// jack</span>  <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// tom</span><span class="token punctuation">&#125;</span></code></pre><ul><li>题2</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> Age <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">20</span> <span class="token comment">// ok</span>Name <span class="token operator">:=</span> <span class="token string">"tom"</span> <span class="token comment">// var Name stringName = "tom"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span>Name<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p><strong>错误，因为赋值语句 不能在函数体外面</strong></p><h2 id="函数课堂练习（综合）"><a href="#函数课堂练习（综合）" class="headerlink" title="函数课堂练习（综合）"></a>函数课堂练习（综合）</h2><ol><li>函数可以没有返回值案例，编写一个函数，从终端输入一个整数打印出对应的金字塔</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//将打印金字塔的代码封装到函数中</span><span class="token keyword">func</span> <span class="token function">printPyramid</span><span class="token punctuation">(</span>totalLevel <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//i表示层数</span>  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> totalLevel<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//在打印*前先打印空格</span>    <span class="token keyword">for</span> k <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> totalLevel <span class="token operator">-</span> i<span class="token punctuation">;</span> k<span class="token operator">++</span> <span class="token punctuation">&#123;</span>      fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">//j表示每层打印多少</span>    <span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">&#123;</span>      fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//调用printPyramid函数就可以打印金字塔</span>  <span class="token comment">//从终端输入一个整数打印出对应的金字塔</span>  <span class="token keyword">var</span> n <span class="token builtin">int</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入打印金字塔的层数"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span>  <span class="token function">printPyramid</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">请输入打印金字塔的层数3  * ********</code></pre><ol start="2"><li>编写一个函数，从终端输入一个整数（1到9），打印出对应的乘法表</li></ol><ul><li>思路：将九九乘法表以函数的方式封装，在需要打印时，直接调用即可</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">printMulti</span><span class="token punctuation">(</span>num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//打印出九九乘法表</span>  <span class="token comment">//i表示层数</span>  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> j<span class="token operator">:=</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">&#123;</span>      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v * %v = %v \t"</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">*</span> i<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//从终端输入一个整数表示要打印的乘法表对应的数</span>  <span class="token keyword">var</span> num <span class="token builtin">int</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入九九乘法表的对应数"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span>  <span class="token function">printMulti</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">请输入九九乘法表的对应数71 * 1 &#x3D; 1 1 * 2 &#x3D; 2       2 * 2 &#x3D; 4 1 * 3 &#x3D; 3       2 * 3 &#x3D; 6       3 * 3 &#x3D; 9 1 * 4 &#x3D; 4       2 * 4 &#x3D; 8       3 * 4 &#x3D; 12      4 * 4 &#x3D; 16 1 * 5 &#x3D; 5       2 * 5 &#x3D; 10      3 * 5 &#x3D; 15      4 * 5 &#x3D; 20      5 * 5 &#x3D; 25 1 * 6 &#x3D; 6       2 * 6 &#x3D; 12      3 * 6 &#x3D; 18      4 * 6 &#x3D; 24      5 * 6 &#x3D; 30      6 * 6 &#x3D; 36 1 * 7 &#x3D; 7       2 * 7 &#x3D; 14      3 * 7 &#x3D; 21      4 * 7 &#x3D; 28      5 * 7 &#x3D; 35      6 * 7 &#x3D; 42       7 * 7 &#x3D; 49 </code></pre><ol start="3"><li>编写函数，对给定的一个二位数组（3 * 3）转置，这个题将数组的时候再完成8</li></ol><h2 id="字符串常用的系统函数"><a href="#字符串常用的系统函数" class="headerlink" title="字符串常用的系统函数"></a>字符串常用的系统函数</h2><p>​    说明：字符串在我们程序开发中，使用的是非常多的，常用的函数需要同学们掌握[带看手册或者 官方编程指南]</p><ol><li>统计字符串的长度，按字节 len(str)</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  str <span class="token operator">:=</span> <span class="token string">"hello叶"</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"str len="</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 8</span><span class="token punctuation">&#125;</span></code></pre><ol start="2"><li>字符串遍历，同时处理有中文的问题 <code>r := []rune(str)</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">str2 <span class="token operator">:=</span> <span class="token string">"hello北京"</span><span class="token comment">//字符串遍历，同时处理有中文的问题 r := []rune(str)</span>r <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"字符=%c\n"</span><span class="token punctuation">,</span> r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="3"><li>字符串转整数：<code>n,err := strong.Atoi(&quot;12&quot;)</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">n<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"转换错误"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"转成的结果是"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="4"><li>整数转字符串 <code>str = strconv.Itoa(12345)</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">str <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span><span class="token number">12345</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%v, str=%T"</span><span class="token punctuation">,</span> str<span class="token punctuation">,</span> str<span class="token punctuation">)</span></code></pre><ol start="5"><li>字符串 转 []byte: <code>var bytes = []byte(&quot;hello go&quot;)</code></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> bytes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"hello go"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"bytes = %v \n"</span><span class="token punctuation">,</span>bytes<span class="token punctuation">)</span></code></pre><ol start="6"><li>[]byte 转 字符串：<code>str = string([]byte&#123;97,98,99&#125;)</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">str <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">&#123;</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%v\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span></code></pre><ol start="7"><li>10进制转2，8，16进制： <code>str = strconv.FormatInt(123,2) // 2-&gt;8, 16</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">str <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"123对应的二进制是=%v\n"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span>str <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"123对应的16进制是%v\n"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span></code></pre><ol start="8"><li>查找子串是否在指定的字符串中： <code>strings.Contains(&quot;seafood&quot;, &quot;foo&quot;) //true</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">b <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Contaions</span><span class="token punctuation">(</span><span class="token string">"seafood"</span><span class="token punctuation">,</span> <span class="token string">"mary"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"b=%v\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></code></pre><ol start="9"><li>统计一个字符串有几个指定的子串： <code>strings.Count(&quot;seheese&quot;, &quot;e&quot;) //4</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">num <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token string">"ceheese"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"num=%v\n"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span></code></pre><ol start="10"><li>不区分大小写的字符串比较(==是区分字母大小写的): <code>fmt.Println(strings.EqualFold(&quot;abc&quot;, &quot;Abc&quot;)) // true</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">b <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">EqualFold</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token string">"Abc"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"b=%v\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">// true</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"结果"</span><span class="token punctuation">,</span><span class="token string">"abc"</span> <span class="token operator">==</span> <span class="token string">"Abc"</span><span class="token punctuation">)</span> <span class="token comment">//false 区分字母大小写</span></code></pre><ol start="11"><li>返回子串在字符串第一次出现的index值，如果没有返回-1:<code>strings.Index(&quot;NLT_abc&quot;, &quot;abc&quot;) //4</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">index <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span><span class="token string">"NLT_abc"</span><span class="token punctuation">,</span> <span class="token string">"abc"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"index=%v\n"</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token comment">// true</span></code></pre><ol start="12"><li>返回子串在字符串最后一次出现的index，如没有返回-1:<code>strings.LastIndex(&quot;go golang&quot;,&quot;go&quot;)</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">index <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">LastIndex</span><span class="token punctuation">(</span><span class="token string">"go golang"</span><span class="token punctuation">,</span><span class="token string">"go"</span><span class="token punctuation">)</span> <span class="token comment">//3</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"index=%v\n"</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span></code></pre><ol start="13"><li>将指定的子串替换成 另外一个子串:<code> strings.Replace(&quot;go go hello&quot;, &quot;go&quot;, &quot;go 语言&quot;, n)</code> n 可以指定你希望替换几个，如果 n=-1 表示全部替换</li></ol><pre class="language-go" data-language="go"><code class="language-go">str2 <span class="token operator">=</span> <span class="token string">"go go hello"</span>str <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">Replace</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token string">"go"</span><span class="token punctuation">,</span> <span class="token string">"北京"</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%v str2=%v\n"</span><span class="token punctuation">,</span>str<span class="token punctuation">,</span> str2<span class="token punctuation">)</span></code></pre><ol start="14"><li><p>按照指定的某个字符，为分割标识，将一个字符串拆分成字符串数组:</p><p><code>strings.Split(&quot;hello,wrold,ok&quot;, &quot;,&quot;)</code></p></li></ol><pre class="language-go" data-language="go"><code class="language-go">strArr <span class="token operator">:=</span> <span class="token builtin">string</span><span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">"hello,world,ok"</span><span class="token punctuation">,</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token keyword">for</span> i<span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>strArr<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str[%v]=%v\n"</span><span class="token punctuation">,</span> strArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"strArr=%v\n"</span><span class="token punctuation">,</span>strArr<span class="token punctuation">)</span></code></pre><ol start="15"><li>将字符串的字母进行大小写的转换：<code>strings.ToLower(&quot;Go&quot;) // go strings.ToUpper(&quot;Go&quot;) // GO</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">str <span class="token operator">:=</span> <span class="token string">"golang Hello"</span>str <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">ToLower</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>str <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%v\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span> <span class="token comment">// GOLANG HELLO</span></code></pre><ol start="16"><li>将字符串左右两边的空格去掉：<code> strings.TrimSpace(&quot;tn a lone gopher ntrn&quot;)</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">str <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">TrimSpace</span><span class="token punctuation">(</span><span class="token string">"tn a lone gopher ntrn"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%q\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span> </code></pre><ol start="17"><li>将字符串左右两边指定的字符去掉 : <code>strings.Trim(&quot;! hello! &quot;, &quot; !&quot;)//// [&quot;hello&quot;] //将左右两边 !和 &quot;&quot;去掉</code></li></ol><pre class="language-go" data-language="go"><code class="language-go">str <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">Trim</span><span class="token punctuation">(</span><span class="token string">"! hello! "</span><span class="token punctuation">,</span> <span class="token string">" !"</span><span class="token punctuation">)</span> fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%q\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span></code></pre><ol start="18"><li><p>将字符串左边指定的字符去掉：<code> strings.TrimLeft(&quot;!hello!&quot;,&quot;!&quot;) //[&quot;hello&quot;]将左边！和&quot;&quot;去掉</code></p></li><li><p>将字符串右边指定的字符去掉：<code> strings.TrimRight(&quot;!hello!&quot;,&quot;!&quot;) //[&quot;hello&quot;]将右边！和&quot;&quot;去掉</code></p></li><li><p>判断字符串是否以指定的字符串开头:<code> strings.HasPrefix(&quot;ftp://192.168.10.1&quot;, &quot;ftp&quot;) // true</code></p></li></ol><pre class="language-go" data-language="go"><code class="language-go">b <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">HasPrefix</span><span class="token punctuation">(</span><span class="token string">"ftp://192.168.10.1"</span><span class="token punctuation">,</span> <span class="token string">"hsp"</span><span class="token punctuation">)</span> <span class="token comment">// false</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"b=%v\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></code></pre><ol start="21"><li>判断字符串是否以指定的字符串结束：<code>strings.HasSuffix(&quot;NLT_abc.jpg&quot;,&quot;abc&quot;) //false</code></li></ol><h2 id="时间和日期相关函数"><a href="#时间和日期相关函数" class="headerlink" title="时间和日期相关函数"></a>时间和日期相关函数</h2><h3 id="基本的介绍"><a href="#基本的介绍" class="headerlink" title="基本的介绍"></a>基本的介绍</h3><p>​    说明：在编程中，程序员会经常用到日期相关的函数，比如：统计某段代码执行花费的时间等等。</p><ol><li>时间和日期相关函数，需要导入time包</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210122142545474.png" alt="image-20210122142545474" loading="lazy"></p><ol start="2"><li>time.Time类型，用于表示时间</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span>  <span class="token string">"time"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//看看日期和时间相关函数和方法使用</span>  <span class="token comment">// 1.获取当前时间</span>  now <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"now=%v now type=%T\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">,</span> now<span class="token punctuation">)</span>  <span class="token comment">// 2.通过now可以获取到年月日，时分秒</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"年=%v\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"月=%v\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Month</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"月=%v\n"</span><span class="token punctuation">,</span> <span class="token function">int</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">Month</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"日=%v\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"时=%v\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Hour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"分=%v\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Minute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"秒=%v\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="4"><li><p>格式化日期时间</p><ul><li>方式1:就是使用Printf或者Sprintf</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//格式化日期时间</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"当前年月日 %d-%d-%d %d:%d:%d \n"</span><span class="token punctuation">,</span>now<span class="token punctuation">.</span><span class="token function">Year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Month</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Hour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Minute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"dateStr=%v\n"</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">)</span></code></pre><ul><li>使用time.Format()方法完成：</li></ul><pre class="language-go" data-language="go"><code class="language-go">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">"2006-01-02 15:04:05"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">"2006-01-02"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">"15:04:05"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>对上面代码的说明：</p><p>“2006/01/02 15:04:05”    这个字符串的各个数字是固定的，必须是这样写。</p><p>“2006/01/02 15:05:05”    这个字符串各个数字可以自由的组合，这样可以按程序需求来返回时间和日期</p><ol start="5"><li>时间的常量</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span><span class="token punctuation">(</span>  Nanosecond Duration <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">//纳秒</span>  Microsecond<span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> Nanosecond <span class="token comment">//微秒</span>  Millisecond<span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> Microsecond <span class="token comment">//毫秒</span>  Second<span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> Millisecond <span class="token comment">//秒</span>  Minute<span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">*</span> Second <span class="token comment">//分钟</span>  Hour<span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">*</span> Minute <span class="token comment">//小时</span><span class="token punctuation">)</span></code></pre><p>​    常量的作用：<strong>在程序中可用于获取指定时间单位的时间，比如想得到100毫秒</strong></p><p>​    100 * time.Millisecond</p><ol start="6"><li>结合Sleep来使用一下时间常量</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//需求，每隔1秒打印一个数字，打印到100时就退出</span><span class="token comment">//需求2:每隔0.1秒打印一个数字，打印到100时就退出</span>i <span class="token operator">:=</span> <span class="token number">0</span><span class="token keyword">for</span> <span class="token punctuation">&#123;</span>  i<span class="token operator">++</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>  <span class="token comment">//休眠</span>  <span class="token comment">//time.Sleep(time.Second)</span>  time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Millisecond <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span>  <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">100</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">break</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="7"><li>time的Unix和UnixNano的方法</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210122160639538.png" alt="image-20210122160639538" loading="lazy"></p></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//Unix和UnixNano的使用</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"unix时间戳=%v unixnano时间戳=%v\n"</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">UnixNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">2018</span>unix时间戳<span class="token operator">=</span><span class="token number">1527584269</span> unixnano时间戳<span class="token operator">=</span><span class="token number">1527584269975756200</span></code></pre><h3 id="时间和日期的课堂练习"><a href="#时间和日期的课堂练习" class="headerlink" title="时间和日期的课堂练习"></a>时间和日期的课堂练习</h3><p>编写一段代码来统计 函数test03执行的时间</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span>  <span class="token string">"time"</span>  <span class="token string">"strconv"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  str <span class="token operator">:=</span> <span class="token string">""</span>  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>    str <span class="token operator">+=</span> <span class="token string">"hello"</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//在执行test03前，先获取到当前的unix时间戳</span>  start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  end <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"执行test03()耗费时间为%v秒\n"</span><span class="token punctuation">,</span> end<span class="token operator">-</span>start<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><h3 id="说明："><a href="#说明：" class="headerlink" title="说明："></a>说明：</h3><p>​    Golang设计者为了编程方便，提供了一些函数，这些函数可以直接使用，我们称为Go的内置函数。文档：<a href="https://studygolang.com/pkgdoc">https://studygolang.com/pkgdoc</a> -&gt; builtin</p><ol><li>len:用来求长度，比如string、array、slice、map、channel</li><li>new:用来分配内存，主要用来分配值类型，比如int、float32,struct…返回的是指针</li></ol><p>举例说明 <strong>new</strong> 的使用:</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  num1 <span class="token operator">:=</span> <span class="token number">100</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"num1的类型%T , num1的值=%v , num1的地址%v\n"</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>num1<span class="token punctuation">)</span>  num2 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token comment">// *int</span>  <span class="token comment">//num2的类型%T => *int</span>  <span class="token comment">//num2的值 = 地址 0xc0420404c098 （系统分配）</span>  <span class="token comment">//num2的地址 %v = 地址 0xc04206a020 (系统分配)</span>  <span class="token comment">//num2指向的值 = 100</span>  <span class="token operator">*</span>num2 <span class="token operator">=</span> <span class="token number">100</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"num2的类型%T , num2的值=%v , num2的地址%v\n nu2这个指针， 指向的值=%v"</span><span class="token punctuation">,</span> num2<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>num2<span class="token punctuation">,</span> <span class="token operator">*</span>num2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">num1的类型int , num1的值&#x3D;100 , num1的地址0xc00001e090num2的类型*int , num2的值&#x3D;0xc00001e098 , num2的地址0xc00000e030 num2这个指针指向的值&#x3D;100 </code></pre><p>上面代码对应的内存分析图：</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210122164739678.png" alt="image-20210122164739678" loading="lazy"></p><ol start="3"><li>make: 用来<strong>分配内存</strong>，主要用来<strong>分配引用类型</strong>，比如channel 、 map 、slice。这个之后讲解。</li></ol><h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  num1 <span class="token operator">:=</span> <span class="token number">10</span>  num2 <span class="token operator">:=</span> <span class="token number">0</span>  res <span class="token operator">:=</span> num1 <span class="token operator">/</span> num2  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//测试</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main()下面的代码..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">panic: runtime error: integer divide by zerogoroutine 1 [running]:main.test()        &#x2F;Users&#x2F;leafii&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo10&#x2F;main&#x2F;main.go:8 +0x11main.main()        &#x2F;Users&#x2F;leafii&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo10&#x2F;main&#x2F;main.go:13 +0x25exit status 2</code></pre><ul><li>对上面代码的总结<ol><li>在默认情况下，当发生错误后(panic) ,程序就会退出(崩溃.)</li><li>如果我们希望:当发生错误后，可以捕获到错误，并进行处理，保证程序可以继续执行。还可 以在捕获到错误后，给管理员一个提示(邮件,短信。。。)</li><li>这里引出我们要将的错误处理机制</li></ol></li></ul><h3 id="基本说明"><a href="#基本说明" class="headerlink" title="基本说明"></a>基本说明</h3><ol><li><p>Go语言追求简洁优雅，所以，Go 语言不支持传统的 try…catch…finally 这种处理。 </p></li><li><p>Go中引入的处理方式为:<strong>defer</strong>,<strong>panic</strong>,**recover<br>**</p></li><li><p>这几个异常的使用场景可以这么简单描述:Go 中可以抛出一个 panic 的异常，然后在 defer 中</p><p>通过 recover 捕获这个异常，然后正常处理</p></li></ol><h3 id="使用defer-recover来处理错误"><a href="#使用defer-recover来处理错误" class="headerlink" title="使用defer+recover来处理错误"></a>使用defer+recover来处理错误</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span>  <span class="token string">"time"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//使用defer + recover 来捕获和处理异常</span>  <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//recover() 内置函数，可以捕获到异常</span>    <span class="token keyword">if</span> err <span class="token operator">!=</span> nul <span class="token punctuation">&#123;</span> <span class="token comment">//说明捕获到错误</span>      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"err="</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  num1 <span class="token operator">:=</span> <span class="token number">10</span>  num2 <span class="token operator">:=</span> <span class="token number">0</span>  res <span class="token operator">:=</span> num1 <span class="token operator">/</span> num2  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//测试</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">for</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main()下面的代码..."</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none"> ~&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo10&#x2F;main  go run .&#x2F;main.goerr&#x3D; runtime error: integer divide by zeromain()下面的代码...main()下面的代码...main()下面的代码...^Csignal: interrupt</code></pre><h3 id="错误处理的好处"><a href="#错误处理的好处" class="headerlink" title="错误处理的好处"></a>错误处理的好处</h3><p>进行错误处理后，程序不会轻易挂掉，如果加入预警代码，就可以让程序更加的健壮。【案例演示】</p><pre class="language-go" data-language="go"><code class="language-go"> ~<span class="token operator">/</span><span class="token keyword">go</span><span class="token operator">/</span>src<span class="token operator">/</span>go_code<span class="token operator">/</span>chapter06<span class="token operator">/</span>demo11<span class="token operator">/</span>main  <span class="token keyword">go</span> run <span class="token punctuation">.</span><span class="token operator">/</span>main<span class="token punctuation">.</span><span class="token keyword">go</span>err<span class="token operator">=</span> runtime <span class="token builtin">error</span><span class="token punctuation">:</span> integer divide by zero发送邮件给admin@outlook<span class="token punctuation">.</span>com~~~~~~~~~<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>下面的代码<span class="token operator">...</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>下面的代码<span class="token operator">...</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>下面的代码<span class="token operator">...</span><span class="token operator">^</span>Csignal<span class="token punctuation">:</span> interrupt</code></pre><h2 id="自定义错误"><a href="#自定义错误" class="headerlink" title="自定义错误"></a>自定义错误</h2><h3 id="自定义错误的介绍"><a href="#自定义错误的介绍" class="headerlink" title="自定义错误的介绍"></a>自定义错误的介绍</h3><p>Go程序中，也支持自定义错误，使用error.New和panic内置函数</p><ol><li>errors.New(“错误说明”)，会返回一个error类型的值，表示一个错误</li><li>panic内置函数，接收一个interface{}类型的值（也就是任何值了）作为参数。可以接收error类型的变量，<strong>输出错误信息，并退出程序。</strong></li></ol><h3 id="案例说明"><a href="#案例说明" class="headerlink" title="案例说明"></a>案例说明</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>  <span class="token string">"fmt"</span>  <span class="token string">"errors"</span><span class="token punctuation">)</span><span class="token comment">//函数去读取以配置文件init.conf的信息</span><span class="token comment">//如果文件名传入不正确，我们就返回一个自定义的错误</span><span class="token keyword">func</span> <span class="token function">readConf</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> name <span class="token operator">==</span> <span class="token string">"config.ini"</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//读取</span>    <span class="token keyword">return</span> <span class="token boolean">nil</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//返回一个自定义错误</span>    <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"读取文件错误.."</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  err <span class="token operator">:=</span> <span class="token function">readConf</span><span class="token punctuation">(</span><span class="token string">"config2.ini"</span><span class="token punctuation">)</span>  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//如果读取文件发送错误，就输出这个错误，并终止程序</span>    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"test02()继续执行..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//测试</span>  <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main()下面的代码..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">panic: 读取文件错误..goroutine 1 [running]:main.test02()        &#x2F;Users&#x2F;leafii&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo12&#x2F;main&#x2F;main.go:21 +0x5amain.main()        &#x2F;Users&#x2F;leafii&#x2F;go&#x2F;src&#x2F;go_code&#x2F;chapter06&#x2F;demo12&#x2F;main&#x2F;main.go:27 +0x25exit status 2</code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;Go语言の函数、包和错误处理&quot;&gt;&lt;a href=&quot;#Go语言の函数、包和错误处理&quot; class=&quot;headerlink&quot; title=&quot;Go语言の函数、包和错误处理&quot;&gt;&lt;/a&gt;Go语言の函数、包和错误处理&lt;/h1&gt;&lt;p&gt;本文章主要讲解了Go语言的函数，包和错误处理等知识。&lt;/p&gt;</summary>
    
    
    
    
    <category term="Go" scheme="https://mikutown.gitee.io/blog/tags/Go/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-13-过滤算法(1.1.34)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/19/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-13-%E8%BF%87%E6%BB%A4%E7%AE%97%E6%B3%95(1.1.34)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/19/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-13-%E8%BF%87%E6%BB%A4%E7%AE%97%E6%B3%95(1.1.34)/</id>
    <published>2021-01-19T06:28:39.000Z</published>
    <updated>2021-01-19T07:15:27.564Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-13-过滤算法-1-1-34"><a href="#算法练习-13-过滤算法-1-1-34" class="headerlink" title="算法练习-13-过滤算法(1.1.34)"></a>算法练习-13-过滤算法(1.1.34)</h1><ul><li>知识点<ul><li>过滤器</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.34 过滤。以下哪些任务需要（在数组中，比如）保存标准输入中的所有值？哪些可以被实现为一个过滤器且仅使用固定数量的变量和固定大小的数组（和N无关）？在每个问题中，输入都来自于标准输入且含有N个0到1的实数。</strong></p><ul><li><strong>打印出最大和最小的数</strong></li><li><strong>打印出所有数的中位数</strong></li><li><strong>打印出第k小的数，k小于100</strong></li><li><strong>打印出所有数的平方和</strong></li><li><strong>打印出N个数的平均值</strong></li><li><strong>打印出大于平均值的数的百分比</strong></li><li><strong>将N个数按照升序打印</strong></li><li><strong>将N个数按照随机顺序打印</strong></li></ul><hr><p><strong>1.1.34 Filtering. Which of the following require saving all the values from standard input (in an array, say), and which could be implemented as a filter using only a fixed number of variables and arrays of fixed size (not dependent on N)? For each, the input comes from standard input and consists of N real numbers between 0 and 1.</strong></p><ul><li><strong>Print the maximum and minimum numbers.</strong></li><li><strong>Print the median of the numbers.</strong></li><li><strong>Print the k th smallest value, for k less than 100.</strong></li><li><strong>Print the sum of the squares of the numbers.</strong></li><li><strong>Print the average of the N numbers.</strong></li><li><strong>Print the percentage of numbers greater than the average.</strong></li><li><strong>Print the N numbers in increasing order.</strong></li><li><strong>Print the N numbers in random order.</strong></li></ul><p><strong>分析&amp;答案</strong></p><ul><li><p>打印出最大和最小的数</p><p>只需要两个变量值的过滤器，变量名为min和max即可，当输入数字时，将数字同max和min比较大小，较大的为max，较小的为min，最后打印max和min两个数字的值即可</p></li><li><p>打印出所有数的中位数</p><p>中位数需要所有数字的有序排列，因此需要把所有数字都保存在一个数组中，将数组排序，取数组的中间数作为打印的值。</p></li><li><p>打印出第k小的数，k小于100</p><p>可以创建一个大小为k的数组作为过滤器，按照插入排序法进行插入数据的升序排序，多出去的数据直接舍弃，最后打印数组的第k个数字即可。</p></li><li><p>打印出所有数的平方和</p><p>可以创建一个名叫sum的double类型值作为过滤器，sum += num * num</p></li><li><p>打印出N个数的平均值</p><p>可以创建一个sum的double类型，求和，再创建一个count类型的计数器，用于计算输入的数据的总数，最后sum += num.   返回sum / count，即N个数的平均值。</p></li><li><p>打印出大于平均值的数的百分比</p><p>要先利用上面的计数器计算平均值，然后用数组保存这N个数的值，遍历数组，统计大于平均数的数字的个数n，最后返回(n/count)*100+”%”，即为大于平均值的数的百分比。</p></li><li><p>将N个数按照升序打印</p><p>自然是要用数组存储数据噜</p></li><li><p>将N个数按照随机顺序打印</p><p>同上，需要存储数据，而且需要random出数字，这样才能按照随机顺序打印。</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-13-过滤算法-1-1-34&quot;&gt;&lt;a href=&quot;#算法练习-13-过滤算法-1-1-34&quot; class=&quot;headerlink&quot; title=&quot;算法练习-13-过滤算法(1.1.34)&quot;&gt;&lt;/a&gt;算法练习-13-过滤算法(1.1.34)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;过滤器&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-12-矩阵详解(1.1.33)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/19/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-12-%E7%9F%A9%E9%98%B5%E8%AF%A6%E8%A7%A3(1.1.33)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/19/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-12-%E7%9F%A9%E9%98%B5%E8%AF%A6%E8%A7%A3(1.1.33)/</id>
    <published>2021-01-19T04:08:44.000Z</published>
    <updated>2021-01-19T06:29:14.409Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-12-矩阵详解-1-1-33"><a href="#算法练习-12-矩阵详解-1-1-33" class="headerlink" title="算法练习-12-矩阵详解(1.1.33)"></a>算法练习-12-矩阵详解(1.1.33)</h1><ul><li>知识点<ul><li>绘点</li><li>随机函数</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.33矩阵库。编写一个Matrix库并实现以下API</strong></p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210119121412287.png" alt="题目" loading="lazy"></p><p><strong>编写一个测试用例，从标准输入读取矩阵并测试所有方法。</strong></p><ul><li>分析</li></ul><p>在书中第一次出现矩阵的例子是：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token punctuation">&#123;</span> <span class="token comment">// Compute dot product of row i and column j.</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>         c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">*</span>b<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>这段代码被用来计算矩阵的乘积。</p><p>由此可见 用java创建矩阵，需要你创建一个二维数组。</p><pre class="language-none"><code class="language-none">使用Java实现矩阵由 m × n 个数aij排成的m行n列的数表称为m行n列的矩阵，简称m × n矩阵。而行数与列数都等于n的矩阵称为n阶矩阵或n阶方阵。向量(Vector)本题中除了矩阵还提到了向量，那向量又是什么，跟矩阵有何区别与联系呢？其实我们可以把向量当作一个点(a,b)。它与矩阵的区别是：向量可以用矩阵表示,且有时特殊矩阵就是向量。简言之就是矩阵包含向量。点乘(dot)在数学中，数量积(dot product; scalar product，也称为点积、点乘)是接受在实数R上的两个向量并返回一个实数值标量的二元运算。它是欧几里得空间的标准内积。坐标表示：已知两个非零向量 a &#x3D; (x1, y1), b &#x3D; (x2, y2)，则有a 点乘 b &#x3D; x1x2 + y1y2，即两个向量的数量积等于它们对应坐标的乘积的和。乘积两个矩阵的乘法仅当第一个矩阵A的列数和另一个矩阵B的行数相等时才能定义。乘积矩阵的行数等于左边矩阵的行数,乘积矩阵的列数等于右边矩阵的列数 。</code></pre><ul><li>答案</li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Matrix</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * 向量点乘     * @param x    double类型的一维数组     * @param y    double类型的一维数组     * @return     两个向量点乘的乘积     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">dot</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">double</span> a <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>length<span class="token operator">!=</span>y<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> a<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> x<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                a <span class="token operator">+=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 矩阵和矩阵之积     * @param a     矩阵a     * @param b     矩阵b     * @return      矩阵a，b的积矩阵c     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">mult</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">!=</span> b<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment">//抛出异常</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">*</span> b<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> c<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 转制矩阵     * @param a    要转制的矩阵a     * @return     返回结果     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">transpose</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                temp <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 　矩阵和向量之积     * @param a    矩阵a     * @param x    向量x     * @return     矩阵a和向量x的乘积     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">mult</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span>a<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">!=</span> x<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//抛出异常</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> x<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> c<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 向量和矩阵之积     * @param x      向量x     * @param a      矩阵a     * @return       向量x和矩阵a的积     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">mult</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span>x<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>length <span class="token operator">!=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//抛出异常</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> x<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> x<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> c<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-12-矩阵详解-1-1-33&quot;&gt;&lt;a href=&quot;#算法练习-12-矩阵详解-1-1-33&quot; class=&quot;headerlink&quot; title=&quot;算法练习-12-矩阵详解(1.1.33)&quot;&gt;&lt;/a&gt;算法练习-12-矩阵详解(1.1.33)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;绘点&lt;/li&gt;
&lt;li&gt;随机函数&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-11-Java直方图的绘制(1.1.32)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/18/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-11-Java%E7%9B%B4%E6%96%B9%E5%9B%BE%E7%9A%84%E7%BB%98%E5%88%B6-(1.1.32)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/18/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-11-Java%E7%9B%B4%E6%96%B9%E5%9B%BE%E7%9A%84%E7%BB%98%E5%88%B6-(1.1.32)/</id>
    <published>2021-01-18T04:13:49.000Z</published>
    <updated>2021-01-18T05:08:11.907Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-11-Java直方图的绘制-1-1-32"><a href="#算法练习-11-Java直方图的绘制-1-1-32" class="headerlink" title="算法练习-11-Java直方图的绘制(1.1.32)"></a>算法练习-11-Java直方图的绘制(1.1.32)</h1><ul><li>知识点<ul><li>直方图概念</li></ul></li></ul><a id="more"></a><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><strong>1.1.32 直方图。假设标准输入流中含有一系列 double 值。编写一段程序，从命令行接受一个整数 N 和 两个 doubl 值 l 和 r。将 (l，r) 分为 N 段并使用 StdDraw 画出输入流中的值落入每段的数量的直方图。</strong></p><hr><p><strong>1.1.32 Histogram. Suppose that the standard input stream is a sequence of double values. Write a program that takes an integer N and two double values l and r from the command line and uses StdDraw to plot a histogram of the count of the numbers in the standard input stream that fall in each of the N intervals defined by dividing (l , r) into N equal-sized intervals.</strong></p><ul><li>直方图是什么？</li></ul><pre class="language-none"><code class="language-none">直方图(Histogram)又称质量分布图。是一种统计报告图，由一系列高度不等的纵向条纹或线段表示数据分布的情况。 一般用横轴表示数据类型，纵轴表示分布情况。应用步骤(1)收集数据。作直方图的数据一般应大于50个。(2)确定数据的极差(R)。用数据的最大值减去最小值 求得。(3)确定组距(h)。先确定直方图的组数，然后以此组数去除极差，可得直方图每组的宽度，即组距。组数的确定要适当。组数太少，会引起较大计算误差；组数太多，会影响数据分组规律的明显性，且计算工作量加大。(4)确定各组的界限值。为避免出现数据值与组界限值重合而造成频数据计算困难，组的界限值单位应取最小测量单位的1&#x2F;2。分组时应把数据表中最大值和最小值包括在内。　　第一组下限值为：最小值-0.5;　　第一组上限值为：第一组下限值加组距;　　第二组下限值就是第一组的上限值；　　第二组上限值就是第二组的下限值加组距；　　第三组以后，依此类推定出各组的组界。(5)编制频数分布表。把多个组上下界限值分别填入频数分布表内，并把数据表中的各个数据列入相应的组，统计各组频数据(f )。(6)按数据值比例画出横坐标。(7)按频数值比例画纵坐标。以观测值数目或百分数表示。(8)画直方图。按纵坐标画出每个长方形的高度，它代表取落在此长方形中的数据数。(注意：每个长方形的宽度都是相等的。)在直方图上应标注出公差范围(T)、样本容量(n)、样本平均值(x)、样本标准偏差值(s)和x的位置等。</code></pre><ul><li>首先做一个柱状图，了解一下 StdDraw类中filledRectangle的方法：</li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">/**    * bar chart example    */</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">barChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>       <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>           a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>           <span class="token comment">//矩形一半的宽</span>           <span class="token keyword">double</span> rw <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">/</span> <span class="token class-name">N</span><span class="token punctuation">;</span>           <span class="token comment">// 矩形一半的高</span>           <span class="token keyword">double</span> rh <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span><span class="token number">2.0</span><span class="token punctuation">;</span>           <span class="token comment">//矩形中心点x轴的坐标</span>           <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">*</span> i <span class="token operator">/</span> <span class="token class-name">N</span> <span class="token operator">+</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token class-name">N</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>           <span class="token comment">// 矩形中心点y轴的坐标</span>           <span class="token keyword">double</span> y <span class="token operator">=</span> rh<span class="token punctuation">;</span>           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"x="</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">",y="</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">",rw="</span> <span class="token operator">+</span> rw <span class="token operator">+</span> <span class="token string">",rh="</span> <span class="token operator">+</span> rh<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">filledRectangle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> rw<span class="token punctuation">,</span> rh<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span></code></pre><ul><li>答案</li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">/**    * solution     * @param N the numbers of intervals     * @param l interval left value    * @param r interval right value    * @param a double stream    */</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">histogramSolution</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token keyword">double</span> l<span class="token punctuation">,</span> <span class="token keyword">double</span> r<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token comment">// double stream的组距</span>       <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">double</span> interval <span class="token operator">=</span> <span class="token punctuation">(</span>r <span class="token operator">-</span>l<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token class-name">N</span><span class="token punctuation">;</span>       <span class="token comment">// histogram 的组距</span>       <span class="token keyword">double</span> histogramInterval <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token class-name">N</span><span class="token punctuation">;</span>              <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>           <span class="token comment">// double stream 组距左边的值</span>           <span class="token keyword">double</span> dsLeft <span class="token operator">=</span> interval <span class="token operator">*</span> i <span class="token operator">+</span> l<span class="token punctuation">;</span>           <span class="token comment">// double stream 组距右边的值</span>           <span class="token keyword">double</span> dsRight <span class="token operator">=</span> interval <span class="token operator">*</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> l<span class="token punctuation">;</span>           <span class="token comment">// 矩形中心位置x轴的坐标</span>           <span class="token keyword">double</span> x <span class="token operator">=</span> histogramInterval <span class="token operator">*</span>i <span class="token operator">+</span>histogramInterval <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>           <span class="token comment">// 频次，代表直方图的高</span>           <span class="token keyword">int</span> countTemp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>           <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>               <span class="token comment">// 频次</span>               <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> dsLeft <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> dsRight <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                   countTemp <span class="token operator">++</span><span class="token punctuation">;</span>               <span class="token punctuation">&#125;</span>           <span class="token punctuation">&#125;</span>           <span class="token keyword">double</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>countTemp <span class="token operator">*</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>           <span class="token comment">//double p = (countTemp * 1.0) / N;</span>           <span class="token comment">// 矩形中心位置y周的坐标</span>           <span class="token keyword">double</span> y <span class="token operator">=</span> p <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>           <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">filledRectangle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> histogramInterval <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span></code></pre><p>用main方法调用：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token comment">//barChart();</span>       <span class="token comment">// represent argument N</span>       <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>       <span class="token comment">// represent argument l</span>       <span class="token comment">// represent argument r</span>       <span class="token keyword">double</span> l <span class="token operator">=</span> <span class="token number">1.09</span><span class="token punctuation">;</span>       <span class="token keyword">double</span> r <span class="token operator">=</span> <span class="token number">23.32</span><span class="token punctuation">;</span>       <span class="token comment">// represent double stream</span>       <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1.08</span><span class="token punctuation">,</span> <span class="token number">1.21</span><span class="token punctuation">,</span> <span class="token number">2.33</span><span class="token punctuation">,</span> <span class="token number">3.35</span><span class="token punctuation">,</span> <span class="token number">8.78</span><span class="token punctuation">,</span> <span class="token number">6.98</span><span class="token punctuation">,</span> <span class="token number">7.99</span><span class="token punctuation">,</span> <span class="token number">10.21</span><span class="token punctuation">,</span> <span class="token number">15.22</span><span class="token punctuation">,</span> <span class="token number">21.23</span><span class="token punctuation">,</span> <span class="token number">14.51</span><span class="token punctuation">,</span> <span class="token number">16.77</span><span class="token punctuation">,</span> <span class="token number">18.23</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>       <span class="token function">histogramSolution</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span></code></pre><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118130552755.png" alt="image-20210118130552755" loading="lazy"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-11-Java直方图的绘制-1-1-32&quot;&gt;&lt;a href=&quot;#算法练习-11-Java直方图的绘制-1-1-32&quot; class=&quot;headerlink&quot; title=&quot;算法练习-11-Java直方图的绘制(1.1.32)&quot;&gt;&lt;/a&gt;算法练习-11-Java直方图的绘制(1.1.32)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;直方图概念&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-10-Java绘制点、线、圆(1.1.31)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/18/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-10-Java%E7%BB%98%E5%88%B6%E7%82%B9%E3%80%81%E7%BA%BF%E3%80%81%E5%9C%86-(1.1.31)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/18/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-10-Java%E7%BB%98%E5%88%B6%E7%82%B9%E3%80%81%E7%BA%BF%E3%80%81%E5%9C%86-(1.1.31)/</id>
    <published>2021-01-18T02:21:53.000Z</published>
    <updated>2021-01-18T04:13:23.617Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-10-Java绘制点、线、圆-1-1-31"><a href="#算法练习-10-Java绘制点、线、圆-1-1-31" class="headerlink" title="算法练习-10-Java绘制点、线、圆(1.1.31)"></a>算法练习-10-Java绘制点、线、圆(1.1.31)</h1><ul><li>知识点<ul><li>绘点</li><li>随机函数</li></ul></li></ul><a id="more"></a><h2 id="1-1-31-随机连接。"><a href="#1-1-31-随机连接。" class="headerlink" title="1.1.31 随机连接。"></a>1.1.31 随机连接。</h2><p><strong>1.1.31 随机连接。编写一段程序，从命令行接受一个整数 N 和 double 值 p(0 到 1 之间)作为参数， 在一个圆上画出大小为 0.05 且间距相等的 N 个点，然后将每对点按照概率 p 用灰线连接。</strong></p><p><strong>1.1.31 Random connections. Write a program that takes as command-line arguments an integer N and a double value p (between 0 and 1), plots N equally spaced dots of size .05 on the circumference of a circle, and then, with probability p for each pair of points, draws a gray line connecting them.</strong></p><ul><li><p>分析</p><p>这道题考查了Random库和StdDraw库的使用</p><p><code>StdRandom.uniform()</code>生成0到1之间的数</p><p><code>StdDraw.point(0.5,0.5)</code>方法可以生成居中的点</p></li><li><p>举例 </p></li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//设置画笔颜色</span><span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">setPenColor</span><span class="token punctuation">(</span><span class="token class-name">StdDraw</span><span class="token punctuation">.</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置画笔的大小（直径）</span><span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">setPenRadius</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画个点</span><span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">point</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118103145830.png" alt="image-20210118103145830" loading="lazy"></p><p>这也从侧面印证，不设置X轴和Y轴的话，默认的X轴和Y轴大小是1个单位<img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118103356211.png" alt="image-20210118103356211" loading="lazy"></p><ul><li>答案</li></ul><p>我们首先要画个圆，画圆的方法是<code>public static void circle(double x,double y, double radius)</code> 比如我们通过如下代码画一个半径是0.5的圆：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span></code></pre><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118103639421.png" alt="image-20210118103639421" loading="lazy"></p><p>此时，计算点的位置（使用角度）             </p><p>总共 N 个点，平均分布在圆上。所以每个点占的圆的角度为360/N。整数可能除不尽，使用 double 360.0/N           </p><p> 将极坐标系中的角度转换为直角坐标系中的坐标,使用 for 循环存储每个点                x = 0.5(原点) + 0.5(半径)*cos(360.0/N * Math.PI/180 * i)(第i个点所占的角度)                y = 0.5(原点) + 0.5(半径)*sin(360.0/N * Math.PI/180 * i)(第i个点所占的角度)</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Paintintintin</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> <span class="token class-name">N</span>  <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"请输入点的数量:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"请输入连线概率（double类型）："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> angle <span class="token operator">=</span> <span class="token number">360.0</span><span class="token operator">/</span><span class="token class-name">N</span><span class="token punctuation">;</span>        <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">setPenRadius</span><span class="token punctuation">(</span><span class="token number">0.05</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Point</span> points<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> xs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ys <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            xs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">+</span> <span class="token number">0.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> i <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ys<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">+</span> <span class="token number">0.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> i <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            points<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>xs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>ys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">point</span><span class="token punctuation">(</span>xs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>ys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token comment">//圆画完了</span>        <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">setPenRadius</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">bernoulli</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token class-name">StdDraw</span><span class="token punctuation">.</span><span class="token function">line</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>points<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>points<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span>  <span class="token class-name">Point</span><span class="token punctuation">&#123;</span>        <span class="token keyword">private</span> <span class="token keyword">double</span> x<span class="token punctuation">;</span>        <span class="token keyword">private</span> <span class="token keyword">double</span> y<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> x<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> y<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">double</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>当输入10，0.3时：</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118114518476.png" alt="image-20210118114518476" loading="lazy"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-10-Java绘制点、线、圆-1-1-31&quot;&gt;&lt;a href=&quot;#算法练习-10-Java绘制点、线、圆-1-1-31&quot; class=&quot;headerlink&quot; title=&quot;算法练习-10-Java绘制点、线、圆(1.1.31)&quot;&gt;&lt;/a&gt;算法练习-10-Java绘制点、线、圆(1.1.31)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;绘点&lt;/li&gt;
&lt;li&gt;随机函数&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-9-两数互质的判断(1.1.30)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/16/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-9-%E4%B8%A4%E6%95%B0%E4%BA%92%E8%B4%A8%E7%9A%84%E5%88%A4%E6%96%AD-(1.1.30)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/16/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-9-%E4%B8%A4%E6%95%B0%E4%BA%92%E8%B4%A8%E7%9A%84%E5%88%A4%E6%96%AD-(1.1.30)/</id>
    <published>2021-01-16T05:24:18.000Z</published>
    <updated>2021-01-16T06:23:08.565Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-9-两数互质的判断-1-1-30"><a href="#算法练习-9-两数互质的判断-1-1-30" class="headerlink" title="算法练习-9-两数互质的判断(1.1.30)"></a>算法练习-9-两数互质的判断(1.1.30)</h1><ul><li>知识点<ul><li>最大公约数</li><li>两数互质的条件</li></ul></li></ul><a id="more"></a><h2 id="1-1-30-数组练习。"><a href="#1-1-30-数组练习。" class="headerlink" title="1.1.30 数组练习。"></a>1.1.30 <strong>数组练习。</strong></h2><p><strong>1.1.30 数组练习。编写一段程序，创建一个 N×N 的布尔数组 a[][]。其中当 i 和 j 互质时(没有相同 因子)，a[i][j] 为 true，否则为 false。</strong></p><p><strong>1.1.30 Array exercise. Write a code fragment that creates an N-by-N boolean array a[][] such that a[i][j] is true if i and j are relatively prime (have no common factors), and false otherwise.</strong></p><pre class="language-none"><code class="language-none">互质互质是公约数只有1的两个整数，叫做互质整数。公约数只有1的两个自然数，叫做互质自然数，后者是前者的特殊情形。互质数具有以下定理：（1）两个数的公因数只有1的两个非零自然数,叫做互质数；举例：2和3，公因数只有1，为互质数；（2）多个数的若干个最大公因数只有1的正整数，叫做互质数；（3）两个不同的质数，为互质数；（4）1和任何自然数互质。两个不同的质数互质。一个质数和一个合数，这两个数不是倍数关系时互质。不含相同质因数的两个合数互质；（5）任何相邻的两个数互质；（6）任取出两个正整数他们互质的概率（最大公约数为一）为6&#x2F;pi^2。</code></pre><pre class="language-none"><code class="language-none">公约数公约数，亦称“公因数”。它是一个能被若干个整数同时均整除的整数。如果一个整数同时是几个整数的约数，称这个整数为它们的“公约数”；公约数中最大的称为最大公约数。对任意的若干个正整数，1总是它们的公因数。最大公约数(Greatest Common Divisor(GCD))最大公因数，也称最大公约数、最大公因子，指两个或多个整数共有约数中最大的一个。a，b的最大公约数记为（a，b），同样的，a，b，c的最大公约数记为（a，b，c），多个整数的最大公约数也有同样的记号。求最大公约数有多种方法，常见的有质因数分解法、短除法、辗转相除法、更相减损法。与最大公约数相对应的概念是最小公倍数，a，b的最小公倍数记为[a，b]。</code></pre><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdIn</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4<span class="token punctuation">.</span></span><span class="token class-name">StdOut</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Practice04</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">gcd</span><span class="token punctuation">(</span><span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> m<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>m <span class="token operator">%</span> n <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> temp <span class="token operator">=</span> m <span class="token operator">%</span> n<span class="token punctuation">;</span>            m <span class="token operator">=</span> n<span class="token punctuation">;</span>            n <span class="token operator">=</span> temp<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> n<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">==</span><span class="token function">gcd</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-9-两数互质的判断-1-1-30&quot;&gt;&lt;a href=&quot;#算法练习-9-两数互质的判断-1-1-30&quot; class=&quot;headerlink&quot; title=&quot;算法练习-9-两数互质的判断(1.1.30)&quot;&gt;&lt;/a&gt;算法练习-9-两数互质的判断(1.1.30)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;最大公约数&lt;/li&gt;
&lt;li&gt;两数互质的条件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法练习-8-搜索有序数组中的相等数-(1.1.29)</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/16/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-8-%E6%90%9C%E7%B4%A2%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%9B%B8%E7%AD%89%E6%95%B0-(1.1.29)/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/16/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0-8-%E6%90%9C%E7%B4%A2%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%9B%B8%E7%AD%89%E6%95%B0-(1.1.29)/</id>
    <published>2021-01-16T04:48:40.000Z</published>
    <updated>2021-01-16T06:23:16.389Z</updated>
    
    <content type="html"><![CDATA[<h1 id="算法练习-8-搜索有序数组中的相等数-1-1-29"><a href="#算法练习-8-搜索有序数组中的相等数-1-1-29" class="headerlink" title="算法练习-8-搜索有序数组中的相等数-(1.1.29)"></a>算法练习-8-搜索有序数组中的相等数-(1.1.29)</h1><ul><li>知识点<ul><li>等值键</li></ul></li></ul><a id="more"></a><h2 id="1-1-29"><a href="#1-1-29" class="headerlink" title="1.1.29"></a>1.1.29</h2><h3 id="1-1-29-等值键。"><a href="#1-1-29-等值键。" class="headerlink" title="1.1.29 等值键。"></a><strong>1.1.29 等值键。</strong></h3><p><strong>为 BinarySearch 类添加一个静态方法 rank()，它接受一个键和一个整型有序数组(可能存在重复键)作为参数并返回数组中小于该键的元素数量，以及一个类似的方法 count() 来 返回数组中等于该键的元素的数量。注意:如果 i 和 j 分别是 rank(key,a) 和 count(key,a) 的返回值，那么 a[i..i+j-1] 就是数组中所有和 key 相等的元素。</strong></p><p><strong>1.1.29 Equal keys. Add to BinarySearch a static method rank() that takes a key and a sorted array of int values (some of which may be equal) as arguments and returns the number of elements that are smaller than the key and a similar method count() that returns the number of elements equal to the key. Note : If i and j are the values returned by rank(key, a) and count(key, a) respectively , then a[i..i+j-1] are the values in the array that are equal to key.</strong></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">top<span class="token punctuation">.</span>leafii<span class="token punctuation">.</span>practice<span class="token punctuation">.</span>charpter01</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinarySearch1</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">BinarySearch1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> hi <span class="token operator">=</span> a<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;=</span> hi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// Key is in a[lo..hi] or not present.</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">if</span>      <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">></span> a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>mid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">return</span> mid<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> lowers <span class="token operator">=</span> <span class="token function">rank</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> lowers<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> a<span class="token punctuation">.</span>length <span class="token operator">||</span> key <span class="token operator">!=</span> a<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> a<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token operator">++</span>cnt<span class="token punctuation">;</span>            <span class="token operator">++</span>index<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> cnt<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">33</code></pre>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;算法练习-8-搜索有序数组中的相等数-1-1-29&quot;&gt;&lt;a href=&quot;#算法练习-8-搜索有序数组中的相等数-1-1-29&quot; class=&quot;headerlink&quot; title=&quot;算法练习-8-搜索有序数组中的相等数-(1.1.29)&quot;&gt;&lt;/a&gt;算法练习-8-搜索有序数组中的相等数-(1.1.29)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;知识点&lt;ul&gt;
&lt;li&gt;等值键&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="算法" scheme="https://mikutown.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Go语言の程序流程控制</title>
    <link href="https://mikutown.gitee.io/blog/2021/01/15/Go%E8%AF%AD%E8%A8%80%E3%81%AE%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <id>https://mikutown.gitee.io/blog/2021/01/15/Go%E8%AF%AD%E8%A8%80%E3%81%AE%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/</id>
    <published>2021-01-15T14:28:36.000Z</published>
    <updated>2021-01-18T10:10:46.978Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Go语言の程序流程控制"><a href="#Go语言の程序流程控制" class="headerlink" title="Go语言の程序流程控制"></a>Go语言の程序流程控制</h1><h2 id="程序流程控制介绍"><a href="#程序流程控制介绍" class="headerlink" title="程序流程控制介绍"></a>程序流程控制介绍</h2><p>在程序中，程序运行的流程控制决定程序是如何执行的，是我们必须掌握的，主要有三大流程控制语句。</p><ol><li>顺序控制</li><li>分支控制</li><li>循环控制</li></ol><a id="more"></a><h2 id="顺序控制"><a href="#顺序控制" class="headerlink" title="顺序控制"></a>顺序控制</h2><p>​    程序从上到下逐行执行，中间没有任何判断和跳转。</p><p>​    一个案例说明，必须下面的代码中，没有判断，也没有跳转，因此程序按照默认的流程执行，即顺序控制。</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">var</span> days <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">97</span><span class="token keyword">var</span> week <span class="token builtin">int</span> <span class="token operator">=</span> days <span class="token operator">/</span> <span class="token number">7</span><span class="token keyword">var</span> day <span class="token builtin">int</span> <span class="token operator">=</span> days <span class="token operator">%</span> <span class="token number">7</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d个星期零%d天\n"</span><span class="token punctuation">,</span> week<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token keyword">var</span> huashi <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">134.2</span><span class="token keyword">var</span> sheshi <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">5.0</span> <span class="token operator">/</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token punctuation">(</span>huashi <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v 对应的摄氏温度=%v \n"</span><span class="token punctuation">,</span> huashi<span class="token punctuation">,</span> sheshi<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">13个星期零6天134.2对应的摄氏温度&#x3D; 19 </code></pre><h3 id="程序控制的流程图"><a href="#程序控制的流程图" class="headerlink" title="程序控制的流程图"></a>程序控制的流程图</h3><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210115235239983.png" alt="image-20210115235239983" loading="lazy"></p><h3 id="顺序控制举例和注意事项"><a href="#顺序控制举例和注意事项" class="headerlink" title="顺序控制举例和注意事项"></a>顺序控制举例和注意事项</h3><p>​    Golang中定义变量时采用合法的前向引用。如：</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> num1 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">//声明了num1</span>  <span class="token keyword">var</span> num2 <span class="token builtin">int</span> <span class="token operator">=</span> num1 <span class="token operator">+</span> <span class="token number">20</span> <span class="token comment">//使用num1</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p>错误形式：</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> num2 <span class="token builtin">int</span> <span class="token operator">=</span> num1 <span class="token operator">+</span> <span class="token number">20</span> <span class="token comment">//使用num1</span>  <span class="token keyword">var</span> num1 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">//声明num1 (❌)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h2 id="分支控制"><a href="#分支控制" class="headerlink" title="分支控制"></a>分支控制</h2><h3 id="分支控制的基本介绍"><a href="#分支控制的基本介绍" class="headerlink" title="分支控制的基本介绍"></a>分支控制的基本介绍</h3><p>分支控制就是让程序有选择执行。有下面三种形式</p><ol><li>单分支</li><li>双分支</li><li>多分枝</li></ol><h3 id="单分支控制"><a href="#单分支控制" class="headerlink" title="单分支控制"></a>单分支控制</h3><ul><li>基本语法</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">if</span> 条件表达式<span class="token punctuation">&#123;</span>  执行代码块<span class="token punctuation">&#125;</span></code></pre><p><strong>说明：当条件表达式为true时，就会执行{}的代码。注意{}是必须有的，就算你只写一行代码。</strong></p><ul><li>应用案例</li></ul><p>编写一个程序，可以输入人的年龄,如果该同志的年龄大于 18 岁,则输出 “你年龄大 于 18,要对自己的行为负责!”。      需求—【分析】—&gt;代码</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> age <span class="token builtin">int</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入年龄："</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>age<span class="token punctuation">)</span>    <span class="token keyword">if</span> age <span class="token operator">></span> <span class="token number">18</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你年龄大于18，要对自己的行为负责！"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go请输入年龄：10➜  main go run .&#x2F;main.go请输入年龄：29你年龄大于18，要对自己的行为负责！➜  main </code></pre><ul><li><p>单分支的流程图</p><p>流程图可以用<strong>图形方式</strong>来更加清晰的描述程序执行的流程。</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116001333710.png" alt="image-20210116001333710" loading="lazy"></p></li><li><p>单分支的细节说明</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">if</span> age <span class="token operator">:=</span> <span class="token number">20</span><span class="token punctuation">;</span> age <span class="token operator">></span> <span class="token number">18</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你年龄大于18，要对自己的行为负责!"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h3 id="双分支控制"><a href="#双分支控制" class="headerlink" title="双分支控制"></a>双分支控制</h3><ul><li>基本语法</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">if</span> 条件表达式<span class="token punctuation">&#123;</span>  执行代码块<span class="token number">1</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  执行代码块<span class="token number">2</span><span class="token punctuation">&#125;</span></code></pre><p><strong>说明：当条件表达式成立，即执行代码块1，否则执行代码块2.{}也是必须有的。</strong></p><ul><li>应用案例</li></ul><p>编写一个程序,可以输入人的年龄,如果该同志的年龄大于 18 岁,则输出 “你年龄大于 18,要对 自己的行为负责!”。否则 ,输出”你的年龄不大这次放过你了.”</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">var</span> age <span class="token builtin">int</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入年龄："</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>age<span class="token punctuation">)</span><span class="token keyword">if</span> age <span class="token operator">></span> <span class="token number">18</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你年龄大于18，要对自己的行为负责！"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你的年龄不大这次放过你了."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go请输入年龄：19你年龄大于18，要对自己的行为负责！➜  main go run .&#x2F;main.go请输入年龄：12你的年龄不大这次放过你了.</code></pre><ul><li>双分支流程图的分析</li></ul><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116001729636.png" alt="image-20210116001729636" loading="lazy"></p><ul><li>对双分支的总结</li></ul><ol><li>从上图看，条件表达式就是age&gt;18</li><li>执行代码块1 就是 fmt.Prinltn(“你的年龄大于18”)…</li><li>执行代码块2 就是 fmt.Println(“你的年龄不大”)…</li><li>双分支<strong>只会执行其中的一个分支。</strong></li></ol><h3 id="单分支和双分支的案例"><a href="#单分支和双分支的案例" class="headerlink" title="单分支和双分支的案例"></a>单分支和双分支的案例</h3><ol><li>对下列代码，若有输出，指出输出结果.</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> x <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token keyword">var</span> y <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>y <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"hihihi"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"x is ="</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//输出结果是 hihihi</span></code></pre><ol start="2"><li>对下列代码，若有输出，指出输出结果.</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> x <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">2</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token keyword">else</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token comment">//没有&#123;&#125; 所以编译错误哦</span></code></pre><ol start="3"><li>对下列代码，若有输出，指出输出结果.</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> x <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//编译错误，因为else不能换行</span></code></pre><ol start="4"><li>对下列代码，若有输出，指出输出结果.</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> x <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//输出ok 但是建议把if(x>2)写成if x > 2</span></code></pre><ol start="5"><li>编写程序，声明 2 个 int32 型变量并赋值。判断两数之和，如果大于等于 50，打印“hello world!</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> n1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">10</span>  <span class="token keyword">var</span> n2 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">50</span>  <span class="token keyword">if</span> n1 <span class="token operator">+</span> n2 <span class="token operator">>=</span><span class="token number">50</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"hello,world"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="6"><li>编写程序，声明 2 个 float64 型变量并赋值。判断第一个数大于 10.0，且第 2 个数小于 20.0，打 印两数之和。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> n3 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">11.0</span><span class="token keyword">var</span> n4 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">17.0</span><span class="token keyword">if</span> n3 <span class="token operator">></span> <span class="token number">10.0</span> <span class="token operator">&amp;&amp;</span> n4 <span class="token operator">&lt;</span> <span class="token number">20.0</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"和="</span><span class="token punctuation">,</span><span class="token punctuation">(</span>n3<span class="token operator">+</span>n4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="7"><li>定义两个变量 int32，判断二者的和，是否能被 3 又能被 5 整除，打印提示信息</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> num1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">var</span> num2 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">+</span> num2<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>num1 <span class="token operator">+</span> num2<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"能被3又能被5整除"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="8"><li>判断一个年份是否是闰年，闰年的条件是符合下面二者之一:(1)年份能被4整除，但不能被100 整除;(2)能被 400 整除</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> year <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">2019</span><span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> year <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">||</span> year <span class="token operator">%</span> <span class="token number">400</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> <span class="token string">"是闰年!``"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h3 id="多分支控制"><a href="#多分支控制" class="headerlink" title="多分支控制"></a>多分支控制</h3><ul><li>基本语法</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">if</span> 条件表达式<span class="token number">1</span> <span class="token punctuation">&#123;</span>  执行代码块<span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">&#123;</span>  执行代码块<span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token operator">...</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  执行代码块n<span class="token punctuation">&#125;</span></code></pre><ul><li>说明：</li></ul><ol><li>多分支的判断流程如下：<ol><li>先判断条件表达式1是否成立，如果为真，就执行代码块1</li><li>如果条件表达式1如果为假，就去判断条件表达式2是否成立，如果条件表达式2为真，就执行代码块2</li><li>以此类推</li><li>如果所有的条件表达式不成立，则执行else的语句块。</li></ol></li><li>else 不是必须的</li><li>多分支只能有一个执行入口。</li></ol><ul><li>看一个多分支的流程图</li></ul><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116005439355.png" alt="image-20210116005439355" loading="lazy"></p><ul><li>多分支的快速入门案例</li></ul><p>岳小鹏参加 Golang 考试，他和父亲岳不群达成承诺: 如果:</p><p>​    成绩为 100 分时，奖励一辆 BMW; </p><p>​    成绩为(80，99]时，奖励一台 iphone7plus; </p><p>​    当成绩为[60,80]时，奖励一个 iPad; </p><p>​    其它时，什么奖励也没有。 请从键盘输入岳小鹏的期末成绩，并加以判断</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> score <span class="token builtin">int</span>  fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">"请输入成绩:"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>score<span class="token punctuation">)</span>  <span class="token keyword">if</span> score <span class="token operator">==</span> <span class="token number">100</span><span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"奖励BMW"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> score <span class="token operator">></span> <span class="token number">80</span> <span class="token operator">&amp;&amp;</span> score <span class="token operator">&lt;=</span> <span class="token number">99</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"奖励一台iphone12 pro max"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> score <span class="token operator">>=</span> <span class="token number">60</span> <span class="token operator">&amp;&amp;</span> score <span class="token operator">&lt;=</span><span class="token number">80</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"奖励一个iPad"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"啥也没"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ul><li><p>多分支的课堂练习</p><p>案例演示2</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> b <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>  <span class="token keyword">if</span> b <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> b<span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token operator">!</span>b<span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token comment">//c</span>  <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//输出结果是b</span><span class="token comment">//如果写成b=flase;能编译通过吗？如果能，结果是？（不能通过，if的条件表达式不是赋值语句)</span></code></pre><p>​    案例演示3</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116012330224.png" alt="image-20210116012330224" loading="lazy"></p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token string">"math"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">var</span> a <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">1.0</span><span class="token keyword">var</span> b <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">4.0</span><span class="token keyword">var</span> c <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">2.0</span>m <span class="token operator">:=</span> b <span class="token operator">*</span> b <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">*</span> a <span class="token operator">*</span> c<span class="token comment">//多分支判断</span><span class="token keyword">if</span> m <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>  x1 <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">-</span>b <span class="token operator">+</span> math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> a  x2 <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">-</span>b <span class="token operator">-</span> math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> a  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x1=%v x2=%v \n"</span><span class="token punctuation">,</span> x1<span class="token punctuation">,</span> x2<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> m <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">&#123;</span>  x1 <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">-</span>b <span class="token operator">+</span> math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> a  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x1=%v\n"</span><span class="token punctuation">,</span> x1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"无解..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.gox1&#x3D;-4%                                                                                           ➜  main go run .&#x2F;main.gox1&#x3D;-0.5857864376269049 x2&#x3D;-3.414213562373095%                                                    ➜  main go run .&#x2F;main.gox1&#x3D;-0.5857864376269049 x2&#x3D;-3.414213562373095 ➜  main </code></pre><p>​    案例演示4</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116013022820.png" alt="image-20210116013022820" loading="lazy"></p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> height <span class="token builtin">int32</span><span class="token keyword">var</span> money <span class="token builtin">float32</span><span class="token keyword">var</span> handsome <span class="token builtin">bool</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入身高（厘米）"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>height<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入财富（千万）"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>money<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入是否帅气（true or false）"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>handsome<span class="token punctuation">)</span><span class="token keyword">if</span> height <span class="token operator">></span> <span class="token number">180</span> <span class="token operator">&amp;&amp;</span> money <span class="token operator">></span><span class="token number">1.0</span> <span class="token operator">&amp;&amp;</span> handsome <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"一定要嫁给他！！！"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> height <span class="token operator">></span> <span class="token number">180</span> <span class="token operator">||</span> money <span class="token operator">></span><span class="token number">1.0</span> <span class="token operator">||</span> handsome<span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"勉勉强强嫁给他吧"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"不嫁......"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go请输入年龄：10➜  main go run .&#x2F;main.go请输入年龄：29➜  main go run .&#x2F;main.go请输入身高（厘米）190请输入财富（千万）12请输入是否帅气（true or false）true一定要嫁给他！！！➜  main go run .&#x2F;main.go请输入身高（厘米）120请输入财富（千万）1请输入是否帅气（true or false）false不嫁......➜  main go run .&#x2F;main.go请输入身高（厘米）120请输入财富（千万）1.2请输入是否帅气（true or false）false勉勉强强嫁给他吧➜  main </code></pre><h3 id="嵌套分支"><a href="#嵌套分支" class="headerlink" title="嵌套分支"></a>嵌套分支</h3><ul><li><p>基本介绍</p><p>在一个分支结构中又完整的嵌套了另一个完整的分支结构，里面的分支的结构称为内层分支外面的分支结构称为外层分支。</p></li><li><p>基本语法</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">if</span> 条件表达式<span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> 条件表达式<span class="token punctuation">&#123;</span>      <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><strong>说明：嵌套分支不宜过多，建议控制在3层内</strong></p><ul><li>示例代码1</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> second <span class="token builtin">float64</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入秒数"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>second<span class="token punctuation">)</span><span class="token keyword">if</span> second <span class="token operator">&lt;=</span> <span class="token number">8</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> gender <span class="token builtin">string</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入性别"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>gender<span class="token punctuation">)</span>  <span class="token keyword">if</span> gender <span class="token operator">==</span> <span class="token string">"男"</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"进入决赛的男子组"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"进入决赛的女子组"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"out......"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go 请输入秒数100out......➜  main go run .&#x2F;main.go请输入秒数3请输入性别男进入决赛的男子组➜  main go run .&#x2F;main.go请输入秒数4请输入性别女进入决赛的女子组</code></pre><ul><li><p>示例代码2</p><p>出票系统：根据淡旺季的月份和年龄，打印票价</p><p>4到10是旺季：</p><p>​    成人（18-60）：60</p><p>​    儿童（&lt;18):半价 30</p><p>​    老人（&gt;60): 1/3 20</p><p>淡季: </p><p>​    成人:40</p><p>​    其他:20</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> month <span class="token builtin">int</span><span class="token keyword">var</span> age <span class="token builtin">int</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入月份"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>month<span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>month<span class="token operator">>=</span><span class="token number">4</span> <span class="token operator">&amp;&amp;</span> month <span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入购票人年龄:"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>age<span class="token punctuation">)</span>  <span class="token keyword">if</span> age<span class="token operator">&lt;</span><span class="token number">18</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您购买的票是旺季儿童票，享受半价优惠：30元"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> age <span class="token operator">></span> <span class="token number">60</span><span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您购买的票是旺季老人票，享受1/3折：20元"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您购买的票是旺季成人票，原价购买，60元"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入购票人年龄:"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>age<span class="token punctuation">)</span>  <span class="token keyword">if</span> age<span class="token operator">&lt;</span><span class="token number">18</span> <span class="token operator">||</span> age<span class="token operator">></span><span class="token number">60</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您购买的票是淡季其他票，享受半价优惠：20元"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您购买的票是淡季成人票，原价购买，40元"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go 请输入秒数100➜  main go run .&#x2F;main.go# command-line-arguments➜  main go run .&#x2F;main.go请输入月份6请输入购票人年龄:19您购买的票是旺季成人票，60元➜  main go run .&#x2F;main.go请输入月份2请输入购票人年龄:12您购买的票是淡季其他票，20元➜  main go run .&#x2F;main.go请输入月份9请输入购票人年龄:61您购买的票是旺季老人票，20元➜  main go run .&#x2F;main.go请输入月份10请输入购票人年龄:71您购买的票是旺季老人票，20元➜  main </code></pre><h2 id="switch分支控制"><a href="#switch分支控制" class="headerlink" title="switch分支控制"></a>switch分支控制</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><ol><li>switch语句用于基于不同条件执行不同动作，每一个case分支都是唯一的，从上到下逐疫测试，知道匹配为止。</li><li>匹配项后面也不需要再加break</li></ol><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">switch</span> 表达式 <span class="token punctuation">&#123;</span>  <span class="token keyword">case</span> 表达式<span class="token number">1</span><span class="token punctuation">,</span>表达式<span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">:</span>  语句块<span class="token number">1</span>  <span class="token keyword">case</span> 表达式<span class="token number">3</span>，表达式<span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">:</span>  语句块<span class="token number">2</span>  <span class="token comment">//这里可以有多个case语句</span>    <span class="token keyword">default</span><span class="token punctuation">:</span>  语句块<span class="token punctuation">&#125;</span></code></pre><h3 id="switch的流程图"><a href="#switch的流程图" class="headerlink" title="switch的流程图"></a>switch的流程图</h3><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116152411706.png" alt="image-20210116152411706" loading="lazy"></p><ul><li>说明和总结<ol><li>switch的执行的流程是，先执行表达式，得到值，然后和case的表达式进行比较，如果相等，就匹配到，然后执行对应的case的语句块，然后退出switch控制。</li><li>如果switch的表达式的值没有和任何的case的表达式匹配成功，则执行default的语句块，执行后退出switch的控制</li><li>golang的case后的表达式可以有多个，使用 逗号 间隔。</li><li>golang中的case语句块不需要写break，因为默认会有，即在默认情况下，当程序执行完case语句块后，就直接退出该switch控制结构。</li></ol></li></ul><h3 id="switch快速入门案例"><a href="#switch快速入门案例" class="headerlink" title="switch快速入门案例"></a>switch快速入门案例</h3><ul><li><p>案例：</p><p>请编写一个程序，该程序可以接收一个字符，比如: a,b,c,d,e,f,g a表示星期一，b表示星期二 … 根据用户的输入显示相依的信息.要求使用 switch 语句完成</p></li><li><p>代码</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token comment">//分析思路</span><span class="token comment">//1. 定义一个变量接收字符</span><span class="token comment">//2. 使用switch完成</span><span class="token keyword">var</span> key <span class="token builtin">byte</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入一个字符 a,b,c,d,e,f,g"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>key<span class="token punctuation">)</span><span class="token keyword">switch</span> key <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token string">'a'</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周一"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'b'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周二"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'c'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周三"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'d'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周四"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'e'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周五"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'f'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周六"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'g'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周日"</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"输入有误..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">请输入一个字符 a,b,c,d,e,f,ga周一➜  main ➜  main go run .&#x2F;main.go请输入一个字符 a,b,c,d,e,f,gq输入有误...</code></pre><h3 id="switch的使用的注意事项"><a href="#switch的使用的注意事项" class="headerlink" title="switch的使用的注意事项"></a>switch的使用的注意事项</h3><ol><li>case/switch后是一个表达式（即：常量值、变量、一个有返回值的函数等都可以）</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//写一个很简单的函数</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>char <span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token builtin">byte</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> char <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//</span>  <span class="token keyword">var</span> key <span class="token builtin">byte</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入一个字符 a,b,c,d,e,f,g"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>key<span class="token punctuation">)</span>    <span class="token keyword">switch</span> <span class="token function">test</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">&#123;</span> <span class="token comment">//修改成函数了哦！！</span><span class="token keyword">case</span> <span class="token string">'a'</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周一"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'b'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周二"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'c'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周三"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'d'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周四"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'e'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周五"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'f'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周六"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'g'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"周日"</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"输入有误..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="2"><li>case后的各个表达式的值的数据类型，必须和switch的表达式数据类型一致</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> n1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">var</span> n2 <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">switch</span> n1 <span class="token punctuation">&#123;</span><span class="token keyword">case</span> n2 <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1"</span><span class="token punctuation">)</span> <span class="token comment">//错误，因为n2和n1的数据类型不一致</span><span class="token keyword">default</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"没匹配到"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="3"><li>case 后面可以带多个表达式，使用逗号间隔。比如<code>case 表达式1，表达式2...</code></li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> n1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">var</span> n2 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">switch</span> n1 <span class="token punctuation">&#123;</span><span class="token keyword">case</span> n2<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1"</span><span class="token punctuation">)</span><span class="token keyword">default</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"没匹配到"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="4"><li>case后面的表达式如果是常量值（字面量），则要求不能重复</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> n1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">var</span> n2 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">switch</span> n1 <span class="token punctuation">&#123;</span><span class="token keyword">case</span> n2<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">:</span>        <span class="token comment">//case后面可以有多个表达式</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1"</span><span class="token punctuation">)</span> <span class="token keyword">case</span> <span class="token number">5</span> <span class="token punctuation">:</span>                <span class="token comment">// 错误，因为前面我们有常量5，因此重复，就会报错哦</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2~"</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"没匹配到"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="5"><li>case后面不需要带break，程序匹配到一个case后就会执行对应的代码块，然后退出switch，如果一个都匹配不到，则执行default</li><li>default语句不是必须的</li><li>switch后也可以不带表达式，类似 if-else分支来使用。【案例演示】</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> age <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">switch</span> <span class="token punctuation">&#123;</span><span class="token keyword">case</span> age <span class="token operator">==</span> <span class="token number">10</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"age == 10"</span><span class="token punctuation">)</span><span class="token keyword">case</span> age <span class="token operator">==</span> <span class="token number">20</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"age == 20"</span><span class="token punctuation">)</span><span class="token keyword">default</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"没有匹配到哦"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>score <span class="token operator">:=</span> <span class="token number">90</span><span class="token keyword">switch</span> <span class="token punctuation">&#123;</span><span class="token keyword">case</span> score <span class="token operator">></span> <span class="token number">90</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"成绩优秀.."</span><span class="token punctuation">)</span><span class="token keyword">case</span> score <span class="token operator">>=</span><span class="token number">70</span> <span class="token operator">&amp;&amp;</span> score <span class="token operator">&lt;=</span> <span class="token number">90</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"成绩优良.."</span><span class="token punctuation">)</span><span class="token keyword">case</span> score <span class="token operator">>=</span><span class="token number">60</span> <span class="token operator">&amp;&amp;</span> score <span class="token operator">&lt;=</span> <span class="token number">70</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"成绩及格.."</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"不及格！"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="8"><li>switch后也可以直接声明/定义一个变量，分号结束，<strong>不推荐</strong>。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">switch</span> grade <span class="token operator">:=</span> <span class="token number">90</span><span class="token punctuation">;</span> <span class="token punctuation">&#123;</span><span class="token keyword">case</span> grade <span class="token operator">></span> <span class="token number">90</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"成绩优秀.."</span><span class="token punctuation">)</span><span class="token keyword">case</span> grade <span class="token operator">>=</span><span class="token number">70</span> <span class="token operator">&amp;&amp;</span> grade <span class="token operator">&lt;=</span> <span class="token number">90</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"成绩优良.."</span><span class="token punctuation">)</span><span class="token keyword">case</span> grade <span class="token operator">>=</span><span class="token number">60</span> <span class="token operator">&amp;&amp;</span> grade <span class="token operator">&lt;=</span> <span class="token number">70</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"成绩及格.."</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"不及格！"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="9"><li>switch穿透-fallthrough，如果在case语句块后增加fallthrough，则会继续执行下一个case，也叫switch穿透。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//switch的穿透fallthrought</span><span class="token keyword">var</span> num <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">switch</span> num <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token number">10</span> <span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1"</span><span class="token punctuation">)</span><span class="token keyword">fallthrough</span><span class="token comment">//默认只能穿透一层</span><span class="token keyword">case</span> <span class="token number">20</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2"</span><span class="token punctuation">)</span><span class="token keyword">fallthrough</span><span class="token keyword">case</span> <span class="token number">30</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok3"</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"没有匹配到哦"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.gook1ok2ok3➜  main </code></pre><ol start="10"><li>Type Switch : switch 语句还可以被用于 type-switch 来判断某个interface变量中实际指向的变量类型【interface体验】</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> x <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">10.0</span>x <span class="token operator">=</span> y<span class="token keyword">switch</span> i <span class="token operator">:=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token boolean">nil</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">" x 的类型～ : %T"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token builtin">int</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x 是 int 型"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token builtin">float64</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x 是 float64 型 "</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">float64</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x 是 func(int) 型"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x 是 bool 或 string 型"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"未知型"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.gox 是 float64 型 </code></pre><h3 id="switch课堂练习"><a href="#switch课堂练习" class="headerlink" title="switch课堂练习"></a>switch课堂练习</h3><ol><li>使用switch把小写类型的char型转为大写（键盘输入）。只转换a,b,c,d,e 其他的输出”other”。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> ch <span class="token builtin">byte</span>fmt<span class="token punctuation">.</span><span class="token function">Scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>ch<span class="token punctuation">)</span> <span class="token comment">//获取输入</span><span class="token comment">//fmt.Printf("%c",ch)</span><span class="token comment">//fmt.Println();</span><span class="token keyword">switch</span> ch <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token string">'a'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'b'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'c'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'d'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token string">'e'</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"E"</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"other"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ol start="2"><li>对学生成绩大于60分的，输出“合格”。低于60分的，输出“不合格”。（注：输入的成绩不能大于100）</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> score <span class="token builtin">float64</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入成绩"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>score<span class="token punctuation">)</span><span class="token keyword">switch</span> <span class="token function">int</span><span class="token punctuation">(</span>score <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"及格"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"不及格"</span><span class="token punctuation">)</span><span class="token keyword">default</span><span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"输入有误..."</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go请输入成绩86及格➜  main go run .&#x2F;main.go请输入成绩12不及格</code></pre><h3 id="switch和if的比较"><a href="#switch和if的比较" class="headerlink" title="switch和if的比较"></a>switch和if的比较</h3><p>总结了什么情况下使用switch，什么情况下使用if</p><ol><li>如果判断的具体数值不多，而且符合整数、浮点数、字符、字符串这几种类型。建议使用switch语句，简洁高效。</li><li>其他情况：对区间判断和结果为bool类型的判断，使用if，if的使用范围更广。</li></ol><h2 id="for循环控制"><a href="#for循环控制" class="headerlink" title="for循环控制"></a>for循环控制</h2><h3 id="基本介绍-1"><a href="#基本介绍-1" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>听其名而知其意。这就是让我们的一段代码循环的执行。</p><h3 id="一个实际的需求"><a href="#一个实际的需求" class="headerlink" title="一个实际的需求"></a>一个实际的需求</h3><ul><li><p>案例：</p><p>编写一个程序，可以打印10句</p><p>“你好 Golang！”。想一想怎么做？</p><ul><li>使用传统的方式实现</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ul><li>for循环的快速入门</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"你好 Golang"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h3 id="for循环的基本语法"><a href="#for循环的基本语法" class="headerlink" title="for循环的基本语法"></a>for循环的基本语法</h3></li><li><p>语法格式</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">for</span> 循环变量初始化；循环条件；循环变量迭代 <span class="token punctuation">&#123;</span>  循环操作（语句）<span class="token punctuation">&#125;</span></code></pre></li><li><p>对上面的语法格式说明</p><ul><li>对for循环来说，有四个要素：<ol><li>循环变量初始化</li><li>循环条件</li><li>循环操作（语句），有人也叫循环体</li><li>循环变量迭代</li></ol></li></ul></li><li><p>for循环执行的顺序说明：</p><ol><li>执行循环变量初始化，比如 <code>i:=1</code></li><li>执行循环条件，比如 <code>i &lt;= 10</code></li><li>如果循环条件为真，就执行循环操作：比如<code>fmt.Println(&quot;...&quot;)</code></li><li>执行循环变量迭代，比如 <code>i++</code></li><li>反复执行2， 3， 4步骤，直到 循环条件为False，就退出for循环。</li></ol></li></ul><h3 id="for循环执行流程分析"><a href="#for循环执行流程分析" class="headerlink" title="for循环执行流程分析"></a>for循环执行流程分析</h3><ul><li>for循环的流程图</li></ul><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116180659978.png" alt="image-20210116180659978" loading="lazy"></p><ul><li>对照代码分析for循环的执行过程</li></ul><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116180736110.png" alt="image-20210116180736110" loading="lazy"></p><h3 id="for循环的使用注意事项和细节讨论"><a href="#for循环的使用注意事项和细节讨论" class="headerlink" title="for循环的使用注意事项和细节讨论"></a>for循环的使用注意事项和细节讨论</h3><ol><li>循环条件是返回一个布尔值的表达式</li><li>for循环的第二种使用方式</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">for</span> 循环执行条件 <span class="token punctuation">&#123;</span>  <span class="token comment">//循环执行语句</span><span class="token punctuation">&#125;</span></code></pre><p>将变量初始化和变量迭代写到其他位置</p><ul><li>案例演示：</li></ul><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116180912128.png" alt="image-20210116180912128" loading="lazy"></p><ol start="3"><li>for循环的第三种使用方式</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">for</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//循环执行语句</span><span class="token punctuation">&#125;</span></code></pre><p>上面的写法等价 <code>for ; ; &#123;&#125;</code> 是一个<strong>无限循环</strong>，通常需要<strong>配合break语句</strong>使用</p><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116181324388.png" alt="image-20210116181324388" loading="lazy"></p><ol start="4"><li>Golang提供for-range的方式，可以方便遍历字符串和数组（注：数组的遍历，我们放到讲数组的时候再讲解），<strong>案例说明如何遍历字符串</strong>。</li></ol><ul><li>字符串遍历方式1-传统方式</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> str <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello,world"</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c \n"</span><span class="token punctuation">,</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//使用到下标</span><span class="token punctuation">&#125;</span></code></pre><ul><li>字符串遍历方式2-for-range</li></ul><pre class="language-go" data-language="go"><code class="language-go">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>str <span class="token operator">=</span> <span class="token string">"abc~ok"</span><span class="token keyword">for</span> index<span class="token punctuation">,</span> val <span class="token operator">:=</span> <span class="token keyword">range</span> str <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"index=%d, val=%c \n"</span><span class="token punctuation">,</span>index<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ul><li><p>上面代码的细节讨论</p><p>如果我们的字符串含有中文，那么传统的遍历字符串方式就是错误的，会出现乱码。原因是传统的对字符串的遍历是按照<strong>字节来遍历</strong>，而一个汉字在utf8编码是对应3个字节。</p><p>如何解决？</p><p>​    需要要将 str 转成 []rune切片。</p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> str <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello,world!北京"</span>str2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// 就是把str转成[]rune</span><span class="token keyword">for</span> i <span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c \n"</span><span class="token punctuation">,</span> str2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//使用到下标</span><span class="token punctuation">&#125;</span></code></pre><p>​    对应for-range遍历方式而言，是按照字符方式遍历。因此如果有字符串有中文，也是ok的</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> str <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"abc~ok上海"</span><span class="token keyword">for</span> index<span class="token punctuation">,</span> val <span class="token operator">:=</span> <span class="token keyword">range</span> str <span class="token punctuation">&#123;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"index=%d, val=%c \n"</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p>golang中还有一个<strong>byte</strong>数据类型与rune相似，它们都是用来表示字符类型的变量类型。它们的不同在于：</p><ul><li>byte 等同于int8，常用来处理ascii字符</li><li>rune 等同于int32,常用来处理unicode或utf-8字符</li></ul><h3 id="for循环的课堂练习"><a href="#for循环的课堂练习" class="headerlink" title="for循环的课堂练习"></a>for循环的课堂练习</h3><ol><li>打印1-100之间所有是9的倍数的整数的个数及总和。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> sum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> i<span class="token operator">%</span><span class="token number">9</span><span class="token operator">==</span><span class="token number">0</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span>sum <span class="token operator">+=</span> i<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"sum = %d \n"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go0 9 18 27 36 45 54 63 72 81 90 99 sum &#x3D; 594 ➜  main </code></pre><ol start="2"><li>完成下面的表达式输出，6是可变的。</li></ol><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210116183346993.png" alt="image-20210116183346993" loading="lazy"></p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> n <span class="token builtin">int</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"请输入参数:"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token keyword">var</span> m <span class="token builtin">int</span> <span class="token operator">=</span> n<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d + %d = %d \n"</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>m<span class="token punctuation">,</span><span class="token punctuation">(</span>i<span class="token operator">+</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>m<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go请输入参数:60 + 6 &#x3D; 6 1 + 5 &#x3D; 6 2 + 4 &#x3D; 6 3 + 3 &#x3D; 6 4 + 2 &#x3D; 6 5 + 1 &#x3D; 6 6 + 0 &#x3D; 6 ➜  main go run .&#x2F;main.go请输入参数:80 + 8 &#x3D; 8 1 + 7 &#x3D; 8 2 + 6 &#x3D; 8 3 + 5 &#x3D; 8 4 + 4 &#x3D; 8 5 + 3 &#x3D; 8 6 + 2 &#x3D; 8 7 + 1 &#x3D; 8 8 + 0 &#x3D; 8 </code></pre><h2 id="while和do-while的实现"><a href="#while和do-while的实现" class="headerlink" title="while和do..while的实现"></a>while和do..while的实现</h2><p>​    Go语言没有while和do…while语法，这一点需要注意，如果我们需要使用类似的其他语言（java/c的while和do…while)，<strong>可以通过for循环来实现其使用效果。</strong></p><h3 id="while循环的实现"><a href="#while循环的实现" class="headerlink" title="while循环的实现"></a>while循环的实现</h3><pre class="language-go" data-language="go"><code class="language-go">循环变量初始化<span class="token keyword">for</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> 循环条件表达式 <span class="token punctuation">&#123;</span>    <span class="token keyword">break</span> <span class="token comment">//跳出for循环..</span>  <span class="token punctuation">&#125;</span>  循环操作（语句）  循环变量迭代<span class="token punctuation">&#125;</span></code></pre><ul><li>说明<ol><li>for循环是一个无限循环</li><li>break语句就是跳出for循环</li></ol></li><li>使用上面的while实现完成输出10句“HelloWorld”</li></ul><pre class="language-go" data-language="go"><code class="language-go">i <span class="token operator">:=</span> <span class="token number">10</span><span class="token keyword">for</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> i<span class="token operator">==</span><span class="token number">0</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"HelloWorld \n"</span><span class="token punctuation">)</span>  i<span class="token operator">--</span><span class="token punctuation">&#125;</span></code></pre><h3 id="do-while的实现"><a href="#do-while的实现" class="headerlink" title="do..while的实现"></a>do..while的实现</h3><pre class="language-go" data-language="go"><code class="language-go">循环变量初始化<span class="token keyword">for</span> <span class="token punctuation">&#123;</span>  循环操作（语句）  循环变量迭代  <span class="token keyword">if</span> 循环条件表达式 <span class="token punctuation">&#123;</span>    <span class="token keyword">break</span> <span class="token comment">//跳出for循环..</span>  <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span></code></pre><ul><li><p>说明</p><ol><li>上面的循环是先执行，再判断，因此至少执行一次。</li><li>当循环条件成立后，就会执行break，break就是跳出for循环，结束循环。</li></ol></li><li><p>案例演示</p><p>使用do..while实现10句“HelloWorldd”</p></li></ul><pre class="language-go" data-language="go"><code class="language-go">i <span class="token operator">:=</span> <span class="token number">10</span><span class="token keyword">for</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"HelloWorld \n"</span><span class="token punctuation">)</span>i<span class="token operator">--</span><span class="token keyword">if</span> i<span class="token operator">==</span><span class="token number">0</span> <span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="多重循环控制（重点，难点）"><a href="#多重循环控制（重点，难点）" class="headerlink" title="多重循环控制（重点，难点）"></a>多重循环控制（重点，难点）</h2><h3 id="基本介绍-2"><a href="#基本介绍-2" class="headerlink" title="基本介绍"></a>基本介绍</h3><ol><li>将一个循环放在另一个循环体内，就形成了嵌套循环。在外边的 for 称为外层循环在里面的 for 循环称为内层循环。【建议一般使用两层，最多不要超过3层】</li><li>实质上，嵌套循环就是把内层循环当成外层循环的循环体。当只有内层循环的循环条件为 false 时，才会完全跳出内层循环，才可结束外层的当次循环，开始下一次的循环。</li><li>外层循环次数为 <strong>m</strong> 次，内层为 <strong>n</strong> 次，则内层循环体实际上需要执行 <strong>m*n</strong> 次</li></ol><h3 id="应用案例"><a href="#应用案例" class="headerlink" title="应用案例"></a>应用案例</h3><ol><li>统计 3 个班成绩情况，每个班有 5 名同学，求出各个班的平均分和所有班级的平均分[学生的成绩从键盘输入]</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> classNum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token keyword">var</span> stuNum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">var</span> sum <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token keyword">var</span> score <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token keyword">var</span> totalsum <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> classNum<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> stuNum<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"请输入%d班级的 第%d个学生的成绩： \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>score<span class="token punctuation">)</span>sum <span class="token operator">+=</span> score<span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"第%d个班级的平均分为：%v \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> sum <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">(</span>stuNum<span class="token punctuation">)</span><span class="token punctuation">)</span>totalsum <span class="token operator">+=</span> sum<span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"全体学生的平均分为: %v \n"</span><span class="token punctuation">,</span> totalsum <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>classNum<span class="token punctuation">)</span> <span class="token operator">*</span> stuNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="2"><li>统计三个班及格人数，每个班有5名同学</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> classNum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token keyword">var</span> stuNum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">var</span> sum <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token keyword">var</span> score <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token keyword">var</span> totalsum <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> classNum<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>sum <span class="token operator">=</span> <span class="token number">0.0</span>topNum <span class="token operator">:=</span> <span class="token number">0</span><span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> stuNum<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"请输入%d班级的 第%d个学生的成绩： \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>score<span class="token punctuation">)</span><span class="token keyword">if</span> score <span class="token operator">>=</span> <span class="token number">60</span> <span class="token punctuation">&#123;</span>topNum<span class="token operator">++</span><span class="token punctuation">&#125;</span>sum <span class="token operator">+=</span> score<span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"第%d个班级的及格人数为%d, 平均分为：%v \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> topNum<span class="token punctuation">,</span> sum <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">(</span>stuNum<span class="token punctuation">)</span><span class="token punctuation">)</span>totalsum <span class="token operator">+=</span> sum<span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"全体学生的平均分为: %v \n"</span><span class="token punctuation">,</span> totalsum <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>classNum<span class="token punctuation">)</span> <span class="token operator">*</span> stuNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go请输入1班级的 第1个学生的成绩： 88请输入1班级的 第2个学生的成绩： 88请输入1班级的 第3个学生的成绩： 66请输入1班级的 第4个学生的成绩： 77请输入1班级的 第5个学生的成绩： 88第1个班级的平均分为：81.4 请输入2班级的 第1个学生的成绩： 请输入2班级的 第2个学生的成绩： 9请输入2班级的 第3个学生的成绩： 00请输入2班级的 第4个学生的成绩： 7请输入2班级的 第5个学生的成绩： 6➜  main go run .&#x2F;main.go请输入1班级的 第1个学生的成绩： 59请输入1班级的 第2个学生的成绩： 59请输入1班级的 第3个学生的成绩： 5请输入1班级的 第4个学生的成绩： 69请输入1班级的 第5个学生的成绩： 69第1个班级的及格人数为2, 平均分为：52.2 请输入2班级的 第1个学生的成绩： 99请输入2班级的 第2个学生的成绩： 99请输入2班级的 第3个学生的成绩： 99请输入2班级的 第4个学生的成绩： 99请输入2班级的 第5个学生的成绩： 99第2个班级的及格人数为5, 平均分为：99 请输入3班级的 第1个学生的成绩： 98请输入3班级的 第2个学生的成绩： 98请输入3班级的 第3个学生的成绩： 98请输入3班级的 第4个学生的成绩： 98请输入3班级的 第5个学生的成绩： 98第3个班级的及格人数为5, 平均分为：98 全体学生的平均分为: 83.06666666666666 </code></pre><ol start="3"><li>打印金字塔 【经典案例】</li></ol><p>使用for循环完成下面的案例：请编写一个程序，可以接受一个整数，表示层数，打印出金字塔。</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token comment">/*     * ********   *******      **********/</span><span class="token keyword">var</span> n <span class="token builtin">int</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"请输入层数："</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span> j <span class="token operator">:=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span> k <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">;</span> k<span class="token operator">++</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p><strong>有手就行</strong></p><pre class="language-none"><code class="language-none">请输入层数：3   *  *** *****➜  main go run .&#x2F;main.go请输入层数：5     *    ***   *****  ******* *********➜  main go run .&#x2F;main.go请输入层数：12            *           ***          *****         *******        *********       ***********      *************     ***************    *****************   *******************  ********************* ***********************➜  main </code></pre><ol start="4"><li>打印出九九乘法表</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d*%d=%d\t"</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i <span class="token operator">*</span> j<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">1*1&#x3D;11*2&#x3D;2   2*2&#x3D;41*3&#x3D;3   2*3&#x3D;6   3*3&#x3D;91*4&#x3D;4   2*4&#x3D;8   3*4&#x3D;12  4*4&#x3D;161*5&#x3D;5   2*5&#x3D;10  3*5&#x3D;15  4*5&#x3D;20  5*5&#x3D;251*6&#x3D;6   2*6&#x3D;12  3*6&#x3D;18  4*6&#x3D;24  5*6&#x3D;30  6*6&#x3D;361*7&#x3D;7   2*7&#x3D;14  3*7&#x3D;21  4*7&#x3D;28  5*7&#x3D;35  6*7&#x3D;42  7*7&#x3D;491*8&#x3D;8   2*8&#x3D;16  3*8&#x3D;24  4*8&#x3D;32  5*8&#x3D;40  6*8&#x3D;48  7*8&#x3D;56  8*8&#x3D;641*9&#x3D;9   2*9&#x3D;18  3*9&#x3D;27  4*9&#x3D;36  5*9&#x3D;45  6*9&#x3D;54  7*9&#x3D;63  8*9&#x3D;72  9*9&#x3D;81</code></pre><h2 id="跳转控制语句–break"><a href="#跳转控制语句–break" class="headerlink" title="跳转控制语句–break"></a>跳转控制语句–break</h2><h3 id="看一个具体需求，引出break"><a href="#看一个具体需求，引出break" class="headerlink" title="看一个具体需求，引出break"></a>看一个具体需求，引出break</h3><p>随机生成1-100的一个数，直到生成了99这个数，看看你一共用了几次？</p><ul><li><p>分析：</p><p>编写一个无限循环的控制，不停的生成随机数，当生成了99时，退出这个无限循环 </p></li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token comment">//如何生成随机数</span><span class="token comment">//在Go中需要生成一个随机种子，否则返回的值总是固定的。</span><span class="token comment">//time.Now().Unix():返回一个从1970.1.1 00:00:00到现在的秒数</span>rand<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"n"</span><span class="token punctuation">,</span>rand<span class="token punctuation">.</span><span class="token function">Intn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre><h3 id="break的快速入门案例"><a href="#break的快速入门案例" class="headerlink" title="break的快速入门案例"></a>break的快速入门案例</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> n <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">var</span> count <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span>rand<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token punctuation">&#123;</span>n <span class="token operator">=</span> rand<span class="token punctuation">.</span><span class="token function">Intn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">99</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>count<span class="token operator">++</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"生成99共进行了 %d 次"</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ul><li>运行结果：</li></ul><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go生成99共进行了 26 次➜  main go run .&#x2F;main.go生成99共进行了 76 次➜  main go run .&#x2F;main.go生成99共进行了 15 次➜  main go run .&#x2F;main.go生成99共进行了 15 次➜  main go run .&#x2F;main.go生成99共进行了 25 次</code></pre><h3 id="基本介绍-3"><a href="#基本介绍-3" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>​    break语句用于终止某个语句块的执行，用于中断当前for循环或跳出switch语句。</p><h3 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token punctuation">&#123;</span>  <span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>  <span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>  <span class="token keyword">break</span>  <span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>  <span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span></code></pre><h3 id="以for循环使用break为例，画出示意图"><a href="#以for循环使用break为例，画出示意图" class="headerlink" title="以for循环使用break为例，画出示意图"></a>以for循环使用break为例，画出示意图</h3><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118150052072.png" alt="image-20210118150052072" loading="lazy"></p><h3 id="break的注意事项和使用细节"><a href="#break的注意事项和使用细节" class="headerlink" title="break的注意事项和使用细节"></a>break的注意事项和使用细节</h3><ol><li>break语句出现在多层嵌套的语句块中时，可以<strong>通过标签</strong>指明要终止的是哪一层语句块</li><li>案例：</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> i <span class="token builtin">int</span><span class="token keyword">var</span> j <span class="token builtin">int</span><span class="token keyword">var</span> k <span class="token builtin">int</span><span class="token comment">//lable2:</span><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>lable1<span class="token punctuation">:</span><span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token number">122</span><span class="token punctuation">;</span> k<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> k <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">&#123;</span><span class="token comment">//break // break 默认会跳出最近的for循环</span><span class="token keyword">break</span> lable1<span class="token comment">//break lable2</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i:%d j:%d k:%d \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><ol start="3"><li>对上面案例的说明：<ol><li>break默认会跳出最近的for循环</li><li>break后面可以指定标签，跳出标签对应的for循环</li></ol></li></ol><h3 id="课堂练习"><a href="#课堂练习" class="headerlink" title="课堂练习"></a>课堂练习</h3><ol><li>100以内的数求和，求出 当和 第一次大于20的当前数</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> sum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>sum <span class="token operator">+=</span> i<span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">></span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i:%d \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.goi:6 ➜  main </code></pre><ol start="2"><li>实现登录验证，有三次机会，如果用户名为“张无忌”，密码“888”提示登录成功，否则提示还有几次机会。</li></ol><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> username <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"张无忌"</span><span class="token keyword">var</span> loginname <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token keyword">var</span> loginpwd <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token keyword">var</span> pwd <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"888"</span><span class="token keyword">var</span> count <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token keyword">for</span> <span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> count <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"欢迎登陆，剩余的尝试登录次数错误次数：%d次 \n"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"请输入用户名："</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>loginname<span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"请输入密码："</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>loginpwd<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"已经无法继续登陆了！"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span> loginname <span class="token operator">==</span> username <span class="token operator">&amp;&amp;</span> loginpwd <span class="token operator">==</span> pwd <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"登录成功！"</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>count<span class="token operator">--</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"密码输入错误，剩余尝试次数减一！\n"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go欢迎登陆，剩余的尝试登录次数错误次数：3次 请输入用户名：张三丰请输入密码：888密码输入错误，剩余尝试次数减一！欢迎登陆，剩余的尝试登录次数错误次数：2次 请输入用户名：张无忌请输入密码：888登录成功！</code></pre><h2 id="跳转控制语句-continue"><a href="#跳转控制语句-continue" class="headerlink" title="跳转控制语句-continue"></a>跳转控制语句-continue</h2><h3 id="基本介绍-4"><a href="#基本介绍-4" class="headerlink" title="基本介绍"></a>基本介绍</h3><ul><li>continue语句用于结束本次循环，继续执行下一次循环。</li><li>continue语句出现在多层嵌套的循环语句体中时，可以通过标签指明要跳过的是哪一层循环，这个和前面的break标签的使用的规则一样。</li></ul><h3 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a>基本语法</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token punctuation">&#123;</span>  <span class="token operator">...</span><span class="token operator">...</span>  <span class="token keyword">continue</span>  <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">&#125;</span></code></pre><h3 id="continue流程图"><a href="#continue流程图" class="headerlink" title="continue流程图"></a>continue流程图</h3><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118174458834.png" alt="image-20210118174458834" loading="lazy"></p><h3 id="案例分析continue的使用"><a href="#案例分析continue的使用" class="headerlink" title="案例分析continue的使用"></a>案例分析continue的使用</h3><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118175856162.png" alt="image-20210118175856162" loading="lazy"></p><h3 id="continue的课堂练习"><a href="#continue的课堂练习" class="headerlink" title="continue的课堂练习"></a>continue的课堂练习</h3><ul><li>continue实现：打印1到100之间的奇数（要求使用for循环+continue）</li></ul><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> i<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 31 33 35 37 39 41 43 45 47 49 51 53 55 57 59 61 63 65 67 69 71 73 75 77 79 81 83 85 87 89 91 93 95 97 99 </code></pre><h2 id="跳转控制语句-goto"><a href="#跳转控制语句-goto" class="headerlink" title="跳转控制语句-goto"></a>跳转控制语句-goto</h2><h3 id="goto的基本介绍"><a href="#goto的基本介绍" class="headerlink" title="goto的基本介绍"></a>goto的基本介绍</h3><ol><li>Go语言的goto语句可以无条件地转移到程序中指定的行。</li><li>goto语句通常与条件语句配合使用。可用来实现条件转移，跳出循环体等功能。</li><li>在Go程序设计中一般不主张使用goto语句，以免造成程序流程的混乱，使理解和调试程序都产生困难</li></ol><h3 id="goto基本语法"><a href="#goto基本语法" class="headerlink" title="goto基本语法"></a>goto基本语法</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">goto</span> label <span class="token operator">...</span><span class="token operator">...</span>label<span class="token punctuation">:</span>statement</code></pre><h3 id="goto的流程图"><a href="#goto的流程图" class="headerlink" title="goto的流程图"></a>goto的流程图</h3><p><img src="https://gitee.com/mikutown/pic/raw/master/img/image-20210118180436848.png" alt="image-20210118180436848" loading="lazy"></p><h3 id="快速入门案例"><a href="#快速入门案例" class="headerlink" title="快速入门案例"></a>快速入门案例</h3><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">var</span> n <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token comment">//演示goto的使用</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1"</span><span class="token punctuation">)</span><span class="token keyword">if</span> n <span class="token operator">></span> <span class="token number">20</span> <span class="token punctuation">&#123;</span><span class="token keyword">goto</span> label1<span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok3"</span><span class="token punctuation">)</span>label1<span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok4"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok5"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok6"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok7"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.gook1ok4ok5ok6ok7</code></pre><h2 id="跳转控制语句-return"><a href="#跳转控制语句-return" class="headerlink" title="跳转控制语句-return"></a>跳转控制语句-return</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>return使用在方法或者函数中，表示跳出所在的方法或函数，在讲解函数的时候，会详细的介绍。</p><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> i<span class="token operator">==</span><span class="token number">3</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"哇哇"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-none"><code class="language-none">➜  main go run .&#x2F;main.go哇哇 1哇哇 2</code></pre><ul><li>说明<ol><li>如果return是在普通的函数，则表示跳出该函数，即不再执行函数中return后面代码，也可以理解成终止函数。</li><li>如果return是在main函数，表示终止main函数，也就是说终止程序。</li></ol></li></ul>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;Go语言の程序流程控制&quot;&gt;&lt;a href=&quot;#Go语言の程序流程控制&quot; class=&quot;headerlink&quot; title=&quot;Go语言の程序流程控制&quot;&gt;&lt;/a&gt;Go语言の程序流程控制&lt;/h1&gt;&lt;h2 id=&quot;程序流程控制介绍&quot;&gt;&lt;a href=&quot;#程序流程控制介绍&quot; class=&quot;headerlink&quot; title=&quot;程序流程控制介绍&quot;&gt;&lt;/a&gt;程序流程控制介绍&lt;/h2&gt;&lt;p&gt;在程序中，程序运行的流程控制决定程序是如何执行的，是我们必须掌握的，主要有三大流程控制语句。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;顺序控制&lt;/li&gt;
&lt;li&gt;分支控制&lt;/li&gt;
&lt;li&gt;循环控制&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    
    <category term="Go" scheme="https://mikutown.gitee.io/blog/tags/Go/"/>
    
  </entry>
  
</feed>
